[
    {
        "id": "2c4527dad914ec1c",
        "type": "tab",
        "label": "Flow 4",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "b0c6d4cf1e903799",
        "type": "tab",
        "label": "Flow 1",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "32ccf302392ab325",
        "type": "tab",
        "label": "create versioned crosslinks",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "8ee14c6a72c20a1f",
        "type": "tab",
        "label": "CM Notification",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "fca036ab5aa23301",
        "type": "subflow",
        "name": "Retrieve Settings",
        "info": "Retrieve an automation configuartaion object attachment from vault, or from Redis if alread exist, if not existing, it will be stored in Redis. \r\n\r\n### Node information\r\n:Initial Release (string): With building blocks version x.x.x\r\n:Description (string): Retrieve an automation configuartaion object attachment from vault, or from Redis if alread exist, if not existing, it will be stored in Redis. \r\n\r\n### Inputs\r\n: args.settings_name (string) : *(optional)* the name of the automation configuartaion object in vault, if not provided, the name '-client_id-__settings' will be used. \r\n: args.attachment_name (string) : *(optional)* the name of the object attachment in vault, it has to be a .json file, defaults to 'settings.json'. \r\n: args.keep (boolean) : *(optional)* If **false**, delete the args object. Defaults to **false**.\r\n: args.expire (integer): *(optional)* Number of seconds after redis deletes the topic automatically. Default is 24h.\r\n\r\n### Outputs\r\n1. Success\r\n: payload (object): attachment converted to an object/array\r\n\r\n1. Failure\r\n: payload (object): Error message on channel 2\r\n",
        "category": "Veeva Vault",
        "in": [
            {
                "x": 140,
                "y": 40,
                "wires": [
                    {
                        "id": "641eac4e6a3a1072"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 1800,
                "y": 480,
                "wires": [
                    {
                        "id": "9ffbd2aa8e3b35c4",
                        "port": 0
                    },
                    {
                        "id": "2fa9a7a10b10782e",
                        "port": 0
                    }
                ]
            },
            {
                "x": 1410,
                "y": 380,
                "wires": [
                    {
                        "id": "434ac0347080cde9",
                        "port": 0
                    },
                    {
                        "id": "80dbe2c3859434ef",
                        "port": 1
                    },
                    {
                        "id": "74e13d47f28fa1de",
                        "port": 1
                    },
                    {
                        "id": "bd54ec6a24f9d859",
                        "port": 1
                    },
                    {
                        "id": "e20436251156a60f",
                        "port": 1
                    }
                ]
            }
        ],
        "env": [],
        "meta": {},
        "color": "#ff0000",
        "inputLabels": [
            "get settings"
        ],
        "outputLabels": [
            "Success",
            "Error"
        ],
        "icon": "node-red/white-globe.svg"
    },
    {
        "id": "4e5b03000136f2c8",
        "type": "subflow",
        "name": "Subflow 1",
        "info": "",
        "in": [],
        "out": []
    },
    {
        "id": "5267b0000f591768",
        "type": "subflow",
        "name": "Update Vers",
        "info": "",
        "category": "Veeva Vault",
        "in": [
            {
                "x": 100,
                "y": 180,
                "wires": [
                    {
                        "id": "1acf79d7de254fd3"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 1490,
                "y": 40,
                "wires": [
                    {
                        "id": "32a3990622cb2699",
                        "port": 0
                    },
                    {
                        "id": "42dce4eaa0da0a7f",
                        "port": 0
                    }
                ]
            },
            {
                "x": 1370,
                "y": 500,
                "wires": [
                    {
                        "id": "3bc5a284b042a731",
                        "port": 1
                    }
                ]
            }
        ],
        "env": [],
        "meta": {},
        "color": "#Ff0000",
        "inputLabels": [
            "Update Version"
        ],
        "outputLabels": [
            "return result",
            "Error"
        ],
        "icon": "font-awesome/fa-angle-double-up"
    },
    {
        "id": "1548160fce6f102c",
        "type": "subflow",
        "name": "Input Form",
        "info": "Build a generic input form.\n\n### Inputs\n\n: title (string): The title of the input form.\n: description (string): The main description rendered above the selection table.\n: type (string): The input type (e.g. checkbox, radio), if empty or false, the table is a plain output table.\n: tableheader (object): An object with a list of column names (see below for details).\n: dataarray (array of objects): Table data (see below for details), with checked=true a row can be preselected.\n: flow (string): The flow name that will be called on form submit. The flow needs to listen for POST request on **/nodes/\\<flow\\>**\n: hiddenfields (array of objects): Additional parameters that will be sent to the target flow (see below for details).\n: httpcalls (positive Integer): if provided, a 'go back' button is added which goes back the given number of steps in window history.\n: NOTE (na): strings provided for description, tableheader and dataarray will not be escaped, i.e. html code can be added (e.g. links and formatting), the creator of the automation must ensure that not unintended code-injection occurs.\n\n### Output\n: payload (html): The input page that can be returned to the browser.\n\n### Details\n\nThe tableheader is an object containing a columns field that contains a list of header names.\n\n    tableheader = {\n            columns: [\n                \"column 1 header\",\n                \"column 2 header\",\n                \"column 3 header\"\n            ]\n    }\n\nDataarray is an array of objects that contains the row data.\n\n    dataarray = [\n        {\n            selection: \"the value that will be posted on form submit when row 1 was selected.\"\n            columns: [\n                \"value for column 1, row 1\",\n                \"value for column 2, row 1\",\n                \"value for column 3, row 1\"\n            ]\n            checked: true\n        },\n        {\n            selection: \"the value that will be posted on form submit when row 2 was selected.\"\n            columns: [\n                \"value for column 1, row 2\",\n                \"value for column 2, row 2\",\n                \"value for column 3, row 2\"\n            ]\n        },\n        {\n            selection: \"the value that will be posted on form submit when row 3 was selected.\"\n            columns: [\n                \"value for column 1, row 3\",\n                \"value for column 2, row 3\",\n                \"value for column 3, row 3\"\n            ]\n        }\n    ]\n\nhiddenfields is an array of objects that contains name / value pairs with extra parameters for the target flow.\n\n    hiddenfields = [\n        {\n            name: \"name of the first parameter\",\n            value: \"value of the first parameter\"\n        },\n        {\n            name: \"name of the second parameter\",\n            value: \"value of the second parameter\"\n        }\n    ]",
        "category": "Veeva Vault",
        "in": [
            {
                "x": 80,
                "y": 160,
                "wires": [
                    {
                        "id": "9376135244af7288"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 1020,
                "y": 160,
                "wires": [
                    {
                        "id": "0efcb5b4634a5b92",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "meta": {},
        "color": "#F3B567",
        "icon": "font-awesome/fa-file-text-o"
    },
    {
        "id": "2ece8d9b40a70275",
        "type": "subflow",
        "name": "Input Form (3)",
        "info": "Build a generic input form.\n\n### Inputs\n\n: title (string): The title of the input form.\n: description (string): The main description rendered above the selection table.\n: type (string): The input type (e.g. checkbox, radio), if empty or false, the table is a plain output table.\n: tableheader (object): An object with a list of column names (see below for details).\n: dataarray (array of objects): Table data (see below for details), with checked=true a row can be preselected.\n: flow (string): The flow name that will be called on form submit. The flow needs to listen for POST request on *\\<flow\\>**\n: hiddenfields (array of objects): Additional parameters that will be sent to the target flow (see below for details).\n: httpcalls (positive Integer): if provided, a 'go back' button is added which goes back the given number of steps in window history.\n: unescaped (boolean): defaults to false, if true, strings provided for description, tableheader and dataarray will not be escaped, i.e. html code can be added (e.g. links and formatting).\n\n### Output\n: payload (html): The input page that can be returned to the browser.\n\n### Details\n\nThe tableheader is an object containing a columns field that contains a list of header names.\n\n    tableheader = {\n            columns: [\n                \"column 1 header\",\n                \"column 2 header\",\n                \"column 3 header\"\n            ]\n    }\n\nDataarray is an array of objects that contains the row data.\n\n    dataarray = [\n        {\n            selection: \"the value that will be posted on form submit when row 1 was selected.\"\n            columns: [\n                \"value for column 1, row 1\",\n                \"value for column 2, row 1\",\n                \"value for column 3, row 1\"\n            ]\n            checked: true\n        },\n        {\n            selection: \"the value that will be posted on form submit when row 2 was selected.\"\n            columns: [\n                \"value for column 1, row 2\",\n                \"value for column 2, row 2\",\n                \"value for column 3, row 2\"\n            ]\n        },\n        {\n            selection: \"the value that will be posted on form submit when row 3 was selected.\"\n            columns: [\n                \"value for column 1, row 3\",\n                \"value for column 2, row 3\",\n                \"value for column 3, row 3\"\n            ]\n        }\n    ]\n\nhiddenfields is an array of objects that contains name / value pairs with extra parameters for the target flow.\n\n    hiddenfields = [\n        {\n            name: \"name of the first parameter\",\n            value: \"value of the first parameter\"\n        },\n        {\n            name: \"name of the second parameter\",\n            value: \"value of the second parameter\"\n        }\n    ]",
        "category": "Veeva Vault",
        "in": [
            {
                "x": 80,
                "y": 160,
                "wires": [
                    {
                        "id": "e1cf81e0db9ec340"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 1020,
                "y": 160,
                "wires": [
                    {
                        "id": "2af9888f9639bac2",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "meta": {
            "type": "brave-input-form"
        },
        "color": "#FFCC66",
        "icon": "font-awesome/fa-file-text-o"
    },
    {
        "id": "391f8570abc63add",
        "type": "subflow",
        "name": "Create Single Document Version",
        "info": "Add a new draft version of an existing document.\r\n\r\n### Node information\r\n:Vault API version (string): 22.3\r\n:Initial Release (string): With building blocks version 3.5.0\r\n:Description (string): You can choose to either use the existing source file, or a new source file. These actions will increase the documentâ€™s minor version number.\r\n\r\n### Inputs\r\n\r\n: vault_api (string) :  The API endpoint for the Vault.\r\n: session_id (string) :  A Veeva Vault session id.\r\n: args.doc_id (string) : The ID of the document that should be versioned. \r\n: args.keep (boolean) :If `TRUE`, the arguments (in args) are kept after building block execution. If `FALSE` , the arguments will be deleted.\r\n\r\n### Body Parameter\r\n\r\n: description__v (string) : (Optional) Add a Version Description for the new draft version.\r\n\r\nIn case of same content as in previous version:\r\n\r\n: createDraft (string) : Set to \"latestContent\" to create a new draft version from the existing document with the same content in the Vault. This does not require uploading a file. \r\n\r\nIn case of new content:\r\n\r\n: createDraft (string) : Set to \"uploadedContent\" to create a new draft version by putting the content into the file parameter.\r\n: file (string) : Use this parameter to include the new document content. Use the following structure.\r\n        \"file\": {\r\n            \"value\": <content to be in the new file>,\r\n            \"options\": {\r\n                \"filename\": <source file name to appear in the file details>\r\n            }\r\n        }\r\n\r\n### Outputs\r\n\r\n\r\n1. Success\r\n: payload (object): The response shows the new version numbers.\r\n       {\r\n            responseStatus: \"SUCCESS\"\r\n            \"responseMessage\": \"New draft successfully created.\",\r\n            \"major_version_number__v\": <new major version number>,\r\n            \"minor_version_number__v\": <new minor version number>\r\n       }\r\n\r\n\r\n\r\n2. Failure\r\n: payload (object): An object containing the error messages.\r\n        {\r\n            responseStatus: \"FAILURE\"\r\n            errors: <array>\r\n                 0: <object>\r\n                    type: <type of overall error>\r\n                    message: <overall error message>\r\n        }\r\n",
        "category": "Veeva Vault",
        "in": [
            {
                "x": 320,
                "y": 140,
                "wires": [
                    {
                        "id": "2b68984ccd2285e1"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 1320,
                "y": 160,
                "wires": [
                    {
                        "id": "d33a2ba03fa17cab",
                        "port": 0
                    },
                    {
                        "id": "615a0b6d3689b73f",
                        "port": 0
                    }
                ]
            },
            {
                "x": 1310,
                "y": 220,
                "wires": [
                    {
                        "id": "21fe8eb40f454e6a",
                        "port": 1
                    }
                ]
            }
        ],
        "env": [],
        "meta": {
            "type": "brave-create-single-document-version"
        },
        "color": "#FFCC66",
        "outputLabels": [
            "Success",
            "Failure"
        ],
        "icon": "node-red/parser-csv.svg"
    },
    {
        "id": "2a24cd366adb05e3",
        "type": "subflow",
        "name": "Obj User Act.",
        "info": "",
        "category": "Veeva Vault",
        "in": [
            {
                "x": 120,
                "y": 160,
                "wires": [
                    {
                        "id": "be3b0e3f01041787"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 1180,
                "y": 160,
                "wires": [
                    {
                        "id": "bb373d0f054efbbd",
                        "port": 0
                    }
                ]
            },
            {
                "x": 1130,
                "y": 220,
                "wires": [
                    {
                        "id": "bb373d0f054efbbd",
                        "port": 1
                    }
                ]
            }
        ],
        "env": [],
        "meta": {},
        "color": "#F3B567",
        "inputLabels": [
            "Execute Object User Action"
        ],
        "outputLabels": [
            "Return Result",
            "Error"
        ],
        "icon": "font-awesome/fa-step-forward"
    },
    {
        "id": "594e48a4aa27c6b6",
        "type": "subflow",
        "name": "Redis queue (2)",
        "info": "Save a node-red object to the redis database and restore later. \r\n\r\n### Node information\r\n:Initial Release (string): With building blocks version x.x.x\r\n:Description (string): Save a node-red object to the redis database and restore later.\r\n\r\n### Inputs\r\n: args.method (string) : *(required)* **SET** to write to redis as a single object, **GET** to read a single object from redis, **RPUSH** to append or create a list of objects in redis, **LRANGE** to retrieve list item objects from redis, use args.topic for the topics and provide the range as array with 0 based start and end (i.e. use [0, -1] for all, negative values count from end), **DELETE** to delete the topic from redis. \r\n: args.topic (string)  : *(required)* A unique identifier, must be the same for the write and read step for a queued object.\r\n: args.keep_queue (boolean) : *(optional)* Only when reading. If **true**, keep the queued message for later. If **false**, delete the queue from redis. Defaults to **true**.\r\n: args.keep (boolean) : *(optional)* If **false**, delete the args object. Defaults to **false**.\r\n: args.expire (integer): *(optional)* Number of seconds after redis deletes the topic automatically. Default is to never expire.\r\n: payload (object)     : Only when writing. A node red data object.\r\n\r\n### Outputs\r\n1. Read Success\r\n: payload (object): The object retrieved from redis on channel 1\r\n\r\n1. Write Success\r\n: payload (string): 'OK' on channel 1\r\n\r\n1. Failure\r\n: payload (object): Error message on channel 2\r\n",
        "category": "Veeva Vault",
        "in": [
            {
                "x": 80,
                "y": 320,
                "wires": [
                    {
                        "id": "793f7e54dbae0543"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 1720,
                "y": 340,
                "wires": [
                    {
                        "id": "adfc665125823cbb",
                        "port": 0
                    },
                    {
                        "id": "54c4e178e45aea62",
                        "port": 0
                    }
                ]
            },
            {
                "x": 1640,
                "y": 160,
                "wires": [
                    {
                        "id": "742929adec7acddf",
                        "port": 0
                    },
                    {
                        "id": "204e59c63465c1c8",
                        "port": 1
                    }
                ]
            }
        ],
        "env": [],
        "meta": {
            "type": "brave-redis-queue",
            "desc": "saves and retrieves the payload to redis using args.topic as dientifier"
        },
        "color": "#FFCC66",
        "inputLabels": [
            "brave-redis-que"
        ],
        "outputLabels": [
            "Success",
            "Failure"
        ],
        "icon": "node-red/arrow-in.svg"
    },
    {
        "id": "743f388ad8cf50d6",
        "type": "subflow",
        "name": "Update Vers",
        "info": "",
        "category": "Veeva Vault",
        "in": [
            {
                "x": 100,
                "y": 180,
                "wires": [
                    {
                        "id": "2909707aec157562"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 1490,
                "y": 40,
                "wires": [
                    {
                        "id": "9ad079406a9f4872",
                        "port": 0
                    },
                    {
                        "id": "5fee046b5612fe4c",
                        "port": 0
                    }
                ]
            },
            {
                "x": 1370,
                "y": 500,
                "wires": [
                    {
                        "id": "53be5d9e89b2a160",
                        "port": 1
                    }
                ]
            }
        ],
        "env": [],
        "meta": {},
        "color": "#Ff0000",
        "inputLabels": [
            "Update Version"
        ],
        "outputLabels": [
            "return result",
            "Error"
        ],
        "icon": "font-awesome/fa-angle-double-up"
    },
    {
        "id": "f5e72a5d369ff484",
        "type": "subflow",
        "name": "Login (2)",
        "info": "Login to Veeva Vault and create a session id\n\nThis node checks if there is a Veeva Vault session id in the cookies and returns it.\nOtherwise, there are three authentication stragies to create a new session id:\n\n1. **Retrieve the current session id from the Veeva Vault UI**\n\n   This only works, if the flow runs embedded in the Veeva Vault UI and the \"post session\"\n   feature was enabled for the web action. The strategy supports delegated sessions as well.\n\n1. **Login via Single-Sign-On**\n\n   This only works for SSO enabled accounts. The node redirects to the Azure AD authorization\n   endpoint, which will authenticate the user and come back to this node with an identity\n   token. The identity token is then used to create a Veeva Vault session id, the session id\n   is stored in the cookies and the original flow will be restartet.\n\n1. **Login via username and password**\n\n   This only works for basic accounts with a password (i.e. non-SSO).\n\n### Inputs\n\n: payload.vault_domain (string): The domain for the target vault.\n: *payload.sso* (any): (Optional) Use the SSO authentication strategy. The value of this parameter is ignored and can even be empty. If this parameter is missing and there is no username and password, the session will be retrieved from the Veeva Vault UI.\n: *payload.username* (string): (Optional) The username for a basic account. If both, username and password are provides, login via username and password will be performed.\n: *payload.password* (string): (Optional) The password for a basic account. If both, username and password are provides, login via username and password will be performed.\n: *client_id* (string): (Optional) An identifier for the Veeva Vault API for diagnosis. If unset, the building block will set the client id to \"BRAVE Automation\". \n\n### Outputs\n\n: session_id (string): An active session id for the target vault. The session id will also be stored in a cookie, so that it will be re-used for the lifetime of the session.\n: vault_api (string): The REST API endpoint for the target vault in the format **https&colon;//&lt;vault_domain&gt;/api/**. Note, that the value does not include a version for the Vault API.\n: client_id (string): The specified client id or \"BRAVE Automation\" if unspecified.\n: credentials (object): Multi-session support. The key is **vault_domain** and it contains an object with **vault_api** and **session_id** as described above for each authenticated Vault.\n\n### Details\n\nThe following cookies will be set and can be used by flows. Only the last authenticated Vault\nvia SSO or Vault UI will be stored. Authentications via username and password will not be\nrecorded in cookies.\n\n: vault_domain  (string): The vault domain as specified in the initial call.\n: session_id (string): The current active session id.\n: user_id (number): The id of the current user.\n: vault_id (number): The id of the target vault.\n",
        "category": "Veeva Vault",
        "in": [
            {
                "x": 80,
                "y": 120,
                "wires": [
                    {
                        "id": "0d358bfc8dec99b9"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 1780,
                "y": 100,
                "wires": [
                    {
                        "id": "c5cb49688452c535",
                        "port": 0
                    },
                    {
                        "id": "c6034b65dd7643c5",
                        "port": 0
                    }
                ]
            },
            {
                "x": 1780,
                "y": 580,
                "wires": [
                    {
                        "id": "fbdf547da8acaa84",
                        "port": 0
                    },
                    {
                        "id": "6a0d51294183358f",
                        "port": 1
                    },
                    {
                        "id": "dfe9410a2a28ec7b",
                        "port": 1
                    }
                ]
            }
        ],
        "env": [],
        "meta": {
            "type": "brave-login"
        },
        "color": "#FFCC66",
        "outputLabels": [
            "Success",
            "Failure"
        ],
        "icon": "font-awesome/fa-sign-in"
    },
    {
        "id": "281da2542719f7ce",
        "type": "group",
        "z": "fca036ab5aa23301",
        "name": "get settings from vault",
        "style": {
            "fill": "#ffcf3f",
            "label": true,
            "color": "#777777",
            "label-position": "n"
        },
        "nodes": [
            "f2e66c06b9a9ba35",
            "3cba36dbc4be0431",
            "781204f40703ed7f",
            "bd54ec6a24f9d859",
            "74e13d47f28fa1de",
            "80dbe2c3859434ef",
            "862007a1a92de19b"
        ],
        "x": 154,
        "y": 339
    },
    {
        "id": "65512d829ddbe85d",
        "type": "group",
        "z": "fca036ab5aa23301",
        "name": "get settings from Redis",
        "style": {
            "fill": "#ffcf3f",
            "label": true,
            "label-position": "n",
            "color": "#777777"
        },
        "nodes": [
            "e20436251156a60f",
            "6adaa8b423a4321e",
            "78aa02b86a2d9b5f"
        ],
        "x": 1414,
        "y": 99
    },
    {
        "id": "a6858237518cf424",
        "type": "group",
        "z": "fca036ab5aa23301",
        "name": "get settings from Redis",
        "style": {
            "fill": "#ffcf3f",
            "label": true,
            "label-position": "n",
            "color": "#777777"
        },
        "nodes": [
            "be87b21f1e94e2d6",
            "c0e33d0da64adf97"
        ],
        "x": 354,
        "y": 599
    },
    {
        "id": "1adf9a7b09d9ec3e",
        "type": "group",
        "z": "2c4527dad914ec1c",
        "name": "Check validity of clinical study",
        "style": {
            "fill": "#bfdbef",
            "label": true
        },
        "nodes": [
            "d1295ce2fe20155c",
            "0d04e49d871e24b5",
            "afd56f63ba84e193",
            "89aade3fd4849cf3",
            "1adcfc18ea193483",
            "e52a4fe1e67ec89d",
            "221e6a37d7438241",
            "9af30450c6112b17",
            "4eedfa2c0f6d5dca",
            "5543a07a1d0be52e",
            "92a36617cc355cc4",
            "8706a9e4bba62613",
            "427c9dafee3eee2e",
            "ace69593860de565",
            "00fdcb9a7b7f71e2",
            "05a3105881a36074",
            "7d76dabf1f75f67d",
            "ec1a25f9388786d7",
            "ecd1f9618322385c",
            "413d0d4919352499",
            "43a8f21c944f48c2",
            "ad3d43f8c209bac3",
            "de5518a5c2dcf534",
            "fc41e3958fc57881",
            "e1528945b7b35bc5",
            "7df34bf278de232c",
            "a95b3eb8a3ea40dd"
        ],
        "x": 14,
        "y": 399,
        "w": 2752,
        "h": 282
    },
    {
        "id": "4baa5eae6bccba26",
        "type": "group",
        "z": "2c4527dad914ec1c",
        "name": "Show a generic error message",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "0b4394d395558302",
            "4b18021ceb965cb3",
            "6be1c8357935ded8",
            "c5912362c452ad8c"
        ],
        "x": 4404,
        "y": 379,
        "w": 402,
        "h": 122
    },
    {
        "id": "8fe7fba9478ad6c8",
        "type": "group",
        "z": "2c4527dad914ec1c",
        "name": "Show success message",
        "style": {
            "fill": "#e3f3d3",
            "label": true
        },
        "nodes": [
            "38c9c876683df642",
            "6e98ee16de826386",
            "25164fe0afec3d7a"
        ],
        "x": 4404,
        "y": 539,
        "w": 402,
        "h": 82
    },
    {
        "id": "cf3f4fcb8dc2573a",
        "type": "group",
        "z": "2c4527dad914ec1c",
        "name": "Prepare the result page",
        "style": {
            "fill": "#bfdbef",
            "label": true
        },
        "nodes": [
            "c65594f62b66ba6c",
            "6e441cc056e5c53b",
            "c3df4ccf459db19f",
            "e3f83d8d0cbdf4a4",
            "e0c1393bdfa1865e",
            "908a3e8352298a3f",
            "8a97172448094a63",
            "dd8e0450df6db078",
            "21345e0676e23ae3",
            "133e012f4802a9b2",
            "82a34d65142c7d1e",
            "25277f4f1f618498",
            "e465505a38c646ab",
            "e4d80dada213b37f",
            "dc179569b9799870",
            "b286a0092acfd283",
            "3875450d706f6724",
            "f913b67552863c67",
            "866256d61e7910ed",
            "1f36f70c88f794b2",
            "2a5f44b8d1cb431c",
            "6d6546d966b508bd"
        ],
        "x": 3064,
        "y": 179,
        "w": 1292,
        "h": 382
    },
    {
        "id": "025d03bac4a1308c",
        "type": "group",
        "z": "2c4527dad914ec1c",
        "name": "Amendment Event",
        "style": {
            "label": true
        },
        "nodes": [
            "4efce2b6e1fdfe62",
            "77a95a28986a8bfc",
            "e1b7d81d3cd06a62"
        ],
        "x": 8,
        "y": 2133,
        "w": 1164,
        "h": 1274
    },
    {
        "id": "b0647a0e3610ba68",
        "type": "group",
        "z": "2c4527dad914ec1c",
        "name": "Initial Event",
        "style": {
            "label": true
        },
        "nodes": [
            "e40195be7e014804",
            "c3cc3bc6b0b0ab38"
        ],
        "x": 8,
        "y": 953,
        "w": 1044,
        "h": 994
    },
    {
        "id": "b21a8850dadd4a12",
        "type": "group",
        "z": "2c4527dad914ec1c",
        "name": "Application",
        "style": {
            "label": true
        },
        "nodes": [
            "f4492470635578ae",
            "fa41432bb855af38",
            "213c3efa9b282b39",
            "23b14172f95f39ef",
            "0342ae8990d4e5d0",
            "3b0d3c603c0d1fd6",
            "e1b7d959e12be6a2"
        ],
        "x": 1208,
        "y": 933,
        "w": 1764,
        "h": 2814
    },
    {
        "id": "a7a8a74946229b91",
        "type": "group",
        "z": "2c4527dad914ec1c",
        "name": "Main stem",
        "style": {
            "fill": "#bfdbef",
            "label": true
        },
        "nodes": [
            "4e0728471558a67e",
            "0b5e993385abdbaf",
            "b3626201f7983f76",
            "cd510823c811d7c4",
            "64a2d7cc0f15b947",
            "19967e71170ecd73",
            "d046d19b53dad465",
            "3d2f1bb1ca763691",
            "115701a7b00b4c46",
            "1f4c810a5b6057fd",
            "120256ee19425fdd",
            "a69633711211e86e",
            "f8af263b4577eb60",
            "bfd4c5ba48630dad",
            "806db9d17f47a16f",
            "6517fc922a6908a8",
            "edf88ee6c1a5aee3",
            "ec46849d03dc97ee",
            "4b8eadec1c5671af",
            "0e57f11a59848a31",
            "eefb2eeedd415df4",
            "8bda251317c47732"
        ],
        "x": 14,
        "y": 699,
        "w": 2952,
        "h": 222
    },
    {
        "id": "5921be1c98a95c97",
        "type": "group",
        "z": "32ccf302392ab325",
        "name": "",
        "style": {
            "label": true
        },
        "nodes": [
            "c7efaadd103f03ab",
            "112ad226549927de",
            "c96ca9b21d127acd",
            "064dfbf497fd7675",
            "2306fc661c0fce8f",
            "1ff3562c7836d257",
            "f41131fa21eadd1a",
            "1f8f94a681476572",
            "9bb271194bb04e59",
            "0b253214fbe672c6"
        ],
        "x": 2568,
        "y": 713,
        "w": 824,
        "h": 568
    },
    {
        "id": "fd69ea7b671c7ec8",
        "type": "group",
        "z": "32ccf302392ab325",
        "name": "Get all Enrichments",
        "style": {
            "label": true,
            "label-position": "n",
            "color": "#777777"
        },
        "nodes": [
            "15bec87d7432aaf9",
            "e76b320db8a24dcf",
            "41304ce80e23ede0",
            "4d78ed85bdabae1a",
            "bbf1e46794a4a441",
            "5799f448191fa7c7",
            "dc75f7a699c004da",
            "60d92ecbd137ffc5"
        ],
        "x": 654,
        "y": 1339,
        "w": 1684,
        "h": 1048
    },
    {
        "id": "627cc5986aa125f3",
        "type": "group",
        "z": "32ccf302392ab325",
        "name": "Get instructions and vault logins",
        "style": {
            "label": true,
            "label-position": "n",
            "color": "#777777"
        },
        "nodes": [
            "50739f124cb8563b",
            "56418a5f1c01fec3",
            "8dfbdc55ff62d17e",
            "429ca0f28c6eb552"
        ],
        "x": 648,
        "y": 133,
        "w": 1764,
        "h": 814
    },
    {
        "id": "1acaa4d09a25d8a0",
        "type": "group",
        "z": "32ccf302392ab325",
        "name": "Get modified/created source documents/versions and related xlinks",
        "style": {
            "label": true,
            "label-position": "n",
            "color": "#777777"
        },
        "nodes": [
            "81e9aec5f845a51a",
            "efd44d58605fc3aa"
        ],
        "x": 648,
        "y": 953,
        "w": 1724,
        "h": 374
    },
    {
        "id": "56bca0108c880039",
        "type": "group",
        "z": "32ccf302392ab325",
        "name": "create xlink, update, approve, create version",
        "style": {
            "label": true,
            "stroke": "#a4a4a4",
            "label-position": "n",
            "color": "#777777"
        },
        "nodes": [
            "4c2cd057f4d612dd",
            "0d0607b42a600041",
            "b7487ff351fb7a6b",
            "b3ee3c13b1a0f8e6",
            "b587d10aedda5fcd",
            "386b3e9297c89e33",
            "ce482cbccec6ba9a",
            "8cea64c69e31787e",
            "991ef6455c72733e",
            "bd9bf511fd82441b",
            "095d7fef212c31e5",
            "d8b66721dacadcc8",
            "ef776e6ae30994ac",
            "d496576295362680",
            "020992df4203b447",
            "f919a01e47ab17d2",
            "d25530bf3a20932d",
            "4bbfae722449baaa",
            "23aca15730715d76",
            "39f91ba891be52fb",
            "845f6eae17b50a7d",
            "a2f3b0281c0886fa",
            "9c4edc1d36acfd39",
            "68f29b259a54ab24"
        ],
        "x": 654,
        "y": 2413,
        "w": 3658,
        "h": 1108
    },
    {
        "id": "bde86bab3f2c1ca4",
        "type": "group",
        "z": "32ccf302392ab325",
        "name": "Get all xlink versions matching to source documents/versions",
        "style": {
            "fill": "#ffcf3f",
            "label": true,
            "label-position": "n",
            "color": "#3f3f3f"
        },
        "nodes": [
            "e3c178d7b608883b",
            "fad0a5373258034c",
            "447a4057f42cad0a",
            "95b08c0e9b4188a1"
        ],
        "x": 2454,
        "y": 2219,
        "w": 822,
        "h": 102
    },
    {
        "id": "5e4f497cc3eacc9e",
        "type": "group",
        "z": "2c4527dad914ec1c",
        "name": "Records",
        "style": {
            "label": true
        },
        "nodes": [
            "1ad0402c6eac4a81",
            "4a932e6034254d18",
            "eb7523f05c7170f0",
            "0cad5663dc4721fe",
            "2258a8ecc4d06406",
            "7dbb9c6933b0187b"
        ],
        "x": 3028,
        "y": 753,
        "w": 1324,
        "h": 2528
    },
    {
        "id": "e40195be7e014804",
        "type": "group",
        "z": "2c4527dad914ec1c",
        "g": "b0647a0e3610ba68",
        "name": "Create new clinical study event",
        "style": {
            "fill": "#ffffbf",
            "label": true
        },
        "nodes": [
            "127f606ce23423fd",
            "09acfdce79ce877b",
            "1125ca63681257a8",
            "e81f7d4c11cd8c6f",
            "f57054fb3844241f",
            "e305967f4ea2cf17",
            "780bdf10996d5dd7",
            "9059fa56b54821ca",
            "52e92467706337e4",
            "5eaedb53b36ae3ba",
            "643f9f0f66032d88",
            "99b2acd236550eec",
            "53f08c6da7acde3e",
            "3916d23c39b50211",
            "08dcb3332d416a46",
            "20c245ddd5dc2999",
            "bda7c5f6b4546054",
            "cb1e931c1520a0a2",
            "e9daca4394c17dc9",
            "43b7bc103c77a4ea",
            "7c44e24c5afad6c7",
            "9430be7746db98ea",
            "d982ee4112ccfb11",
            "8ed76db6b0e4920e",
            "f8390b9b8f960aab",
            "fb7f6db22a82a5ce",
            "1d834a7935beee6b",
            "05d9e73aaf4a53f9",
            "8c22964409200907",
            "69470779e142a87f",
            "73d1b1cc1b17b0a8",
            "8fde7159b4debb7a",
            "ac182d7b69f0f86a",
            "8cfa0940562a9266",
            "fd63e95672fb41ae",
            "eadb4a6f7d0dd4bc",
            "1e68c40c7d454e51",
            "b2a1451aac0e94f7",
            "5872344ca0191238"
        ],
        "x": 34,
        "y": 1199,
        "w": 972,
        "h": 722
    },
    {
        "id": "f4492470635578ae",
        "type": "group",
        "z": "2c4527dad914ec1c",
        "g": "b21a8850dadd4a12",
        "name": "Create Applications",
        "style": {
            "fill": "#e3f3d3",
            "label": true
        },
        "nodes": [
            "9bc8ca63c489f130",
            "0e58817144b122ca",
            "beaeeede45688d8f",
            "0f325294ff3deaf7",
            "352697d0f9b3b340",
            "5ee56af170f12036",
            "19e4cc04ce3ff2f3",
            "5569a704502d347e",
            "5f8c31a0b75604dc",
            "aeba6128dc0f5605",
            "26ef94169b200292",
            "c50f180f6dc5b7a7",
            "1f9e9253f0f4ed09",
            "bcdb50eb60cfc78d",
            "c87aa0067f73b660",
            "f7a46ec9815bec9e",
            "c316263822a4e043",
            "c526a83f886ee66c",
            "a710fd5c93105bef",
            "d43cbcb95adf6c56",
            "ee0a41c3e261db60"
        ],
        "x": 1234,
        "y": 3059,
        "w": 972,
        "h": 382
    },
    {
        "id": "c3cc3bc6b0b0ab38",
        "type": "group",
        "z": "2c4527dad914ec1c",
        "g": "b0647a0e3610ba68",
        "name": "Check for existing CTA Application Event",
        "style": {
            "fill": "#ffffbf",
            "label": true
        },
        "nodes": [
            "f14722cf1050e3b6",
            "e1677939b436f9e1",
            "ace8a989e5fa795d",
            "c6e7a2c0aa81952d",
            "91a1c661f7629edc",
            "82f3a1c97692584d",
            "5301adb11c7b2c3a",
            "bdf854e2d1181a35",
            "a21361800a8e5222",
            "c83461d786b5f389",
            "3758841ab014d3be"
        ],
        "x": 34,
        "y": 979,
        "w": 992,
        "h": 182
    },
    {
        "id": "fa41432bb855af38",
        "type": "group",
        "z": "2c4527dad914ec1c",
        "g": "b21a8850dadd4a12",
        "name": "Checking if already has EU CTR",
        "style": {
            "fill": "#e3f3d3",
            "label": true
        },
        "nodes": [
            "877d493c814eb116",
            "eaa9fadb6a229543",
            "eece97d5539892a0",
            "147046e7feeea1d8",
            "181528ce036da672",
            "14f990ede77e57be",
            "bc0df4977aee6128",
            "ac5f910b06d8544b",
            "0979b10c1cae59a9"
        ],
        "x": 1234,
        "y": 959,
        "w": 972,
        "h": 222
    },
    {
        "id": "213c3efa9b282b39",
        "type": "group",
        "z": "2c4527dad914ec1c",
        "g": "b21a8850dadd4a12",
        "name": "Collect Information",
        "style": {
            "fill": "#e3f3d3",
            "label": true
        },
        "nodes": [
            "2bd0ad048ce6d34e",
            "529382b422e33baf",
            "80659552c324848c",
            "865bb03421f66f06",
            "5e50d16ff43a82fd",
            "1179a3687c6cf5a6",
            "886859ca7a54f7fd",
            "265347a384987222",
            "b44bfa5ffe29b60e",
            "5d3396e25a8c72c4",
            "d6bda7745030b8a0",
            "65e5881ebae4daa7",
            "a5c49e2191c98551",
            "71a35f478418d5d7",
            "1710ed53d4d37b5c",
            "ebb4d9b0095025e2",
            "5b81fc0c9cee31d0",
            "98a09d8faa795864",
            "551b9623d7990835",
            "d63ba5dad0268d14",
            "0c293fa5ea1d40ae",
            "3ca6345f6ae806b8",
            "d57e93c3e4dd9068",
            "36831944ea231a2c",
            "4931687c32f891d3",
            "26ea46e253a36a17",
            "6882d811cc48713f",
            "40898951895346d8",
            "c47ac8ab0a1808e1",
            "5c2196dbbf15ce94",
            "dbd00f23f54f267e",
            "96ab22406c6dcd7e",
            "c89d44f157d80bc4",
            "40b6e35085a52486"
        ],
        "x": 1234,
        "y": 2499,
        "w": 1712,
        "h": 522
    },
    {
        "id": "23b14172f95f39ef",
        "type": "group",
        "z": "2c4527dad914ec1c",
        "g": "b21a8850dadd4a12",
        "name": "CTR process - Select non-CTR countries",
        "style": {
            "fill": "#e3f3d3",
            "label": true
        },
        "nodes": [
            "e9ca3eba68b20dea",
            "f3946df6e7b32134",
            "1d2c66618b3e6c4f",
            "1149f834be044e54",
            "4ad7909a97e437a7",
            "078c240515b5297c",
            "9026e264d0fa9d16",
            "5b674da7b3b3c493",
            "e06fc599ded4e970",
            "99b5a29dc4898dc1",
            "f54f30035d27303f",
            "ea0561a17a3e4733",
            "7147d272c95b9b91",
            "232035efdfcc0ede",
            "6384e2cf76fa1a73",
            "2a5dbf3a114a6c7f",
            "5c5f8c6d3d14579b",
            "1ce0090dbddae5e8",
            "b1fa9325cae27f86",
            "ea17aeeb8c17f5aa",
            "30d0e763665a0f4f",
            "8f4a274d1b5bd632",
            "4379a5a24c6d2e1a",
            "c935b2229ba86e1a",
            "a29e783cc968e8c6",
            "604f50bb6db90c11",
            "52fb1526b6af11ee",
            "bdf4c22bb3725613",
            "4cbcdab4ed0ad26d",
            "b43c0eed548cafd3",
            "6a6c7efc7e51bf6d",
            "b7de0fe7ad66d2ca",
            "959da61bde9bb8b0",
            "7e622617fec07ddd",
            "b219b669e1aa3a1f",
            "4f6dbedf8f6e524e",
            "bd46d5f7dd3c56b5",
            "aabf522cbde63186",
            "8e7df44115a60b5e",
            "9304d4da4efa5f6c",
            "93250f2631c4e047",
            "db236dd4e340124a"
        ],
        "x": 1234,
        "y": 1879,
        "w": 1492,
        "h": 602
    },
    {
        "id": "0342ae8990d4e5d0",
        "type": "group",
        "z": "2c4527dad914ec1c",
        "g": "b21a8850dadd4a12",
        "name": "CTR process - Select CMS Countries",
        "style": {
            "fill": "#e3f3d3",
            "label": true
        },
        "nodes": [
            "86268d6a0b837218",
            "97b53a3a8dd09761",
            "4cac1cf727b0ef9f",
            "3db241b53e5fc1f6",
            "f366310a370cb263",
            "2b6a8988be4f6aa1",
            "59a605b44b4e458f",
            "8f7f5b7af1e523e8",
            "cc8836b7ba4047c6",
            "309297c842b780cc",
            "09ab16f41f604cb4",
            "eabb62e6f580519c",
            "077d32a3b26a735d",
            "a0f6e8171e172d4a",
            "f0987bd0f1eba5cc",
            "1c94bab016a6778b",
            "3d50cf1b7e19fa64",
            "6d5e72093e4f1763",
            "62db2312adce6927",
            "2b6443fc1090bbdb",
            "2a898795a346bdae",
            "fc53ea68445af2da",
            "380f6e75443f7e3e",
            "1f5889e43a4b930a",
            "a6055687aa65ad2f",
            "a4abf52b8768caf0",
            "5945973ffe5f9e1c",
            "1e2e089e5f67454c",
            "a53bccc1a94c03cb",
            "d0a29d4805a80d8d",
            "4c13bcff35809281",
            "13bd5f110d29cf33",
            "45d06b2c211d3315"
        ],
        "x": 1234,
        "y": 1299,
        "w": 972,
        "h": 562
    },
    {
        "id": "3b0d3c603c0d1fd6",
        "type": "group",
        "z": "2c4527dad914ec1c",
        "g": "b21a8850dadd4a12",
        "name": "Create Application Country",
        "style": {
            "fill": "#e3f3d3",
            "label": true
        },
        "nodes": [
            "0571712f078a2137",
            "eb1b125d55482241",
            "22075ff5491384ec",
            "bbd3c599a4d4a203",
            "b9d002f72c39627d",
            "fc7d31296cf7b12f",
            "00c17791fffdd382",
            "90e528859987db49",
            "66ccba17afd6cf21",
            "646ee80e0e3c6a5f",
            "e47b4d5d5c74d6f1",
            "9a87a1f173d5e53f",
            "80c81f840d3d8bf8",
            "8dd59e74376d6937",
            "d43907b12f64f459"
        ],
        "x": 1234,
        "y": 3459,
        "w": 1312,
        "h": 262
    },
    {
        "id": "4efce2b6e1fdfe62",
        "type": "group",
        "z": "2c4527dad914ec1c",
        "g": "025d03bac4a1308c",
        "name": "Create new clinical study event",
        "style": {
            "fill": "#ffffbf",
            "label": true,
            "stroke": "#6f2fa0"
        },
        "nodes": [
            "34ea1cc0751f076c",
            "9ffd347dc28797f2",
            "37089233c845847c",
            "0b502743c2105427",
            "b8f295cb419ef511",
            "4fca64c6e5d7ed76",
            "7afeedf6bafee44a",
            "c407710e5c667233",
            "463d51c07d96306f",
            "66ee8a94fb2d7adc",
            "bc0bf892de0b4278",
            "5451e2d8fb92f9f3",
            "9a5044524de15b1f",
            "8b5fc85d413405da",
            "7a6a4a210e0afacd",
            "c87ff740f015c7a0",
            "156170586af1680b",
            "4a5932fab86abe01",
            "677b8bbeb3897d59",
            "18edec20a999d8ea",
            "286d257af08d6582",
            "b3fb81e7e5885281",
            "c936f98b296593d4",
            "adbccecc70ccc1de",
            "57f50ef402c17c23",
            "6f439a7a79524586",
            "6c02ed1e44e31e22",
            "ea80771e71258993",
            "d3885638377c2c4a",
            "1dd759108b42270b",
            "55ba323f168715bb",
            "67d9ed8e3673348f",
            "d75de5f5f81a0adc",
            "c4dd41f3d158cecd",
            "74f2aa2cafa46f84",
            "65c358887f4e068f",
            "37f99f391a826882",
            "b9c7b78dd7d44017",
            "2eae4c60b1476596",
            "745c1f28d5453c5b",
            "c52cd54c453f4f22",
            "c9dd85cca0928b83",
            "9f0baf50744a8972",
            "359d517b2871831f",
            "0ed372e867cabe51"
        ],
        "x": 34,
        "y": 2599,
        "w": 1072,
        "h": 782
    },
    {
        "id": "77a95a28986a8bfc",
        "type": "group",
        "z": "2c4527dad914ec1c",
        "g": "025d03bac4a1308c",
        "name": "Select Event Keyword",
        "style": {
            "fill": "#ffffbf",
            "label": true,
            "stroke": "#6f2fa0"
        },
        "nodes": [
            "e4914f34cdb1e255",
            "82d495ca62c54a03",
            "1a580dd7501928eb",
            "20db1f0318099f37",
            "25d332512d7867b8",
            "3f3ba07ae696a258",
            "eaaae11c9d0f5209",
            "82f885e754fc45bd"
        ],
        "x": 44,
        "y": 2159,
        "w": 1062,
        "h": 142
    },
    {
        "id": "e1b7d81d3cd06a62",
        "type": "group",
        "z": "2c4527dad914ec1c",
        "g": "025d03bac4a1308c",
        "name": "Provide Event information",
        "style": {
            "stroke": "#6f2fa0",
            "fill": "#ffffbf",
            "label": true
        },
        "nodes": [
            "787961bfe48f9c3f",
            "5ec534431ecdbbc3",
            "6d77e6da0d189a2f",
            "83bfb2c8803ef98a",
            "1c245cad2a9ec068",
            "23fa5da47fb79950",
            "b05a3d51f61273c5",
            "fede6ae32eca8534",
            "0eab635811c284a9",
            "9c10197129e36e22",
            "29d6cf22180fb772",
            "5a37f175503d5345",
            "aec7dcad5b069c99",
            "83cd95335c63883a",
            "2d6057ae01606945"
        ],
        "x": 34,
        "y": 2319,
        "w": 1112,
        "h": 262
    },
    {
        "id": "ef776e6ae30994ac",
        "type": "group",
        "z": "32ccf302392ab325",
        "g": "56bca0108c880039",
        "name": "New crosslinks for list of documents",
        "style": {
            "label": true,
            "fill": "#ffcf3f",
            "label-position": "n",
            "color": "#3f3f3f"
        },
        "nodes": [
            "4ae38e7a8fc4137a",
            "fe91fdf3664267b3",
            "a046b66f689f0103",
            "98bff536a7899301",
            "27aaa00a66ac305c",
            "37705f57c15c0028",
            "84d2d885eab2a49d",
            "124aafaa5fce09e1",
            "ed4a759ee7b60391",
            "7486b4e656d25b50",
            "eec083cedae89262",
            "e691ceecf149b649",
            "a65ce93c89c2599a",
            "d4d55db365ec4e3d",
            "fc82347c85b692dd",
            "601dd3c7dc2817a5",
            "3dbcba8702bb65e4",
            "db1f8c0193412c4d",
            "95d4b4ac2dd7c142",
            "17c4fb4d7dad9588",
            "7ce5bb81dd221063"
        ],
        "x": 2294,
        "y": 2439,
        "w": 1992,
        "h": 242
    },
    {
        "id": "d496576295362680",
        "type": "group",
        "z": "32ccf302392ab325",
        "g": "56bca0108c880039",
        "name": "update xlinks for list of xlink/doc pairs",
        "style": {
            "label": true,
            "fill": "#ffcf3f",
            "label-position": "n",
            "color": "#3f3f3f"
        },
        "nodes": [
            "3f6d08e5985c1ee6",
            "2f1a17522978e333",
            "e0a56539a6eb8f83",
            "1cd5a9446f947f14",
            "51a7fc6be94ab1c3",
            "43c95e6e9db87c7a",
            "d8989a5a8e7f7392",
            "9e91e62cc3a6ca70",
            "df15d77211abf767",
            "99b037967a704cef",
            "688a4cd78e17dea5",
            "f6df9325f7fcf4ee",
            "c304a13f5e331386",
            "33ad49373220d220",
            "eba5c10f5be82a5d",
            "3af2752e5c61f07e",
            "67b2a2395494575b",
            "2dde79e37bfd9a7e",
            "d1e7ad315bc25c6b",
            "ea1f0b63744ce41a"
        ],
        "x": 2294,
        "y": 2699,
        "w": 1832,
        "h": 202
    },
    {
        "id": "020992df4203b447",
        "type": "group",
        "z": "32ccf302392ab325",
        "g": "56bca0108c880039",
        "name": "approve xlinks",
        "style": {
            "label": true,
            "fill": "#ffcf3f",
            "label-position": "n",
            "color": "#3f3f3f"
        },
        "nodes": [
            "231ef98d049b3df4",
            "6c4a81fb20829fdd",
            "013646429b7bbe47",
            "6470b39167ae9d5d",
            "c66395e6cab17ac0",
            "71f4891304500c83",
            "19823a545a71267e",
            "a92b04646d9c6f2e",
            "d3b98b30a63a3596",
            "3eaf6da9cf266a16",
            "af9a694663793e5b",
            "57013fc0b1ca7087"
        ],
        "x": 2294,
        "y": 2919,
        "w": 1792,
        "h": 202
    },
    {
        "id": "f919a01e47ab17d2",
        "type": "group",
        "z": "32ccf302392ab325",
        "g": "56bca0108c880039",
        "name": "upversion the crosslink document to next draft version",
        "style": {
            "label": true,
            "fill": "#ffff3f",
            "label-position": "n",
            "color": "#3f3f3f"
        },
        "nodes": [
            "62482c2b6fe5d356",
            "b4a72a8be8ce5d3d",
            "f51c8f2b94947845",
            "e47ea65863ab8ee8",
            "c06c861fe1ebfd32",
            "aece933906d11804",
            "24c7af1c1b65735a",
            "f508067b8052749b",
            "a3afcdbe24dc6eb3",
            "38f19c85f8776edb",
            "2bf5639b323869c7",
            "2033738e5affc8df",
            "cdbab5695af22447",
            "671e961d7f1d5256",
            "5a051ccd4278ef54",
            "0a29d75785637f19",
            "cc5b2d57360c96c7",
            "86277ed87d5d5203",
            "441779e175d965b5",
            "36fca2e5794c69c5",
            "abaaf1402b79ef05",
            "1fcd58a9e26226c2",
            "f17e97139cc1335f",
            "1a8c840ed51562f0",
            "1b43fe3be09de519",
            "d79797fa2d8e6d07"
        ],
        "x": 2294,
        "y": 3139,
        "w": 1892,
        "h": 342
    },
    {
        "id": "429ca0f28c6eb552",
        "type": "group",
        "z": "32ccf302392ab325",
        "g": "627cc5986aa125f3",
        "name": "get instructions",
        "style": {
            "fill": "#ffcf3f",
            "label": true,
            "color": "#3f3f3f",
            "label-position": "n"
        },
        "nodes": [
            "a4a654ba0fa1d4aa",
            "4fa716b595bc5a73",
            "125e3939a8087b54",
            "5d4e65bff3be5948",
            "bc609eeb15ca8db3",
            "68fb25c91563f7fa",
            "b29b726eb9cc87b8",
            "408ac06e1066e45f",
            "d348b58ca7101db9",
            "a6173c01ed59b86f",
            "a33054588653f5e0",
            "a32cf550f15f2149",
            "ac4a83b089c383d2",
            "31af2fa0558d0fc5",
            "f31ed7f84d10db2d",
            "ac87a34d55764163",
            "f4fca5f780970cc4",
            "0dba09b269e5f30b",
            "ac370157a733f606"
        ],
        "x": 674,
        "y": 439,
        "w": 1712,
        "h": 282
    },
    {
        "id": "81e9aec5f845a51a",
        "type": "group",
        "z": "32ccf302392ab325",
        "g": "1acaa4d09a25d8a0",
        "name": "Get new and updated source documents/versions",
        "style": {
            "fill": "#ffcf3f",
            "label": true,
            "color": "#3f3f3f",
            "label-position": "n"
        },
        "nodes": [
            "c2f38571712ac056",
            "d79d102ad4097dd6",
            "a1a5eb79e0febac3",
            "f051b5df1b4109a6",
            "1c8e4c4cdf03eee2",
            "fceb3d3d2e109212",
            "1aa5333fd512107a",
            "bda58b47abff21b6",
            "9819636b1d12be9c",
            "da98651e508e280e",
            "4b5f5ecc9586eae4",
            "761ee2b200f2362d",
            "901c4527bc686831",
            "cea63348a4243ca7"
        ],
        "x": 674,
        "y": 979,
        "w": 1672,
        "h": 202
    },
    {
        "id": "efd44d58605fc3aa",
        "type": "group",
        "z": "32ccf302392ab325",
        "g": "1acaa4d09a25d8a0",
        "name": "Get all xlink versions matching to source documents/versions",
        "style": {
            "fill": "#ffcf3f",
            "label": true,
            "label-position": "n",
            "color": "#3f3f3f"
        },
        "nodes": [
            "1f7bb3f9cee07698",
            "147a9502b275b3c1",
            "5df8e0d3f39b8b71",
            "8e8c0131b37a7786",
            "2a3858970a774fd8",
            "c653bd43402589c0",
            "a636dd3b7fabfe4a"
        ],
        "x": 674,
        "y": 1199,
        "w": 1572,
        "h": 102
    },
    {
        "id": "50739f124cb8563b",
        "type": "group",
        "z": "32ccf302392ab325",
        "g": "627cc5986aa125f3",
        "name": "Get Session for source vault",
        "style": {
            "label": true,
            "fill": "#addb7b",
            "color": "#3f3f3f",
            "label-position": "n"
        },
        "nodes": [
            "9e5f2290ac163ac6",
            "4edbbaa923361a34",
            "8eb57d4712531671",
            "19bde3e0fb9dfb78"
        ],
        "x": 674,
        "y": 739,
        "w": 1092,
        "h": 82
    },
    {
        "id": "56418a5f1c01fec3",
        "type": "group",
        "z": "32ccf302392ab325",
        "g": "627cc5986aa125f3",
        "name": "login, define settings and save",
        "style": {
            "label": true,
            "fill": "#bfdbef",
            "label-position": "n",
            "color": "#777777"
        },
        "nodes": [
            "04be81a30ca8b5f2",
            "6d6a4fcc6fff5a7a",
            "70cae716aaa25fda",
            "cfadd0fab9ef544b",
            "777a7cc7782db188",
            "77a81cf3288f38df",
            "9dba81b02b1c9883",
            "d0a3763e41c828b1",
            "3ce9fc6e576dabe1",
            "27f0ad638de63534",
            "680916713482071c",
            "27776784864da7d3",
            "74ef0e332df6263a",
            "91facf7f2cde805d",
            "78537d38ed716bca",
            "49f8195583d786cf",
            "c012f787da98de2b",
            "65c7183a4ac89787",
            "7cd49bbb21845b99",
            "5d8fcbc38bdd98ae"
        ],
        "x": 674,
        "y": 159,
        "w": 1652,
        "h": 262
    },
    {
        "id": "8dfbdc55ff62d17e",
        "type": "group",
        "z": "32ccf302392ab325",
        "g": "627cc5986aa125f3",
        "name": "Get Session for source vault",
        "style": {
            "label": true,
            "fill": "#addb7b",
            "color": "#3f3f3f",
            "label-position": "n"
        },
        "nodes": [
            "ed87816caa006967",
            "fdc58e621ebbbe79",
            "569532f3498a01b6",
            "318fe22d13edfa91"
        ],
        "x": 674,
        "y": 839,
        "w": 1092,
        "h": 82
    },
    {
        "id": "41304ce80e23ede0",
        "type": "group",
        "z": "32ccf302392ab325",
        "g": "fd69ea7b671c7ec8",
        "name": "Get objects according to instructions",
        "style": {
            "label": true,
            "fill": "#ffcf3f",
            "label-position": "n",
            "color": "#3f3f3f"
        },
        "nodes": [
            "5c0e24dc64906e80",
            "db3791d9ed978489",
            "c9d97f19c3150a81",
            "39bdbb6eb6b7e9a6",
            "883c657b5f0a1cea"
        ],
        "x": 908,
        "y": 1419,
        "w": 1404,
        "h": 302
    },
    {
        "id": "c7efaadd103f03ab",
        "type": "group",
        "z": "32ccf302392ab325",
        "g": "5921be1c98a95c97",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "1b602c62a8f8490b",
            "d9a2762c2e2ad88a",
            "88ffdf68af18353e",
            "48fe5631df2c493f"
        ],
        "x": 2594,
        "y": 1099,
        "w": 772,
        "h": 82
    },
    {
        "id": "112ad226549927de",
        "type": "group",
        "z": "32ccf302392ab325",
        "g": "5921be1c98a95c97",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "140a8db09b126d12",
            "16c13a2dce568692",
            "e3cf621d12ed62ba",
            "63d3f29559e1ebef"
        ],
        "x": 2594,
        "y": 739,
        "w": 772,
        "h": 82
    },
    {
        "id": "4d78ed85bdabae1a",
        "type": "group",
        "z": "32ccf302392ab325",
        "g": "fd69ea7b671c7ec8",
        "name": "Get picklist according to instructions",
        "style": {
            "label": true,
            "fill": "#ffcf3f",
            "label-position": "n",
            "color": "#3f3f3f"
        },
        "nodes": [
            "7040b85238e089d1",
            "45758664e9dcef85",
            "0f92c18136fd3dc8",
            "f9dfa363677e53f2",
            "7d904bf04f4f0d3f"
        ],
        "x": 908,
        "y": 1739,
        "w": 1298,
        "h": 302
    },
    {
        "id": "bbf1e46794a4a441",
        "type": "group",
        "z": "32ccf302392ab325",
        "g": "fd69ea7b671c7ec8",
        "name": "Get mapping according to instructions",
        "style": {
            "label": true,
            "fill": "#ffcf3f",
            "label-position": "n",
            "color": "#3f3f3f"
        },
        "nodes": [
            "6240821847615af2",
            "9d7a8b92db25bb45",
            "2fb1f8ac58d94586",
            "eeb4b752bdaa01ef",
            "5a08d75fb4074cc4"
        ],
        "x": 908,
        "y": 2059,
        "w": 1298,
        "h": 302
    },
    {
        "id": "1f8f94a681476572",
        "type": "group",
        "z": "32ccf302392ab325",
        "g": "5921be1c98a95c97",
        "name": "",
        "style": {
            "label": true
        },
        "nodes": [
            "65a23e1026df92f0",
            "5026767d85263364",
            "c33863e74002c7d8",
            "ddaeb86daaab9cdf"
        ],
        "x": 2594,
        "y": 919,
        "w": 772,
        "h": 82
    },
    {
        "id": "4a932e6034254d18",
        "type": "group",
        "z": "2c4527dad914ec1c",
        "g": "5e4f497cc3eacc9e",
        "name": "Create Submission",
        "style": {
            "fill": "#ffefbf",
            "label": true
        },
        "nodes": [
            "62640940a60a1f05",
            "898365ea0e27f9fa",
            "fd61c358f16a025d",
            "9398e7263bf82b17",
            "b4d75ca5d1862d0d",
            "19b4e65ee7032903",
            "f58d0bb835412fc4",
            "3a5fef5ba445dca6",
            "8e82a3e29f089f62",
            "7f14e480377ecb8f",
            "a77d51b53d8a6f23",
            "c871db4946297902",
            "14be5b3467d426ef",
            "1b109bb176828d44",
            "857c942e1e147c0c",
            "9e1f9abf0b7f18c2",
            "8d568405b4ec34f2",
            "a951ef41ea04daa1",
            "675035dafe7624c4",
            "a6fdd8a4c088efcd",
            "91c1fc453443a8e3",
            "d8d634dbb1feb7f0",
            "2a00af4ef68684ee",
            "b3093d1ee9de67e1",
            "71e04109ad804aa3",
            "b89f95ec9abb8084",
            "f5854a7cc17c0aa7",
            "9ef56b03101f70be",
            "7827ec475b7c8da5",
            "ceb33ad242526776",
            "383eedb90d0b8b41",
            "521d70b563cc5942",
            "618ef6d8cb29ffce",
            "09d4586254506745",
            "b9ecf6ddd77ad675",
            "867650c5b98c06c8",
            "119a9f972c38c24a",
            "a2813cb05abc95ed",
            "9bf734a0d565b0b0",
            "bfecddb23cb14652"
        ],
        "x": 3074,
        "y": 1959,
        "w": 912,
        "h": 702
    },
    {
        "id": "eb7523f05c7170f0",
        "type": "group",
        "z": "2c4527dad914ec1c",
        "g": "5e4f497cc3eacc9e",
        "name": "Select Applications",
        "style": {
            "fill": "#ffefbf",
            "label": true,
            "stroke": "#a4a4a4"
        },
        "nodes": [
            "e92dbdab8eb4e6f5",
            "3575399d43c70958",
            "c229575af81a577a",
            "6ee4c82e5bbdfb64",
            "baa100f75a1bdf83",
            "69e9f2c548c72906",
            "dbb0938eb77fb439",
            "b1d50aba3ccae290",
            "b29bd3b6b73fa3f4",
            "c5fde75660caf0e0",
            "8ea7bea18c3a37ec",
            "3e3267b7bf950552",
            "8f6dbe66602cd363",
            "6f594307a0362067",
            "d224372d0f77adba",
            "9e24def7b8e1ed20",
            "56bb3f2ede4357d3",
            "63b1e190539c60d6",
            "2d30c1a1b88ffd77",
            "9e67043bce8e07ce",
            "0acb4f725a0b3b4d",
            "368a237cb3da03f4",
            "f7b29bb7055e0a74",
            "f2ae517ed12d39ef",
            "6b4365514871b2fa",
            "a1ea860eacff14bf",
            "acbf802c7351198d"
        ],
        "x": 3054,
        "y": 1359,
        "w": 982,
        "h": 522
    },
    {
        "id": "0cad5663dc4721fe",
        "type": "group",
        "z": "2c4527dad914ec1c",
        "g": "5e4f497cc3eacc9e",
        "name": "Select Event",
        "style": {
            "fill": "#ffefbf",
            "label": true,
            "stroke": "#a4a4a4"
        },
        "nodes": [
            "da23fd7381dc1b26",
            "f6ab8aa482d9d67f",
            "b6c6c4bc76a4ba53",
            "0181e70f2a18599b",
            "6d26ea123b445cc9",
            "8985a769a95830ae",
            "a1def3152347a0c1",
            "26a7680b9a307992",
            "e2bbf68093902dd8",
            "70be352a47eee3c5",
            "6134dde92e85f832",
            "6e512e1221e08cb3",
            "55f7361f6ff3d3c0",
            "f41e2e7c203bbd25",
            "574a5630803b0224",
            "aa6b891b0c5003f6",
            "be3c6ef4855d08d7"
        ],
        "x": 3054,
        "y": 779,
        "w": 1272,
        "h": 242
    },
    {
        "id": "2258a8ecc4d06406",
        "type": "group",
        "z": "2c4527dad914ec1c",
        "g": "5e4f497cc3eacc9e",
        "name": "Select RO Type",
        "style": {
            "fill": "#ffefbf",
            "label": true,
            "stroke": "#a4a4a4"
        },
        "nodes": [
            "8de992bdd38f4d75",
            "ea2ff3f91e64e1c8",
            "322b77670ebfbc73",
            "6dae2eeabda1866b",
            "e18582e1e6af8a27",
            "48df2f80a99d8b29",
            "35a584fdbbbf184c",
            "bdd066564c6ce95f",
            "627236e68743463c",
            "4034cdfe618d83a5",
            "e7d6e3c82350409a",
            "d4315b2a2c87f603",
            "364df53d72877480",
            "0d1633a753414cdd",
            "816f8fd43db06c24",
            "2d01b3958155921c",
            "9828977331cdadbe"
        ],
        "x": 3054,
        "y": 1059,
        "w": 1192,
        "h": 262
    },
    {
        "id": "7dbb9c6933b0187b",
        "type": "group",
        "z": "2c4527dad914ec1c",
        "g": "5e4f497cc3eacc9e",
        "name": "Create Regulatory Objective",
        "style": {
            "fill": "#ffefbf",
            "label": true
        },
        "nodes": [
            "ea8fd3395ae5fd49",
            "ea3dfeb51546e24a",
            "7282d98b9aebfd65",
            "449abf85b0dfeb5a",
            "4f666270c6fff25d",
            "dda0db44b7fc76a2",
            "92ab0d09bc0a2257",
            "50129e1a7a69e488",
            "f36d5ec80cec5d8f",
            "9104486cb4f058e0",
            "acaa1af7a2c60d83",
            "1a0e3c813639d7e8",
            "38c9f670c6aad425",
            "be244ca4d55bdd38",
            "2e6605503e1d4370",
            "9e0fbc59446d769b",
            "d054a08aba76294a",
            "33574cd26d86b730",
            "f44a6fefd13d1c10",
            "dd1397594a408f05",
            "275cac78bf29b682",
            "ac4deb9539f1fb55",
            "aa47eed378c684f0",
            "991415f1a79cd20a",
            "f6465cef2e0631c0",
            "2fee73769422c35f",
            "a539cc3ec7312d9d",
            "3d776d3161996ac6"
        ],
        "x": 3074,
        "y": 2699,
        "w": 872,
        "h": 502
    },
    {
        "id": "c9d97f19c3150a81",
        "type": "group",
        "z": "32ccf302392ab325",
        "g": "41304ce80e23ede0",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "8e6f0e445fe834fd",
            "d0e185a4bfe350ac",
            "a0e45cab2802cf07",
            "43d96a0c94607243",
            "5f16de4c7ec4bf71",
            "7bb2f67d59a99ce1",
            "a34ef488b787110f",
            "cdc14257acca5730",
            "fcd73c6797d71c36",
            "ed32e152cfaf8dd3",
            "b89ccd2b6a4fe943",
            "abac2caf7c1bcc06"
        ],
        "x": 934,
        "y": 1499,
        "w": 1352,
        "h": 142
    },
    {
        "id": "0f92c18136fd3dc8",
        "type": "group",
        "z": "32ccf302392ab325",
        "g": "4d78ed85bdabae1a",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "e771e758c444a406",
            "c39b4bba303e859e",
            "c2cbee537b4269aa",
            "b332f296eb49434e",
            "ef27b3b6b9051978"
        ],
        "x": 934,
        "y": 1819,
        "w": 1012,
        "h": 142
    },
    {
        "id": "2fb1f8ac58d94586",
        "type": "group",
        "z": "32ccf302392ab325",
        "g": "bbf1e46794a4a441",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "a37dd9a1bb2b8117",
            "737be07023240fb1",
            "a97c47fec71fbe28",
            "293ff87595bea7c7",
            "0d5a5d47eaecf373",
            "40dc7c66631ca966"
        ],
        "x": 934,
        "y": 2139,
        "w": 1012,
        "h": 142
    },
    {
        "id": "4859b8939958e3a3",
        "type": "redis-config",
        "name": "node-red-redis",
        "options": "{\"port\":6379,\"host\":\"node-red-redis\",\"username\":\"node-red\",\"password\":\"BRAVE!2023\",\"db\":0}",
        "cluster": false,
        "optionsType": "json"
    },
    {
        "id": "a0efbb89.5e42d8",
        "type": "redis-config",
        "name": "node-red-redis",
        "options": "{\"port\":6379,\"host\":\"node-red-redis\",\"username\":\"node-red\",\"password\":\"BRAVE!2023\",\"db\":0}",
        "cluster": false,
        "optionsType": "json"
    },
    {
        "id": "f2e66c06b9a9ba35",
        "type": "change",
        "z": "fca036ab5aa23301",
        "g": "281da2542719f7ce",
        "name": "get automation configuration settings object id",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"SELECT id, name__v\"\t&\" FROM automation_configuration__c\" \t&\" WHERE name__v = '\"\t& args_sub.settings_name\t&\"' AND status__v = 'active__v'\"\t",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 360,
        "y": 380,
        "wires": [
            [
                "bd54ec6a24f9d859",
                "1c57d76c42e831f6"
            ]
        ]
    },
    {
        "id": "3cba36dbc4be0431",
        "type": "change",
        "z": "fca036ab5aa23301",
        "g": "281da2542719f7ce",
        "name": "prepare request attachments",
        "rules": [
            {
                "t": "set",
                "p": "args.object_name",
                "pt": "msg",
                "to": "automation_configuration__c",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "args.object_record_id",
                "pt": "msg",
                "to": "payload.data[0].id",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "args.keep",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 300,
        "y": 440,
        "wires": [
            [
                "74e13d47f28fa1de",
                "fdda318a7828b65d"
            ]
        ]
    },
    {
        "id": "781204f40703ed7f",
        "type": "change",
        "z": "fca036ab5aa23301",
        "g": "281da2542719f7ce",
        "name": "Set attachments to attachment_name",
        "rules": [
            {
                "t": "set",
                "p": "args.attachment_id",
                "pt": "msg",
                "to": "payload.data[filename__v=$$.args_sub.attachment_name].id",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "args.keep",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 330,
        "y": 500,
        "wires": [
            [
                "80dbe2c3859434ef",
                "b865262b1cb56950"
            ]
        ]
    },
    {
        "id": "bd54ec6a24f9d859",
        "type": "brave-vql-query",
        "z": "fca036ab5aa23301",
        "g": "281da2542719f7ce",
        "name": "",
        "x": 830,
        "y": 380,
        "wires": [
            [
                "3cba36dbc4be0431"
            ],
            []
        ]
    },
    {
        "id": "74e13d47f28fa1de",
        "type": "brave-retrieve-object-record-attachments",
        "z": "fca036ab5aa23301",
        "g": "281da2542719f7ce",
        "name": "",
        "x": 900,
        "y": 440,
        "wires": [
            [
                "781204f40703ed7f"
            ],
            []
        ]
    },
    {
        "id": "80dbe2c3859434ef",
        "type": "brave-download-object-record-attachment-file",
        "z": "fca036ab5aa23301",
        "g": "281da2542719f7ce",
        "name": "",
        "x": 920,
        "y": 500,
        "wires": [
            [
                "862007a1a92de19b"
            ],
            []
        ]
    },
    {
        "id": "862007a1a92de19b",
        "type": "json",
        "z": "fca036ab5aa23301",
        "g": "281da2542719f7ce",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1250,
        "y": 500,
        "wires": [
            [
                "60f4ee43b8ea1811",
                "c0e33d0da64adf97"
            ]
        ]
    },
    {
        "id": "66f404ec026a1e86",
        "type": "change",
        "z": "fca036ab5aa23301",
        "name": "settings_name",
        "rules": [
            {
                "t": "set",
                "p": "args_sub.settings_name",
                "pt": "msg",
                "to": "client_id & \"__settings\"\t",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 960,
        "y": 160,
        "wires": [
            [
                "d74f82f3ec519f0b"
            ]
        ]
    },
    {
        "id": "3a7756d9fa7a0bfd",
        "type": "switch",
        "z": "fca036ab5aa23301",
        "name": "",
        "property": "true",
        "propertyType": "jsonata",
        "rules": [
            {
                "t": "eq",
                "v": "$exists(args_sub.settings_name)and $exists(vault_api)and $exists(session_id)",
                "vt": "jsonata"
            },
            {
                "t": "eq",
                "v": "$exists(client_id) and $exists(vault_api)and $exists(session_id)",
                "vt": "jsonata"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 3,
        "x": 790,
        "y": 140,
        "wires": [
            [
                "d74f82f3ec519f0b",
                "93b92ac848544187"
            ],
            [
                "66f404ec026a1e86"
            ],
            [
                "434ac0347080cde9"
            ]
        ]
    },
    {
        "id": "434ac0347080cde9",
        "type": "change",
        "z": "fca036ab5aa23301",
        "name": "Error message",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "ERROR not enough input parameter",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 960,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "641eac4e6a3a1072",
        "type": "change",
        "z": "fca036ab5aa23301",
        "name": "mask args",
        "rules": [
            {
                "t": "set",
                "p": "args_sub",
                "pt": "msg",
                "to": "args",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "move",
                "p": "args",
                "pt": "msg",
                "to": "args_in",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 290,
        "y": 40,
        "wires": [
            [
                "2b82d1df4e595d8b"
            ]
        ]
    },
    {
        "id": "60f4ee43b8ea1811",
        "type": "switch",
        "z": "fca036ab5aa23301",
        "name": "",
        "property": "args_sub.keep = true",
        "propertyType": "jsonata",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 1470,
        "y": 500,
        "wires": [
            [
                "9ffbd2aa8e3b35c4"
            ],
            [
                "2fa9a7a10b10782e"
            ]
        ]
    },
    {
        "id": "2b82d1df4e595d8b",
        "type": "switch",
        "z": "fca036ab5aa23301",
        "name": "",
        "property": "$type(args_sub.expire)=\"number\"",
        "propertyType": "jsonata",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 110,
        "y": 140,
        "wires": [
            [
                "ffd96ba83772ca58"
            ],
            [
                "8cabfa8f5e73b072"
            ]
        ]
    },
    {
        "id": "9ffbd2aa8e3b35c4",
        "type": "change",
        "z": "fca036ab5aa23301",
        "name": "reset args",
        "rules": [
            {
                "t": "move",
                "p": "args_in",
                "pt": "msg",
                "to": "args",
                "tot": "msg"
            },
            {
                "t": "delete",
                "p": "args_sub",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1620,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "8cabfa8f5e73b072",
        "type": "change",
        "z": "fca036ab5aa23301",
        "name": "set expire",
        "rules": [
            {
                "t": "set",
                "p": "args_sub.expire",
                "pt": "msg",
                "to": "24*60*60",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 260,
        "y": 220,
        "wires": [
            [
                "ffd96ba83772ca58"
            ]
        ]
    },
    {
        "id": "e20436251156a60f",
        "type": "brave-redis-queue",
        "z": "fca036ab5aa23301",
        "g": "65512d829ddbe85d",
        "name": "",
        "x": 1810,
        "y": 140,
        "wires": [
            [
                "78aa02b86a2d9b5f",
                "e1068dc03fd73659"
            ],
            []
        ]
    },
    {
        "id": "6adaa8b423a4321e",
        "type": "change",
        "z": "fca036ab5aa23301",
        "g": "65512d829ddbe85d",
        "name": "Try to read settings from Redis",
        "rules": [
            {
                "t": "set",
                "p": "args.topic",
                "pt": "msg",
                "to": "$substringBefore($substring(vault_api,8),\"/\")\t& \"__\" & args_sub.settings_name",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "args.method",
                "pt": "msg",
                "to": "GET",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "args.keep_queue",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1570,
        "y": 140,
        "wires": [
            [
                "e20436251156a60f",
                "2d89d68958642caa"
            ]
        ]
    },
    {
        "id": "2fa9a7a10b10782e",
        "type": "change",
        "z": "fca036ab5aa23301",
        "name": "delete args",
        "rules": [
            {
                "t": "delete",
                "p": "args_in",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "args_sub",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "args",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1630,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "78aa02b86a2d9b5f",
        "type": "switch",
        "z": "fca036ab5aa23301",
        "g": "65512d829ddbe85d",
        "name": "",
        "property": "payload?true:false",
        "propertyType": "jsonata",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 1990,
        "y": 140,
        "wires": [
            [
                "60f4ee43b8ea1811"
            ],
            [
                "f2e66c06b9a9ba35"
            ]
        ]
    },
    {
        "id": "be87b21f1e94e2d6",
        "type": "brave-redis-queue",
        "z": "fca036ab5aa23301",
        "g": "a6858237518cf424",
        "name": "",
        "x": 750,
        "y": 640,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "c0e33d0da64adf97",
        "type": "change",
        "z": "fca036ab5aa23301",
        "g": "a6858237518cf424",
        "name": "Write settings to Redis",
        "rules": [
            {
                "t": "set",
                "p": "args.topic",
                "pt": "msg",
                "to": "$substringBefore($substring(vault_api,8),\"/\")\t& \"__\" & args_sub.settings_name",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "args.method",
                "pt": "msg",
                "to": "SET",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "args.expire",
                "pt": "msg",
                "to": "args_sub.expire",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 480,
        "y": 640,
        "wires": [
            [
                "be87b21f1e94e2d6"
            ]
        ]
    },
    {
        "id": "ffd96ba83772ca58",
        "type": "switch",
        "z": "fca036ab5aa23301",
        "name": "",
        "property": "$type(args_sub.attachment_name) = \"string\" and\t$length($trim(args_sub.attachment_name))",
        "propertyType": "jsonata",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 430,
        "y": 140,
        "wires": [
            [
                "22eea11a1ec723a4"
            ],
            [
                "506d0aa9dcef77b4"
            ]
        ]
    },
    {
        "id": "506d0aa9dcef77b4",
        "type": "change",
        "z": "fca036ab5aa23301",
        "name": "set attachment",
        "rules": [
            {
                "t": "set",
                "p": "args_sub.attachment_name",
                "pt": "msg",
                "to": "settings.json",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 598.6666259765625,
        "y": 186.66665649414062,
        "wires": [
            [
                "3a7756d9fa7a0bfd"
            ]
        ]
    },
    {
        "id": "22eea11a1ec723a4",
        "type": "change",
        "z": "fca036ab5aa23301",
        "name": "append extension",
        "rules": [
            {
                "t": "set",
                "p": "args_sub.attachment_name",
                "pt": "msg",
                "to": "$substring(args_sub.attachment_name,-5)=\".json\"?\targs_sub.attachment_name:\targs_sub.attachment_name & \".json\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 610,
        "y": 100,
        "wires": [
            [
                "3a7756d9fa7a0bfd"
            ]
        ]
    },
    {
        "id": "d74f82f3ec519f0b",
        "type": "switch",
        "z": "fca036ab5aa23301",
        "name": "",
        "property": "args_sub.forced_renewal=true",
        "propertyType": "jsonata",
        "rules": [
            {
                "t": "false"
            },
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1170,
        "y": 140,
        "wires": [
            [
                "6adaa8b423a4321e"
            ],
            [
                "f2e66c06b9a9ba35"
            ]
        ]
    },
    {
        "id": "92b6319ddcc5179b",
        "type": "debug",
        "z": "fca036ab5aa23301",
        "name": "debug 160",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2090,
        "y": 60,
        "wires": []
    },
    {
        "id": "e1068dc03fd73659",
        "type": "debug",
        "z": "fca036ab5aa23301",
        "name": "debug 159",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1890,
        "y": 60,
        "wires": []
    },
    {
        "id": "bc35d3238047c6e4",
        "type": "debug",
        "z": "fca036ab5aa23301",
        "name": "debug 167",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1350,
        "y": 60,
        "wires": []
    },
    {
        "id": "7a6610a61178baf0",
        "type": "debug",
        "z": "fca036ab5aa23301",
        "name": "debug 165",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 987.22216796875,
        "y": 63.888877868652344,
        "wires": []
    },
    {
        "id": "93b92ac848544187",
        "type": "debug",
        "z": "fca036ab5aa23301",
        "name": "debug 158",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1170,
        "y": 100,
        "wires": []
    },
    {
        "id": "1c57d76c42e831f6",
        "type": "debug",
        "z": "fca036ab5aa23301",
        "name": "debug 163",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1430,
        "y": 600,
        "wires": []
    },
    {
        "id": "fdda318a7828b65d",
        "type": "debug",
        "z": "fca036ab5aa23301",
        "name": "debug 162",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1430,
        "y": 660,
        "wires": []
    },
    {
        "id": "b865262b1cb56950",
        "type": "debug",
        "z": "fca036ab5aa23301",
        "name": "debug 161",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1687.8887939453125,
        "y": 638.5555038452148,
        "wires": []
    },
    {
        "id": "2d89d68958642caa",
        "type": "debug",
        "z": "fca036ab5aa23301",
        "name": "debug 267",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1710,
        "y": 60,
        "wires": []
    },
    {
        "id": "1acf79d7de254fd3",
        "type": "change",
        "z": "5267b0000f591768",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "vault_api & \"v22.3/objects/documents/\" &\t$string(args.doc_id)\t& \"/versions/\" & \t$string(args.major_version) & \"/\" &\t$string(args.minor_version)",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "headers",
                "pt": "msg",
                "to": "{\t   \"Content-Type\": \"application/x-www-form-urlencoded\",\t   \"Accept\": \"application/json\",\t   \"Authorization\": session_id \t}",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "method",
                "pt": "msg",
                "to": "PUT",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 250,
        "y": 180,
        "wires": [
            [
                "ca5161961d787e8f"
            ]
        ]
    },
    {
        "id": "8aa77ca0f51a98c4",
        "type": "http request",
        "z": "5267b0000f591768",
        "name": "update version",
        "method": "use",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "basic",
        "senderr": false,
        "headers": [],
        "x": 660,
        "y": 180,
        "wires": [
            [
                "3bc5a284b042a731"
            ]
        ]
    },
    {
        "id": "3bc5a284b042a731",
        "type": "switch",
        "z": "5267b0000f591768",
        "name": "responseStatus",
        "property": "payload.responseStatus",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "SUCCESS",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 930,
        "y": 180,
        "wires": [
            [
                "c7586b256ad515d4"
            ],
            []
        ]
    },
    {
        "id": "ca5161961d787e8f",
        "type": "function",
        "z": "5267b0000f591768",
        "name": "",
        "func": "let adjustData = {};\nfor (let opt in msg.payload) {\n    if (msg.payload.hasOwnProperty(opt)) {\n        let val = msg.payload[opt];\n        if (val !== undefined && val !== null  && val !== []) {\n            if (Array.isArray(val)) {\n                    let newval = val.join(\", \")\n                    adjustData[opt] = newval;\n            } else {\n                adjustData[opt] = val;\n            }\n        }\n    }\n}\nmsg.payload = adjustData;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 460,
        "y": 180,
        "wires": [
            [
                "17968c7baa724881",
                "8aa77ca0f51a98c4"
            ]
        ]
    },
    {
        "id": "17968c7baa724881",
        "type": "debug",
        "z": "5267b0000f591768",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 270,
        "y": 280,
        "wires": []
    },
    {
        "id": "c7586b256ad515d4",
        "type": "change",
        "z": "5267b0000f591768",
        "name": "Delete URL and Headers",
        "rules": [
            {
                "t": "delete",
                "p": "url",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "headers",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "method",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 790,
        "y": 40,
        "wires": [
            [
                "32a3990622cb2699"
            ]
        ]
    },
    {
        "id": "32a3990622cb2699",
        "type": "switch",
        "z": "5267b0000f591768",
        "name": "Check args.keep",
        "property": "args.keep",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1030,
        "y": 40,
        "wires": [
            [],
            [
                "42dce4eaa0da0a7f"
            ]
        ]
    },
    {
        "id": "42dce4eaa0da0a7f",
        "type": "change",
        "z": "5267b0000f591768",
        "name": "Delete Arguments",
        "rules": [
            {
                "t": "delete",
                "p": "args",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1210,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "1169b02472a31ead",
        "type": "change",
        "z": "5267b0000f591768",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "document",
                "pt": "msg",
                "to": "update_version.payload",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "delete",
                "p": "update_version",
                "pt": "msg"
            },
            {
                "t": "set",
                "p": "update_version",
                "pt": "msg",
                "to": "payload",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "update_version",
                "pt": "msg",
                "to": "$merge([create_doc, {\"document\":document}])",
                "tot": "jsonata"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "url",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "method",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "document",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 870,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "9376135244af7288",
        "type": "change",
        "z": "1548160fce6f102c",
        "name": "default unescaped to false, type is checkbox or radio",
        "rules": [
            {
                "t": "set",
                "p": "unescaped",
                "pt": "msg",
                "to": "unescaped=true?true:false",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "checkbox",
                "pt": "msg",
                "to": "type=\"checkbox\"?true:false\t",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "radio",
                "pt": "msg",
                "to": "type=\"radio\"?true:false\t",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "type",
                "pt": "msg",
                "to": "type in [\"checkbox\", \"radio\"]?type:false",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 400,
        "y": 160,
        "wires": [
            [
                "0efcb5b4634a5b92"
            ]
        ]
    },
    {
        "id": "0efcb5b4634a5b92",
        "type": "template",
        "z": "1548160fce6f102c",
        "name": "fill input form template",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "<!DOCTYPE html>\n<html lang=\"en\">\n\t<head>\n\t\t<meta charset=\"utf-8\">\n\t\t<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n\t\t<meta name=\"viewport\" content=\"width=device-width, height=device-height, initial-scale=0.9\">\n\t\t<title>{{title}}</title>\n\t\t<link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.0/css/bootstrap.min.css\"/>\n\t\t<link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdn.datatables.net/v/bs4-4.6.0/jq-3.6.0/dt-1.13.1/datatables.min.css\"/>\n\t\t<script type=\"text/javascript\" src=\"https://cdn.datatables.net/v/bs4-4.6.0/jq-3.6.0/dt-1.13.1/datatables.min.js\"></script>\n\t\t<script type=\"text/javascript\" src=\"https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.0/js/bootstrap.min.js\"></script>\n\t</head>\n\t<body>\n\t\t<div class=\"modal fade\" id=\"modal\" tabindex=\"-1\">\n\t\t\t<div class=\"modal-dialog\">\n\t\t\t\t<div class=\"modal-content\">\n\t\t\t\t\t<div class=\"modal-header\">\n\t\t\t\t\t\t<h4 class=\"modal-title\">Processing ...</h4>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"modal-body\">\n\t\t\t\t\t\t<p>Please wait while the changes are applied.</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"container-fluid p-3 small\">\n\t\t\t<form id=\"tableForm\" method=\"post\" action=\"/{{ flow }}\">\n    \t\t\t<div class=\"row\">\n    \t\t\t\t<div class=\"col-md-11\">\n    \t\t\t\t\t<h4>{{ title }}</h4>\n                        {{#unescaped}}\n    \t\t\t\t\t\t<p >{{{ description }}}</p>\n            \t\t\t{{/unescaped}}\n        \t\t\t\t{{^unescaped}}\n                            <p >{{ description }}</p>\n    \t\t            {{/unescaped}}\n    \t\t\t\t</div>\n    \t\t\t\t<div class=\"col-md-1\">\n    \t\t\t\t{{ #httpcalls }}\n    \t\t\t\t\t<button onclick=\"window.history.go(-{{ . }})\" class=\"btn btn-secondary btn-sm\">Go Back</button>\n    \t\t\t\t{{ /httpcalls }}\n\t\t\t        {{#type}}\n    \t\t\t        <br/>\n    \t\t\t        <br/>\n\t    \t\t\t\t<input type=\"submit\" id=\"btnSubmit\" value=\"Execute\" class=\"btn btn-primary btn-sm\">\n    \t\t\t\t{{/type}}\n\n    \t\t\t\t</div>\n    \t\t\t</div>\n    \t\t\t<div class=\"row\">\n    \t\t\t\t<div class=\"col\">\n\t\t\t\t\t{{#hiddenfields}}\n\t\t\t\t\t\t<input type=\"hidden\" name=\"{{name}}\" value=\"{{value}}\" />\n\t\t\t\t\t{{/hiddenfields}}\n\t\t\t\t\t\t<input id=\"FullSelect\" type=\"hidden\" name=\"response_full\" value=\"\"/>\n\t\t\t\t\t\t<table id=\"selectiontable\" class=\"table table-bordered table-striped table-hover table-sm\">\n\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t{{#type}}\n                                    <th>\n                                    {{#checkbox}}\n                                        <div class=\"btn-group btn-sm\">\n                                            <button type=\"button\" id=\"selectAll\"  class=\"btn btn-outline-primary btn-sm\"> All </button>\n                                            <button type=\"button\" id=\"selectPage\" class=\"btn btn-outline-primary btn-sm\"> Page </button>\n                                        </div>\n                                    {{/checkbox}}\n                                    </th>\n\t\t\t\t\t\t\t\t{{/type}}\n\t\t\t\t\t\t\t\t{{#tableheader.columns}}\n\t\t\t\t\t\t    \t\t{{#unescaped}}\n\t\t\t\t\t\t\t\t\t<th>{{{ . }}}</th>\n\t\t\t\t\t    \t\t\t{{/unescaped}}\n\t\t\t\t    \t\t\t\t{{^unescaped}}\n\t\t\t\t\t\t\t\t\t<th>{{ . }}</th>\n\t\t\t\t\t\t\t    \t{{/unescaped}}\n\t\t\t\t\t\t\t\t{{/tableheader.columns}}\n\t\t\t\t\t\t\t  </tr>\n\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t{{#dataarray}}\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t{{#type}}\n\t\t\t\t\t\t\t\t{{^deactivated}}\n\t\t\t\t\t\t\t\t\t<td><input type=\"{{ type }}\" value=\"{{ selection }}\" name=\"responsekey\" class=\"checkthis\" {{#checked}} checked {{/checked}}/></td>\n\t\t\t\t\t\t\t\t{{/deactivated}}\n\t\t\t\t\t\t\t\t{{#deactivated}}\n\t\t\t\t\t\t\t\t\t<td> - </td>\n\t\t\t\t\t\t\t\t{{/deactivated}}\n\t\t\t\t\t\t\t\t{{/type}}\n\t\t\t\t\t\t\t\t{{#columns}}\n    \t\t\t\t\t\t\t\t{{#unescaped}}\n\t\t\t\t\t\t\t\t\t<td>{{{ . }}}</td>\n\t    \t\t\t\t\t\t\t{{/unescaped}}\n\t\t    \t\t\t\t\t\t{{^unescaped}}\n\t\t\t\t\t\t\t\t\t<td>{{ . }}</td>\n\t\t\t    \t\t\t\t\t{{/unescaped}}\n\t\t\t\t\t\t\t\t{{/columns}}\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t{{/dataarray}}\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t<tfoot>\n\t\t\t\t\t\t\t    \n\t\t\t\t\t\t\t</tfoot>\n\t\t\t\t\t\t</table>\n    \t\t\t\t</div>\n    \t\t\t</div>\n\t\t\t</form>\n\t\t</div>\n\t\t<!-- End your project here-->\n\t  \n\t\t<!-- Your custom scripts (optional) -->\n\t\t<script type=\"text/javascript\">\n            $(document).ready(function () { \n                var oTable = $('#selectiontable').dataTable({\n\t\t\t\t{{#type}}\n                    columnDefs: [{\n                        className: 'dt-center',\n                        width: 40,\n                        orderable: false,\n                        targets:   0\n                    }],\n                {{/type}}\n                    order: [],\n                    scrollY: '40vh',\n                    paging: true\n                });\n            {{#checkbox}}\n                var allPages = oTable.fnGetNodes();\n                $('body').on('click', '#selectAll', function () {\n                    if ($(this).hasClass('allChecked')) {\n                        $('input[type=\"checkbox\"]', allPages).prop('checked', false);\n                    } else {\n                        $('input[type=\"checkbox\"]', allPages).prop('checked', true);\n                    }\n                    $(this).toggleClass('allChecked');\n                });\n                $('body').on('click', '#selectPage', function () {\n                    if ($(this).hasClass('allChecked')) {\n                        $('input[type=\"checkbox\"]').prop('checked', false);\n                    } else {\n                        $('input[type=\"checkbox\"]').prop('checked', true);\n                    }\n                    $(this).toggleClass('allChecked');\n                });\n            {{/checkbox}}\n            \n                $(\"#tableForm\").submit( function(event) {\n                    var returndata =  (oTable.$('input[type={{type}}]:checked').map(function() {\n                            return [$(this).val()]\n                        }).get()\n                    );\n\t\t\t\t\t$('input[name=\"response_full\"]').val(JSON.stringify(returndata));\n\t                $(\"#modal\").modal(\"show\");\n                    window.parent.scroll(0,0);\n\n                });\n            window.addEventListener('resize', function(event) {\n                    otable.columns.adjust().draw();\n                }, true);\n\n            });\n\t\t</script>\n\t</body>\n</html>\n",
        "output": "str",
        "x": 800,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "e1cf81e0db9ec340",
        "type": "change",
        "z": "2ece8d9b40a70275",
        "name": "default unescaped to false, type is checkbox or radio",
        "rules": [
            {
                "t": "set",
                "p": "unescaped",
                "pt": "msg",
                "to": "unescaped=true?true:false",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "checkbox",
                "pt": "msg",
                "to": "type=\"checkbox\"?true:false\t",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "radio",
                "pt": "msg",
                "to": "type=\"radio\"?true:false\t",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "type",
                "pt": "msg",
                "to": "type in [\"checkbox\", \"radio\"]?type:false",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 400,
        "y": 160,
        "wires": [
            [
                "2af9888f9639bac2"
            ]
        ]
    },
    {
        "id": "2af9888f9639bac2",
        "type": "template",
        "z": "2ece8d9b40a70275",
        "name": "fill input form template",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "<!DOCTYPE html>\n<html lang=\"en\">\n\t<head>\n\t\t<meta charset=\"utf-8\">\n\t\t<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n\t\t<meta name=\"viewport\" content=\"width=device-width, height=device-height, initial-scale=0.9\">\n\t\t<title>{{title}}</title>\n\t\t<link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.0/css/bootstrap.min.css\"/>\n\t\t<link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdn.datatables.net/v/bs4-4.6.0/jq-3.6.0/dt-1.13.1/datatables.min.css\"/>\n\t\t<script type=\"text/javascript\" src=\"https://cdn.datatables.net/v/bs4-4.6.0/jq-3.6.0/dt-1.13.1/datatables.min.js\"></script>\n\t\t<script type=\"text/javascript\" src=\"https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.0/js/bootstrap.min.js\"></script>\n\t</head>\n\t<body>\n\t\t<div class=\"modal fade\" id=\"modal\" tabindex=\"-1\">\n\t\t\t<div class=\"modal-dialog\">\n\t\t\t\t<div class=\"modal-content\">\n\t\t\t\t\t<div class=\"modal-header\">\n\t\t\t\t\t\t<h4 class=\"modal-title\">Processing ...</h4>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"modal-body\">\n\t\t\t\t\t\t<p>Please wait while the changes are applied.</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"container-fluid p-3 small\">\n\t\t\t<form id=\"tableForm\" method=\"post\" action=\"/{{ flow }}\">\n    \t\t\t<div class=\"row\">\n    \t\t\t\t<div class=\"col-md-11\">\n    \t\t\t\t\t<h4>{{ title }}</h4>\n                        {{#unescaped}}\n    \t\t\t\t\t\t<p >{{{ description }}}</p>\n            \t\t\t{{/unescaped}}\n        \t\t\t\t{{^unescaped}}\n                            <p >{{ description }}</p>\n    \t\t            {{/unescaped}}\n    \t\t\t\t</div>\n    \t\t\t\t<div class=\"col-md-1\">\n    \t\t\t\t{{^cancel}}\n\t\t\t\t\t\t{{ #httpcalls }}\n\t\t\t\t\t\t\t<button onclick=\"window.history.go(-{{ . }})\" class=\"btn btn-secondary btn-sm\">Go Back</button>\n\t\t\t\t\t\t{{ /httpcalls }}\n\t\t\t\t\t{{/cancel}}\n    \t\t\t\t{{#cancel}}\n\t\t\t\t\t\t<button onclick=\"submit\" class=\"btn btn-secondary btn-sm\">Cancel</button>\n\t\t\t\t\t{{/cancel}}\n\t\t\t        {{#type}}\n    \t\t\t        <br/>\n    \t\t\t        <br/>\n\t    \t\t\t\t<input type=\"submit\" id=\"btnSubmit\" value=\"Execute\" class=\"btn btn-primary btn-sm\">\n    \t\t\t\t{{/type}}\n\n    \t\t\t\t</div>\n    \t\t\t</div>\n    \t\t\t<div class=\"row\">\n    \t\t\t\t<div class=\"col\">\n\t\t\t\t\t{{#hiddenfields}}\n\t\t\t\t\t\t<input type=\"hidden\" name=\"{{name}}\" value=\"{{value}}\" />\n\t\t\t\t\t{{/hiddenfields}}\n\t\t\t\t\t\t<input id=\"FullSelect\" type=\"hidden\" name=\"response_full\" value=\"\"/>\n\t\t\t\t\t\t<table id=\"selectiontable\" class=\"table table-bordered table-striped table-hover table-sm\">\n\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t{{#type}}\n                                    <th>\n                                    {{#checkbox}}\n                                        <div class=\"btn-group btn-sm\">\n                                            <button type=\"button\" id=\"selectAll\"  class=\"btn btn-outline-primary btn-sm\"> All </button>\n                                            <button type=\"button\" id=\"selectPage\" class=\"btn btn-outline-primary btn-sm\"> Page </button>\n                                        </div>\n                                    {{/checkbox}}\n                                    </th>\n\t\t\t\t\t\t\t\t{{/type}}\n\t\t\t\t\t\t\t\t{{#tableheader.columns}}\n\t\t\t\t\t\t    \t\t{{#unescaped}}\n\t\t\t\t\t\t\t\t\t<th>{{{ . }}}</th>\n\t\t\t\t\t    \t\t\t{{/unescaped}}\n\t\t\t\t    \t\t\t\t{{^unescaped}}\n\t\t\t\t\t\t\t\t\t<th>{{ . }}</th>\n\t\t\t\t\t\t\t    \t{{/unescaped}}\n\t\t\t\t\t\t\t\t{{/tableheader.columns}}\n\t\t\t\t\t\t\t  </tr>\n\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t{{#dataarray}}\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t{{#type}}\n\t\t\t\t\t\t\t\t{{^deactivated}}\n\t\t\t\t\t\t\t\t\t<td><input type=\"{{ type }}\" value=\"{{ selection }}\" name=\"responsekey\" class=\"checkthis\" {{#checked}} checked {{/checked}}/></td>\n\t\t\t\t\t\t\t\t{{/deactivated}}\n\t\t\t\t\t\t\t\t{{#deactivated}}\n\t\t\t\t\t\t\t\t\t<td> - </td>\n\t\t\t\t\t\t\t\t{{/deactivated}}\n\t\t\t\t\t\t\t\t{{/type}}\n\t\t\t\t\t\t\t\t{{#columns}}\n    \t\t\t\t\t\t\t\t{{#unescaped}}\n\t\t\t\t\t\t\t\t\t<td>{{{ . }}}</td>\n\t    \t\t\t\t\t\t\t{{/unescaped}}\n\t\t    \t\t\t\t\t\t{{^unescaped}}\n\t\t\t\t\t\t\t\t\t<td>{{ . }}</td>\n\t\t\t    \t\t\t\t\t{{/unescaped}}\n\t\t\t\t\t\t\t\t{{/columns}}\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t{{/dataarray}}\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t<tfoot>\n\t\t\t\t\t\t\t    \n\t\t\t\t\t\t\t</tfoot>\n\t\t\t\t\t\t</table>\n    \t\t\t\t</div>\n    \t\t\t</div>\n\t\t\t</form>\n\t\t</div>\n\t\t<!-- End your project here-->\n\t  \n\t\t<!-- Your custom scripts (optional) -->\n\t\t<script type=\"text/javascript\">\n            $(document).ready(function () { \n                var oTable = $('#selectiontable').dataTable({\n\t\t\t\t{{#type}}\n                    columnDefs: [{\n                        className: 'dt-center',\n                        width: 40,\n                        orderable: false,\n                        targets:   0\n                    }],\n                {{/type}}\n                    order: [],\n                    scrollY: '40vh',\n                    paging: true\n                });\n            {{#checkbox}}\n                var allPages = oTable.fnGetNodes();\n                $('body').on('click', '#selectAll', function () {\n                    if ($(this).hasClass('allChecked')) {\n                        $('input[type=\"checkbox\"]', allPages).prop('checked', false);\n                    } else {\n                        $('input[type=\"checkbox\"]', allPages).prop('checked', true);\n                    }\n                    $(this).toggleClass('allChecked');\n                });\n                $('body').on('click', '#selectPage', function () {\n                    if ($(this).hasClass('allChecked')) {\n                        $('input[type=\"checkbox\"]').prop('checked', false);\n                    } else {\n                        $('input[type=\"checkbox\"]').prop('checked', true);\n                    }\n                    $(this).toggleClass('allChecked');\n                });\n            {{/checkbox}}\n            \n                $(\"#tableForm\").submit( function(event) {\n                    var returndata =  (oTable.$('input[type={{type}}]:checked').map(function() {\n                            return [$(this).val()]\n                        }).get()\n                    );\n\t\t\t\t\t$('input[name=\"response_full\"]').val(JSON.stringify(returndata));\n\t                $(\"#modal\").modal(\"show\");\n                    window.parent.scroll(0,0);\n\n                });\n            window.addEventListener('resize', function(event) {\n                    otable.columns.adjust().draw();\n                }, true);\n\n            });\n\t\t</script>\n\t</body>\n</html>\n",
        "output": "str",
        "x": 780,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "2b68984ccd2285e1",
        "type": "change",
        "z": "391f8570abc63add",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "vault_api & \"v22.3/objects/documents/\" & args.doc_id",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "headers",
                "pt": "msg",
                "to": "{\t   \"Content-Type\": \"multipart/form-data\",\t   \"Accept\": \"application/json\",\t   \"Authorization\": session_id,\t   \"X-VaultAPI-ClientID\": client_id\t}",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 550,
        "y": 140,
        "wires": [
            [
                "22f6dfb87e2ad25f"
            ]
        ]
    },
    {
        "id": "22f6dfb87e2ad25f",
        "type": "http request",
        "z": "391f8570abc63add",
        "name": "",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 790,
        "y": 140,
        "wires": [
            [
                "21fe8eb40f454e6a"
            ]
        ]
    },
    {
        "id": "d33a2ba03fa17cab",
        "type": "change",
        "z": "391f8570abc63add",
        "name": "Delete Arguments",
        "rules": [
            {
                "t": "delete",
                "p": "args",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1070,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "615a0b6d3689b73f",
        "type": "switch",
        "z": "391f8570abc63add",
        "name": "Check args.keep",
        "property": "args.keep",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 750,
        "y": 380,
        "wires": [
            [],
            [
                "d33a2ba03fa17cab"
            ]
        ]
    },
    {
        "id": "4f59df722ebb0fcb",
        "type": "change",
        "z": "391f8570abc63add",
        "name": "Delete URL and Headers",
        "rules": [
            {
                "t": "delete",
                "p": "url",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "headers",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 490,
        "y": 380,
        "wires": [
            [
                "615a0b6d3689b73f"
            ]
        ]
    },
    {
        "id": "d1c757f2307883f1",
        "type": "comment",
        "z": "391f8570abc63add",
        "name": "Deletion of msg content",
        "info": "",
        "x": 360,
        "y": 280,
        "wires": []
    },
    {
        "id": "21fe8eb40f454e6a",
        "type": "switch",
        "z": "391f8570abc63add",
        "name": "Check creation status",
        "property": "payload.responseStatus",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "SUCCESS",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1040,
        "y": 140,
        "wires": [
            [
                "4f59df722ebb0fcb"
            ],
            []
        ]
    },
    {
        "id": "cfa437bfd6ab15cb",
        "type": "comment",
        "z": "391f8570abc63add",
        "name": "Create Version",
        "info": "",
        "x": 340,
        "y": 60,
        "wires": []
    },
    {
        "id": "be3b0e3f01041787",
        "type": "change",
        "z": "2a24cd366adb05e3",
        "name": "obj_user_act",
        "rules": [
            {
                "t": "set",
                "p": "version",
                "pt": "msg",
                "to": "v22.1",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "headers",
                "pt": "msg",
                "to": "{\t   \"Content-Type\": \"application/x-www-form-urlencoded\",\t   \"Accept\": \"application/json\",\t   \"Authorization\": session_id \t}",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "vault_api & version & \"/vobjects/\" & args.object_name\t& \"/\" & args.object_record_id\t& \"/actions/\"\t& args.action_name",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "method",
                "pt": "msg",
                "to": "POST",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 160,
        "wires": [
            [
                "2fb81ebb7facb797",
                "c6046d0f7aa13354"
            ]
        ]
    },
    {
        "id": "2fb81ebb7facb797",
        "type": "http request",
        "z": "2a24cd366adb05e3",
        "name": "initiate user action",
        "method": "use",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 560,
        "y": 160,
        "wires": [
            [
                "b0a77cbb9f533491",
                "497ce7feb743fbed"
            ]
        ]
    },
    {
        "id": "bb373d0f054efbbd",
        "type": "switch",
        "z": "2a24cd366adb05e3",
        "name": "response status",
        "property": "payload.responseStatus",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "SUCCESS",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 960,
        "y": 160,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "c6046d0f7aa13354",
        "type": "debug",
        "z": "2a24cd366adb05e3",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 490,
        "y": 300,
        "wires": []
    },
    {
        "id": "b0a77cbb9f533491",
        "type": "debug",
        "z": "2a24cd366adb05e3",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 770,
        "y": 300,
        "wires": []
    },
    {
        "id": "497ce7feb743fbed",
        "type": "change",
        "z": "2a24cd366adb05e3",
        "name": "",
        "rules": [
            {
                "t": "delete",
                "p": "args",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "method",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 770,
        "y": 160,
        "wires": [
            [
                "bb373d0f054efbbd"
            ]
        ]
    },
    {
        "id": "2eaca4652159010c",
        "type": "json",
        "z": "594e48a4aa27c6b6",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 450,
        "y": 260,
        "wires": [
            [
                "a1e5555a061fd822"
            ]
        ]
    },
    {
        "id": "a1e5555a061fd822",
        "type": "change",
        "z": "594e48a4aa27c6b6",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "args.topic",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 470,
        "y": 160,
        "wires": [
            [
                "7ca35a82f3c2fd7d"
            ]
        ]
    },
    {
        "id": "bd681c4c150652b2",
        "type": "redis-command",
        "z": "594e48a4aa27c6b6",
        "server": "a0efbb89.5e42d8",
        "command": "SET",
        "name": "",
        "topic": "",
        "params": "[]",
        "paramsType": "json",
        "payloadType": "json",
        "block": false,
        "x": 1000,
        "y": 160,
        "wires": [
            [
                "204e59c63465c1c8"
            ]
        ]
    },
    {
        "id": "7dec81da7726c8a7",
        "type": "redis-command",
        "z": "594e48a4aa27c6b6",
        "server": "a0efbb89.5e42d8",
        "command": "GET",
        "name": "",
        "topic": "",
        "params": "",
        "paramsType": "json",
        "payloadType": "json",
        "block": false,
        "x": 660,
        "y": 300,
        "wires": [
            [
                "f803562f047d05ef",
                "3801b5c70bd3b6cc"
            ]
        ]
    },
    {
        "id": "a07c38571ff88e33",
        "type": "json",
        "z": "594e48a4aa27c6b6",
        "name": "",
        "property": "payload",
        "action": "obj",
        "pretty": false,
        "x": 1010,
        "y": 300,
        "wires": [
            [
                "158ca02db9c11de5"
            ]
        ]
    },
    {
        "id": "793f7e54dbae0543",
        "type": "switch",
        "z": "594e48a4aa27c6b6",
        "name": "input or output",
        "property": "args.method",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "SET",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "GET",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "DELETE",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "RPUSH",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "LRANGE",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 6,
        "x": 220,
        "y": 320,
        "wires": [
            [
                "2eaca4652159010c"
            ],
            [
                "20c9d1f992ebd4f2"
            ],
            [
                "3eeb464b507f40f8"
            ],
            [
                "911013486e5a56ed"
            ],
            [
                "c13a909837cd0cb5"
            ],
            [
                "5fa4ff9a8d12387f"
            ]
        ]
    },
    {
        "id": "204e59c63465c1c8",
        "type": "switch",
        "z": "594e48a4aa27c6b6",
        "name": "ok?",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "OK",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1150,
        "y": 160,
        "wires": [
            [
                "158ca02db9c11de5"
            ],
            []
        ]
    },
    {
        "id": "20c9d1f992ebd4f2",
        "type": "change",
        "z": "594e48a4aa27c6b6",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "args.topic",
                "tot": "msg"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 490,
        "y": 300,
        "wires": [
            [
                "7dec81da7726c8a7"
            ]
        ]
    },
    {
        "id": "d4a16b3fbbd68b6e",
        "type": "redis-command",
        "z": "594e48a4aa27c6b6",
        "server": "a0efbb89.5e42d8",
        "command": "DEL",
        "name": "",
        "topic": "",
        "params": "[]",
        "paramsType": "json",
        "payloadType": "json",
        "block": false,
        "x": 660,
        "y": 340,
        "wires": [
            [
                "54c4e178e45aea62"
            ]
        ]
    },
    {
        "id": "f803562f047d05ef",
        "type": "switch",
        "z": "594e48a4aa27c6b6",
        "name": "keep queue?",
        "property": "args.keep_queue",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 650,
        "y": 240,
        "wires": [
            [
                "b276c97a297f0dbc"
            ]
        ]
    },
    {
        "id": "3801b5c70bd3b6cc",
        "type": "switch",
        "z": "594e48a4aa27c6b6",
        "name": "",
        "property": "$type(payload) = \"string\" and $substring($trim(payload), 0, 1) in [\"[\",\"{\"]",
        "propertyType": "jsonata",
        "rules": [
            {
                "t": "false"
            },
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 850,
        "y": 300,
        "wires": [
            [
                "158ca02db9c11de5"
            ],
            [
                "a07c38571ff88e33"
            ]
        ]
    },
    {
        "id": "7ca35a82f3c2fd7d",
        "type": "switch",
        "z": "594e48a4aa27c6b6",
        "name": "expire?",
        "property": "args.expire",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 640,
        "y": 160,
        "wires": [
            [
                "6aca2597e86369a9"
            ],
            [
                "bd681c4c150652b2"
            ]
        ]
    },
    {
        "id": "6aca2597e86369a9",
        "type": "change",
        "z": "594e48a4aa27c6b6",
        "name": "set expire",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "[ payload, \"EX\", args.expire ]",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 820,
        "y": 120,
        "wires": [
            [
                "bd681c4c150652b2"
            ]
        ]
    },
    {
        "id": "54c4e178e45aea62",
        "type": "switch",
        "z": "594e48a4aa27c6b6",
        "name": "keep?",
        "property": "args.keep",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1410,
        "y": 340,
        "wires": [
            [],
            [
                "adfc665125823cbb"
            ]
        ]
    },
    {
        "id": "adfc665125823cbb",
        "type": "change",
        "z": "594e48a4aa27c6b6",
        "name": "",
        "rules": [
            {
                "t": "delete",
                "p": "args",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1560,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "158ca02db9c11de5",
        "type": "change",
        "z": "594e48a4aa27c6b6",
        "name": "",
        "rules": [
            {
                "t": "delete",
                "p": "topic",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1240,
        "y": 220,
        "wires": [
            [
                "54c4e178e45aea62"
            ]
        ]
    },
    {
        "id": "742929adec7acddf",
        "type": "link in",
        "z": "594e48a4aa27c6b6",
        "name": "link in 1",
        "links": [
            "5fa4ff9a8d12387f",
            "b4af302ce701e18c"
        ],
        "x": 1465,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "3eeb464b507f40f8",
        "type": "change",
        "z": "594e48a4aa27c6b6",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "args.topic",
                "tot": "msg"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 490,
        "y": 340,
        "wires": [
            [
                "d4a16b3fbbd68b6e"
            ]
        ]
    },
    {
        "id": "b276c97a297f0dbc",
        "type": "redis-command",
        "z": "594e48a4aa27c6b6",
        "server": "a0efbb89.5e42d8",
        "command": "DEL",
        "name": "",
        "topic": "",
        "params": "[]",
        "paramsType": "json",
        "payloadType": "json",
        "block": false,
        "x": 840,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "5fa4ff9a8d12387f",
        "type": "link out",
        "z": "594e48a4aa27c6b6",
        "name": "link out 1",
        "mode": "link",
        "links": [
            "742929adec7acddf"
        ],
        "x": 275,
        "y": 500,
        "wires": []
    },
    {
        "id": "d69ae3255e8a8bdb",
        "type": "change",
        "z": "594e48a4aa27c6b6",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "args.topic",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 700,
        "y": 380,
        "wires": [
            [
                "95f79d5a94c573bf"
            ]
        ]
    },
    {
        "id": "95f79d5a94c573bf",
        "type": "redis-command",
        "z": "594e48a4aa27c6b6",
        "server": "a0efbb89.5e42d8",
        "command": "RPUSH",
        "name": "",
        "topic": "",
        "params": "[]",
        "paramsType": "json",
        "payloadType": "json",
        "block": false,
        "x": 950,
        "y": 380,
        "wires": [
            [
                "54c4e178e45aea62"
            ]
        ]
    },
    {
        "id": "b88e2ce94a82c5d0",
        "type": "change",
        "z": "594e48a4aa27c6b6",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "[args.topic, -1, -1]",
                "tot": "jsonata"
            },
            {
                "t": "delete",
                "p": "topic",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 710,
        "y": 480,
        "wires": [
            [
                "4ea4218458d18fd7"
            ]
        ]
    },
    {
        "id": "4ea4218458d18fd7",
        "type": "redis-command",
        "z": "594e48a4aa27c6b6",
        "server": "a0efbb89.5e42d8",
        "command": "LRANGE",
        "name": "",
        "topic": "",
        "params": "[]",
        "paramsType": "json",
        "payloadType": "json",
        "block": false,
        "x": 960,
        "y": 460,
        "wires": [
            [
                "99add7efe389adbd"
            ]
        ]
    },
    {
        "id": "911013486e5a56ed",
        "type": "json",
        "z": "594e48a4aa27c6b6",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 450,
        "y": 380,
        "wires": [
            [
                "d69ae3255e8a8bdb"
            ]
        ]
    },
    {
        "id": "c13a909837cd0cb5",
        "type": "switch",
        "z": "594e48a4aa27c6b6",
        "name": "",
        "property": "true",
        "propertyType": "jsonata",
        "rules": [
            {
                "t": "eq",
                "v": "$count(payload) = 3 and $type(payload[0]) = \"string\" and $type(payload[1]) =\"number\" and $type(payload[2]) =\"number\"",
                "vt": "jsonata"
            },
            {
                "t": "eq",
                "v": "$count(payload) =2 and $type(payload[0]) = \"number\" and $type(payload[1]) =\"number\" and  $type(args.topic) = \"string\" and $boolean(args.topic)",
                "vt": "jsonata"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 3,
        "x": 450,
        "y": 440,
        "wires": [
            [
                "c995f2ef87c8d23f"
            ],
            [
                "b88e2ce94a82c5d0"
            ],
            [
                "5fa4ff9a8d12387f"
            ]
        ]
    },
    {
        "id": "c995f2ef87c8d23f",
        "type": "change",
        "z": "594e48a4aa27c6b6",
        "name": "",
        "rules": [
            {
                "t": "delete",
                "p": "topic",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 710,
        "y": 440,
        "wires": [
            [
                "4ea4218458d18fd7"
            ]
        ]
    },
    {
        "id": "ce1854a67120b27e",
        "type": "json",
        "z": "594e48a4aa27c6b6",
        "name": "",
        "property": "payload",
        "action": "obj",
        "pretty": false,
        "x": 1350,
        "y": 600,
        "wires": [
            [
                "5896da5369dddf0f"
            ]
        ]
    },
    {
        "id": "99add7efe389adbd",
        "type": "split",
        "z": "594e48a4aa27c6b6",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1070,
        "y": 560,
        "wires": [
            [
                "e0aed79957164aab"
            ]
        ]
    },
    {
        "id": "5896da5369dddf0f",
        "type": "join",
        "z": "594e48a4aa27c6b6",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 1490,
        "y": 560,
        "wires": [
            [
                "54c4e178e45aea62"
            ]
        ]
    },
    {
        "id": "e0aed79957164aab",
        "type": "switch",
        "z": "594e48a4aa27c6b6",
        "name": "",
        "property": "$type(payload) = \"string\" and $substring($trim(payload), 0, 1) in [\"[\",\"{\"]",
        "propertyType": "jsonata",
        "rules": [
            {
                "t": "false"
            },
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1210,
        "y": 560,
        "wires": [
            [
                "5896da5369dddf0f"
            ],
            [
                "ce1854a67120b27e"
            ]
        ]
    },
    {
        "id": "2909707aec157562",
        "type": "change",
        "z": "743f388ad8cf50d6",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "vault_api & \"v22.3/objects/documents/\" &\t$string(args.doc_id)\t& \"/versions/\" & \t$string(args.major_version) & \"/\" &\t$string(args.minor_version)",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "headers",
                "pt": "msg",
                "to": "{\t   \"Content-Type\": \"application/x-www-form-urlencoded\",\t   \"Accept\": \"application/json\",\t   \"Authorization\": session_id \t}",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "method",
                "pt": "msg",
                "to": "PUT",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 250,
        "y": 180,
        "wires": [
            [
                "f04d9309fc845818"
            ]
        ]
    },
    {
        "id": "92c394ab8b9ebc74",
        "type": "http request",
        "z": "743f388ad8cf50d6",
        "name": "update version",
        "method": "use",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 660,
        "y": 180,
        "wires": [
            [
                "53be5d9e89b2a160"
            ]
        ]
    },
    {
        "id": "53be5d9e89b2a160",
        "type": "switch",
        "z": "743f388ad8cf50d6",
        "name": "responseStatus",
        "property": "payload.responseStatus",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "SUCCESS",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 930,
        "y": 180,
        "wires": [
            [
                "113305d1ead1d0e2"
            ],
            []
        ]
    },
    {
        "id": "f04d9309fc845818",
        "type": "function",
        "z": "743f388ad8cf50d6",
        "name": "",
        "func": "let adjustData = {};\nfor (let opt in msg.payload) {\n    if (msg.payload.hasOwnProperty(opt)) {\n        let val = msg.payload[opt];\n        if (val !== undefined && val !== null  && val !== []) {\n            if (Array.isArray(val)) {\n                    let newval = val.join(\", \")\n                    adjustData[opt] = newval;\n            } else {\n                adjustData[opt] = val;\n            }\n        }\n    }\n}\nmsg.payload = adjustData;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 460,
        "y": 180,
        "wires": [
            [
                "22bbcd73af786312",
                "92c394ab8b9ebc74"
            ]
        ]
    },
    {
        "id": "22bbcd73af786312",
        "type": "debug",
        "z": "743f388ad8cf50d6",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 270,
        "y": 280,
        "wires": []
    },
    {
        "id": "113305d1ead1d0e2",
        "type": "change",
        "z": "743f388ad8cf50d6",
        "name": "Delete URL and Headers",
        "rules": [
            {
                "t": "delete",
                "p": "url",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "headers",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "method",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 790,
        "y": 40,
        "wires": [
            [
                "9ad079406a9f4872"
            ]
        ]
    },
    {
        "id": "9ad079406a9f4872",
        "type": "switch",
        "z": "743f388ad8cf50d6",
        "name": "Check args.keep",
        "property": "args.keep",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1030,
        "y": 40,
        "wires": [
            [],
            [
                "5fee046b5612fe4c"
            ]
        ]
    },
    {
        "id": "5fee046b5612fe4c",
        "type": "change",
        "z": "743f388ad8cf50d6",
        "name": "Delete Arguments",
        "rules": [
            {
                "t": "delete",
                "p": "args",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1210,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "94a2f56e6272194d",
        "type": "change",
        "z": "743f388ad8cf50d6",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "document",
                "pt": "msg",
                "to": "update_version.payload",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "delete",
                "p": "update_version",
                "pt": "msg"
            },
            {
                "t": "set",
                "p": "update_version",
                "pt": "msg",
                "to": "payload",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "update_version",
                "pt": "msg",
                "to": "$merge([create_doc, {\"document\":document}])",
                "tot": "jsonata"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "url",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "method",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "document",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 870,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "0a3a96387a18483c",
        "type": "http in",
        "z": "f5e72a5d369ff484",
        "name": "",
        "url": "session",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 160,
        "y": 760,
        "wires": [
            [
                "819cb89bee3d0e2d"
            ]
        ]
    },
    {
        "id": "85c7213efcdaf17f",
        "type": "http in",
        "z": "f5e72a5d369ff484",
        "name": "",
        "url": "token",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 150,
        "y": 920,
        "wires": [
            [
                "4e70374a72ff3ea6"
            ]
        ]
    },
    {
        "id": "bcecaf982469091d",
        "type": "http request",
        "z": "f5e72a5d369ff484",
        "name": "authenticate",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 1270,
        "y": 920,
        "wires": [
            [
                "dfe9410a2a28ec7b"
            ]
        ]
    },
    {
        "id": "f8722885b710afc5",
        "type": "change",
        "z": "f5e72a5d369ff484",
        "name": "set parameters",
        "rules": [
            {
                "t": "set",
                "p": "headers",
                "pt": "msg",
                "to": "{\t   \"Content-Type\": \"application/x-www-form-urlencoded\",\t   \"Accept\": \"application/json\",\t   \"Authorization\": \"Bearer \" & payload.id_token,\t   \"X-VaultAPI-ClientID\": params.client_id\t}",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "params.vault_domain = \"bayer-brave.veevavault.com\" ? \"https://login.veevavault.com/auth/oauth/session/_7024273a-b9a1-4560-b35e-457a59dd2259\": \"https://login.veevavault.com/auth/oauth/session/_48834f8c-49e5-4b59-ade3-1c78e4cb7a61\"",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\t   \"vaultDNS\": params.vault_domain\t}",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1060,
        "y": 920,
        "wires": [
            [
                "bcecaf982469091d"
            ]
        ]
    },
    {
        "id": "cc1f578b9e99b8c4",
        "type": "change",
        "z": "f5e72a5d369ff484",
        "name": "redirect to flow",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "/* only allow upper and lower case characters, numbers, hyphen and underscore\t   as flow name to prevent cross-site scripting */\t\"/nodes/\" & $replace(\t   params.flow,\t   /[^a-zA-Z0-9-_]/,\t   \"\"    \t)",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "statusCode",
                "pt": "msg",
                "to": "303",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "query",
                "pt": "msg",
                "to": "/* Convert object to query string */\tparams ~> $each(\t   function($v, $n) {\t       [\t           $n,\t           $v ~> $string ~> $encodeUrlComponent\t       ] ~> $join(\"=\")        \t   }    \t) ~> $join(\"&\")",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "headers",
                "pt": "msg",
                "to": "{\t   \"location\": url & \"?\" & query\t}",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1480,
        "y": 780,
        "wires": [
            [
                "8c2c1d9d09f8a919"
            ]
        ]
    },
    {
        "id": "dfe9410a2a28ec7b",
        "type": "switch",
        "z": "f5e72a5d369ff484",
        "name": "response status",
        "property": "payload.responseStatus",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "SUCCESS",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1480,
        "y": 920,
        "wires": [
            [
                "9593ab6289c8323f"
            ],
            []
        ]
    },
    {
        "id": "262aba123c6ea80f",
        "type": "comment",
        "z": "f5e72a5d369ff484",
        "name": "responde to AzureAD postback",
        "info": "",
        "x": 190,
        "y": 880,
        "wires": []
    },
    {
        "id": "3148932905f3bca7",
        "type": "json",
        "z": "f5e72a5d369ff484",
        "name": "parse state",
        "property": "params",
        "action": "obj",
        "pretty": false,
        "x": 570,
        "y": 920,
        "wires": [
            [
                "0c6cad8261442e8f"
            ]
        ]
    },
    {
        "id": "4e70374a72ff3ea6",
        "type": "change",
        "z": "f5e72a5d369ff484",
        "name": "store params",
        "rules": [
            {
                "t": "set",
                "p": "params",
                "pt": "msg",
                "to": "payload.state",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 370,
        "y": 920,
        "wires": [
            [
                "3148932905f3bca7"
            ]
        ]
    },
    {
        "id": "d6d72fa32350287a",
        "type": "switch",
        "z": "f5e72a5d369ff484",
        "name": "redirect?",
        "property": "params.flow",
        "propertyType": "msg",
        "rules": [
            {
                "t": "null"
            },
            {
                "t": "nnull"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1260,
        "y": 760,
        "wires": [
            [
                "35051a3545d1e8af"
            ],
            [
                "cc1f578b9e99b8c4"
            ]
        ]
    },
    {
        "id": "35051a3545d1e8af",
        "type": "template",
        "z": "f5e72a5d369ff484",
        "name": "show session id",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "<!DOCTYPE html>\n<html>\n    <body>\n        <p>Your Vault Session ID for <b>{{params.vault_domain}}</b> is <b>{{payload.sessionId}}</b>.</p>\n    </body>\n</html>\n",
        "output": "str",
        "x": 1480,
        "y": 740,
        "wires": [
            [
                "8c2c1d9d09f8a919"
            ]
        ]
    },
    {
        "id": "9b5b9c4fc62588c5",
        "type": "comment",
        "z": "f5e72a5d369ff484",
        "name": "retrieve session id from cookie or redirect to login",
        "info": "",
        "x": 250,
        "y": 80,
        "wires": []
    },
    {
        "id": "1e8d3a61593356ca",
        "type": "switch",
        "z": "f5e72a5d369ff484",
        "name": "check cookie",
        "property": "req.cookies.session_id",
        "propertyType": "msg",
        "rules": [
            {
                "t": "jsonata_exp",
                "v": "req.cookies.session_id and req.cookies.vault_domain and ($not($exists(payload.vault_domain)) or payload.vault_domain = req.cookies.vault_domain)",
                "vt": "jsonata"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 490,
        "y": 120,
        "wires": [
            [
                "c5cb49688452c535"
            ],
            [
                "64b003f7a1c1a58b"
            ]
        ]
    },
    {
        "id": "c5cb49688452c535",
        "type": "change",
        "z": "f5e72a5d369ff484",
        "name": "retrieve session_id from cookie",
        "rules": [
            {
                "t": "set",
                "p": "session_id",
                "pt": "msg",
                "to": "req.cookies.session_id",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "vault_api",
                "pt": "msg",
                "to": "\"https://\" & req.cookies.vault_domain & \"/api/\"",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "credentials",
                "pt": "msg",
                "to": "$merge(\t    [\t       credentials,\t       {\t           payload.vault_domain: {\t               \"session_id\": session_id,\t               \"vault_api\": vault_api\t            }\t        }\t    ]\t)",
                "tot": "jsonata"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 750,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "64b003f7a1c1a58b",
        "type": "change",
        "z": "f5e72a5d369ff484",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload.flow",
                "pt": "msg",
                "to": "$substringBefore(req.url, \"?\") ~> $substringAfter(\"/\") ",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 720,
        "y": 200,
        "wires": [
            [
                "4d5f079101590ddc"
            ]
        ]
    },
    {
        "id": "0c6cad8261442e8f",
        "type": "switch",
        "z": "f5e72a5d369ff484",
        "name": "vault_domain specified?",
        "property": "params.vault_domain",
        "propertyType": "msg",
        "rules": [
            {
                "t": "null"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 810,
        "y": 920,
        "wires": [
            [
                "fbdf547da8acaa84"
            ],
            [
                "f8722885b710afc5"
            ]
        ]
    },
    {
        "id": "9593ab6289c8323f",
        "type": "change",
        "z": "f5e72a5d369ff484",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "cookies",
                "pt": "msg",
                "to": "/* Store session state in cookie */\t{\t   \"session_id\": {\t       \"value\": payload.sessionId,\t       \"sameSite\": \"none\",\t       \"secure\": true,\t       \"domain\": $substringBefore(req.headers.host, \":\"),\t       \"path\": \"/nodes/\",\t       \"maxAge\": 7000000     \t   },\t   \"user_id\": {\t       \"value\": payload.userId,\t       \"sameSite\": \"none\",\t       \"secure\": true,\t       \"domain\": $substringBefore(req.headers.host, \":\"),\t       \"path\": \"/nodes/\",\t       \"maxAge\": 7000000    \t   },\t   \"vault_id\":  {\t       \"value\": payload.vaultId,\t       \"sameSite\": \"none\",\t       \"secure\": true,\t       \"domain\": $substringBefore(req.headers.host, \":\"),\t       \"path\": \"/nodes/\",\t       \"maxAge\": 7000000    \t   },\t   \"vault_domain\":  {\t       \"value\": params.vault_domain,\t       \"sameSite\": \"none\",\t       \"secure\": true,\t       \"domain\": $substringBefore(req.headers.host, \":\"),\t       \"path\": \"/nodes/\",\t       \"maxAge\": 7000000    \t   }\t}",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1060,
        "y": 760,
        "wires": [
            [
                "d6d72fa32350287a"
            ]
        ]
    },
    {
        "id": "819cb89bee3d0e2d",
        "type": "change",
        "z": "f5e72a5d369ff484",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "params",
                "pt": "msg",
                "to": "payload",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "delete",
                "p": "params.sessionId",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 400,
        "y": 760,
        "wires": [
            [
                "4683cc7ab133183c"
            ]
        ]
    },
    {
        "id": "46617671d19f352a",
        "type": "comment",
        "z": "f5e72a5d369ff484",
        "name": "respond to Vault UI postback",
        "info": "",
        "x": 180,
        "y": 720,
        "wires": []
    },
    {
        "id": "4683cc7ab133183c",
        "type": "switch",
        "z": "f5e72a5d369ff484",
        "name": "vault_domain specified?",
        "property": "params.vault_domain",
        "propertyType": "msg",
        "rules": [
            {
                "t": "null"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 650,
        "y": 760,
        "wires": [
            [
                "fbdf547da8acaa84"
            ],
            [
                "9593ab6289c8323f"
            ]
        ]
    },
    {
        "id": "8c2c1d9d09f8a919",
        "type": "http response",
        "z": "f5e72a5d369ff484",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 1670,
        "y": 760,
        "wires": []
    },
    {
        "id": "7848e7b4057f6f9e",
        "type": "comment",
        "z": "f5e72a5d369ff484",
        "name": "store session id in cookie",
        "info": "",
        "x": 1090,
        "y": 720,
        "wires": []
    },
    {
        "id": "6c62d9d78cbe0589",
        "type": "comment",
        "z": "f5e72a5d369ff484",
        "name": "login to Vault with OIDC identity token",
        "info": "",
        "x": 1130,
        "y": 880,
        "wires": []
    },
    {
        "id": "b8a7dc88238be9d4",
        "type": "comment",
        "z": "f5e72a5d369ff484",
        "name": "remember were we came from and redirect to authentication endpoint",
        "info": "",
        "x": 870,
        "y": 160,
        "wires": []
    },
    {
        "id": "0d358bfc8dec99b9",
        "type": "switch",
        "z": "f5e72a5d369ff484",
        "name": "check client_id",
        "property": "client_id",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nempty"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 220,
        "y": 120,
        "wires": [
            [
                "1e8d3a61593356ca"
            ],
            [
                "32fa71bc98a87621"
            ]
        ]
    },
    {
        "id": "32fa71bc98a87621",
        "type": "change",
        "z": "f5e72a5d369ff484",
        "name": "set default client_id",
        "rules": [
            {
                "t": "set",
                "p": "client_id",
                "pt": "msg",
                "to": "BRAVE Automation",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 290,
        "y": 180,
        "wires": [
            [
                "1e8d3a61593356ca"
            ]
        ]
    },
    {
        "id": "18b010a895e1417a",
        "type": "comment",
        "z": "f5e72a5d369ff484",
        "name": "login to Vault with username and password",
        "info": "",
        "x": 1020,
        "y": 240,
        "wires": []
    },
    {
        "id": "54a2ce65fc4c91cb",
        "type": "http in",
        "z": "f5e72a5d369ff484",
        "name": "",
        "url": "login",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 140,
        "y": 360,
        "wires": [
            [
                "4d5f079101590ddc"
            ]
        ]
    },
    {
        "id": "d954d906c591d73a",
        "type": "http response",
        "z": "f5e72a5d369ff484",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 1330,
        "y": 360,
        "wires": []
    },
    {
        "id": "6561d7e4eb82f5b9",
        "type": "change",
        "z": "f5e72a5d369ff484",
        "name": "redirect",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "https://login.microsoftonline.com/fcb2b37b-5da0-466b-9b83-0014b67a7c78/oauth2/v2.0/authorize",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "host",
                "pt": "msg",
                "to": "/* Filter the host header from the list of raw headers */\t$map(\t   req.rawHeaders,\t   function($v, $i, $a) { $v=\"Host\" ? $a[$i+1] : \"\" }\t) ~> $join",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "params",
                "pt": "msg",
                "to": "{\t   \"client_id\": \"8637bbe4-718a-46d5-9d43-dfbdf4f50866\",\t   \"redirect_uri\": \"https://\" & host & \"/nodes/token\",\t   \"scope\": \"openid profile\",\t   \"response_type\": \"id_token\",\t   \"response_mode\": \"form_post\",\t   \"state\": payload,\t   \"nonce\": $random()*10000000000000000\t}",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "statusCode",
                "pt": "msg",
                "to": "303",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "headers",
                "pt": "msg",
                "to": "{\t   \"location\": [\t       url,\t       params ~> $each(\t           function($v,$n) {\t               [\t                   $n,\t                   $v ~> $string ~> $encodeUrlComponent\t               ] ~> $join(\"=\")\t           }\t       ) ~> $join(\"&\")\t   ] ~> $join(\"?\")\t}",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 920,
        "y": 360,
        "wires": [
            [
                "d954d906c591d73a"
            ]
        ]
    },
    {
        "id": "a00e55d08eb6995b",
        "type": "comment",
        "z": "f5e72a5d369ff484",
        "name": "redirect to Microsoft OAuth2 endpoint",
        "info": "",
        "x": 1010,
        "y": 320,
        "wires": []
    },
    {
        "id": "710c68317fbdb471",
        "type": "switch",
        "z": "f5e72a5d369ff484",
        "name": "SSO?",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "hask",
                "v": "sso",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 730,
        "y": 400,
        "wires": [
            [
                "6561d7e4eb82f5b9"
            ],
            [
                "f812e94fda587f60"
            ]
        ]
    },
    {
        "id": "ec23c3995a239d7b",
        "type": "template",
        "z": "f5e72a5d369ff484",
        "name": "",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "<!doctype html>\n<html>\n\n<head>\n    <title>Loading ...</title>\n    <meta charset=\"utf-8\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css\"\n        integrity=\"sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu\" crossorigin=\"anonymous\">\n    <script src=\"https://code.jquery.com/jquery-1.12.4.min.js\"\n        integrity=\"sha384-nvAa0+6Qg9clwYCGGPpDQLVpLNn0fRaROjHqs13t4Ggj3Ez50XnGQqc/r8MhnRDZ\"\n        crossorigin=\"anonymous\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js\"\n        integrity=\"sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd\"\n        crossorigin=\"anonymous\"></script>\n    <script type=\"text/javascript\">\n        function msgHandler(e) {\n            var message = JSON.parse(e.data);\n\n            // check if we got a session id\n            if (message['message_id'] == 'session_id') {\n                // unregister event handler\n                window.removeEventListener('message', msgHandler, false);\n\n                var data = JSON.parse('{{{payload}}}');\n                data.sessionId = message['data']['session_id'];\n\n                // forward call with session id\n                $.ajax({\n                    url: \"/nodes/session\",\n                    type: \"POST\",\n                    data: data,\n                    success: function (response) {\n                        // replace content of current page on success\n                        var newDoc = document.open(\"text/html\", \"replace\");                        \n                        newDoc.write(response);\n                        newDoc.close();\n                    },\n                    error: function (jqXHR, exception) {\n                        // show error message on failure\n                        var message = exception;\n\n                        if (jqXHR.status === 0) {\n                            message = 'Server connection issue. Please try again.';\n                        } else if (jqXHR.status == 404) {\n                            message = 'Requested page not found. [404]';\n                        } else if (jqXHR.status == 500) {\n                            message = 'Internal Server Error [500]. Please try again.';\n                        } else if (exception === 'parsererror') {\n                            message = 'Requested JSON parse failed.';\n                        } else if (exception === 'timeout') {\n                            message = 'Time out error.';\n                        } else if (exception === 'abort') {\n                            message = 'Ajax request aborted.';\n                        } else {\n                            message = 'Uncaught Error.\\n' + jqXHR.responseText;\n                        }\n\n                        alert(message);\n                    },\n                    //timeout of the ajax call\n                    timeout: 60000\n                });\n            }\n        }\n\n\n        function postMessage() {\n            $(\"#modal\").modal(\"show\");\n\n            // register event handler\n            window.addEventListener('message', msgHandler, false);\n\n            var readyMessage = JSON.stringify({\n                'message_id': 'ready',\n                'data': {}\n            });\n\n            // send ready message to parent frame\n            window.parent.postMessage(readyMessage, '*');\n        }\n    </script>\n</head>\n\n<body onLoad=\"postMessage()\">\n    <div class=\"modal fade\" id=\"modal\" tabindex=\"-1\" data-backdrop=\"static\">\n        <div class=\"modal-dialog\">\n            <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                    <h4 class=\"modal-title\">Processing ...</h4>\n                </div>\n                <div class=\"modal-body\">\n                    <p>Please wait while the page is loading.</p>\n                </div>\n            </div>\n        </div>\n    </div>\n</body>\n\n</html>",
        "output": "str",
        "x": 1080,
        "y": 440,
        "wires": [
            [
                "8db6334f81e6757f"
            ]
        ]
    },
    {
        "id": "f812e94fda587f60",
        "type": "json",
        "z": "f5e72a5d369ff484",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 910,
        "y": 440,
        "wires": [
            [
                "ec23c3995a239d7b"
            ]
        ]
    },
    {
        "id": "4ad9e66a92530483",
        "type": "comment",
        "z": "f5e72a5d369ff484",
        "name": "Ask Vault UI for a session id",
        "info": "",
        "x": 980,
        "y": 400,
        "wires": []
    },
    {
        "id": "8db6334f81e6757f",
        "type": "http response",
        "z": "f5e72a5d369ff484",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 1330,
        "y": 440,
        "wires": []
    },
    {
        "id": "4d5f079101590ddc",
        "type": "switch",
        "z": "f5e72a5d369ff484",
        "name": "username?",
        "property": "payload.username",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nempty"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 370,
        "y": 360,
        "wires": [
            [
                "98f00e1c3836bd8a"
            ],
            [
                "710c68317fbdb471"
            ]
        ]
    },
    {
        "id": "98f00e1c3836bd8a",
        "type": "switch",
        "z": "f5e72a5d369ff484",
        "name": "password?",
        "property": "payload.password",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nempty"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 550,
        "y": 320,
        "wires": [
            [
                "6af974f9d0cd8df1"
            ],
            [
                "710c68317fbdb471"
            ]
        ]
    },
    {
        "id": "ada8f69193886c99",
        "type": "http request",
        "z": "f5e72a5d369ff484",
        "name": "authenticate",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 1150,
        "y": 280,
        "wires": [
            [
                "6a0d51294183358f"
            ]
        ]
    },
    {
        "id": "6af974f9d0cd8df1",
        "type": "change",
        "z": "f5e72a5d369ff484",
        "name": "set parameters",
        "rules": [
            {
                "t": "set",
                "p": "vault_domain",
                "pt": "msg",
                "to": "payload.vault_domain",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "vault_api",
                "pt": "msg",
                "to": "\"https://\" & vault_domain & \"/api/\"",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "headers",
                "pt": "msg",
                "to": "{\t   \"Content-Type\": \"application/x-www-form-urlencoded\",\t   \"Accept\": \"application/json\",\t   \"X-VaultAPI-ClientID\": client_id\t}",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "\"https://\" & vault_domain & \"/api/v22.3/auth\"",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\t   \"username\": payload.username,\t   \"password\": payload.password,\t   \"vaultDNS\": vault_domain\t}",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 940,
        "y": 280,
        "wires": [
            [
                "ada8f69193886c99"
            ]
        ]
    },
    {
        "id": "6a0d51294183358f",
        "type": "switch",
        "z": "f5e72a5d369ff484",
        "name": "response status",
        "property": "payload.responseStatus",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "SUCCESS",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1360,
        "y": 280,
        "wires": [
            [
                "c6034b65dd7643c5"
            ],
            []
        ]
    },
    {
        "id": "c6034b65dd7643c5",
        "type": "change",
        "z": "f5e72a5d369ff484",
        "name": "set result & cleanup",
        "rules": [
            {
                "t": "set",
                "p": "session_id",
                "pt": "msg",
                "to": "payload.sessionId",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "user_id",
                "pt": "msg",
                "to": "payload.userId",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "vault_id",
                "pt": "msg",
                "to": "payload.vaultId",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "credentials",
                "pt": "msg",
                "to": "$merge(\t    [\t       credentials,\t       {\t           vault_domain: {\t               \"session_id\": session_id,\t               \"vault_api\": vault_api\t            }\t        }\t    ]\t)",
                "tot": "jsonata"
            },
            {
                "t": "delete",
                "p": "headers",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "url",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "statusCode",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "responseUrl",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "redirectList",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "retry",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1380,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "25a56b2568cc5fca",
        "type": "comment",
        "z": "f5e72a5d369ff484",
        "name": "ignore cookie and force login",
        "info": "",
        "x": 180,
        "y": 320,
        "wires": []
    },
    {
        "id": "fbdf547da8acaa84",
        "type": "change",
        "z": "f5e72a5d369ff484",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload.errors",
                "pt": "msg",
                "to": "[{\"type\":\"no vault_domain specified\",\"message\":\"Please specify the Veeva Vault to connect to in the vault_domain parameter\"}]",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1050,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "8ed2ee144c40628d",
        "type": "debug",
        "z": "f5e72a5d369ff484",
        "name": "debug 215",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1230,
        "y": 120,
        "wires": []
    },
    {
        "id": "f05792084b4f97d3",
        "type": "debug",
        "z": "f5e72a5d369ff484",
        "name": "debug 216",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1150,
        "y": 60,
        "wires": []
    },
    {
        "id": "35e777a094c4a974",
        "type": "debug",
        "z": "f5e72a5d369ff484",
        "name": "debug 224",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1230,
        "y": 180,
        "wires": []
    },
    {
        "id": "263cbab87505f9ad",
        "type": "debug",
        "z": "f5e72a5d369ff484",
        "name": "debug 267",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 870,
        "y": 520,
        "wires": []
    },
    {
        "id": "5888db7cadd5c8f9",
        "type": "debug",
        "z": "f5e72a5d369ff484",
        "name": "debug 268",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1130,
        "y": 520,
        "wires": []
    },
    {
        "id": "a95b3eb8a3ea40dd",
        "type": "http in",
        "z": "2c4527dad914ec1c",
        "g": "1adf9a7b09d9ec3e",
        "name": "",
        "url": "ctad",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 120,
        "y": 460,
        "wires": [
            [
                "7df34bf278de232c"
            ]
        ]
    },
    {
        "id": "7df34bf278de232c",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "1adf9a7b09d9ec3e",
        "name": "Set basic parameters",
        "rules": [
            {
                "t": "set",
                "p": "study_id",
                "pt": "msg",
                "to": "payload.study_id",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "starttime",
                "pt": "msg",
                "to": "$now()",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "client_id",
                "pt": "msg",
                "to": "cta-automation",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "vault_domain_url",
                "pt": "msg",
                "to": "\"https://\" & payload.vault_domain",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 320,
        "y": 460,
        "wires": [
            [
                "e1528945b7b35bc5",
                "fc41e3958fc57881"
            ]
        ]
    },
    {
        "id": "e1528945b7b35bc5",
        "type": "brave-login",
        "z": "2c4527dad914ec1c",
        "g": "1adf9a7b09d9ec3e",
        "name": "",
        "x": 490,
        "y": 460,
        "wires": [
            [
                "0d04e49d871e24b5"
            ],
            [
                "d1295ce2fe20155c"
            ]
        ]
    },
    {
        "id": "d1295ce2fe20155c",
        "type": "link out",
        "z": "2c4527dad914ec1c",
        "g": "1adf9a7b09d9ec3e",
        "name": "",
        "mode": "link",
        "links": [
            "0b4394d395558302"
        ],
        "x": 2715,
        "y": 440,
        "wires": []
    },
    {
        "id": "0d04e49d871e24b5",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "1adf9a7b09d9ec3e",
        "name": "query study",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"select id, name__v, study_alias__c, product__v, product__vr.name__v, (select id, name__v, product__c, product__cr.name__v, product_family__c, product_family__cr.name__v, product_variant__c, product_variant__cr.name__v from clinical_study_products__cr), (select id, project__cr.name__v from project_clinical_studies__cr), (select id, name__v, therapeutic_indication__c, therapeutic_indication__cr.name__v from therapeutic_indication_clinical_studies__cr) from clinical_study__v where id='\" & study_id & \"'\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 650,
        "y": 540,
        "wires": [
            [
                "1adcfc18ea193483"
            ]
        ]
    },
    {
        "id": "afd56f63ba84e193",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "1adf9a7b09d9ec3e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "study",
                "pt": "msg",
                "to": "payload.data[0]",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1040,
        "y": 540,
        "wires": [
            [
                "89aade3fd4849cf3",
                "e52a4fe1e67ec89d"
            ]
        ]
    },
    {
        "id": "89aade3fd4849cf3",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "1adf9a7b09d9ec3e",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1230,
        "y": 500,
        "wires": []
    },
    {
        "id": "1adcfc18ea193483",
        "type": "brave-vql-query",
        "z": "2c4527dad914ec1c",
        "g": "1adf9a7b09d9ec3e",
        "name": "",
        "x": 830,
        "y": 540,
        "wires": [
            [
                "afd56f63ba84e193"
            ],
            [
                "d1295ce2fe20155c"
            ]
        ]
    },
    {
        "id": "e52a4fe1e67ec89d",
        "type": "switch",
        "z": "2c4527dad914ec1c",
        "g": "1adf9a7b09d9ec3e",
        "name": "check study data",
        "property": "study",
        "propertyType": "msg",
        "rules": [
            {
                "t": "jsonata_exp",
                "v": "study.product__v = null",
                "vt": "jsonata"
            },
            {
                "t": "jsonata_exp",
                "v": "$count(study.clinical_study_products__cr.data) = 0",
                "vt": "jsonata"
            },
            {
                "t": "jsonata_exp",
                "v": "$distinct(study.clinical_study_products__cr.data.product_family__c) != study.product__v /* some products do not match primary product familiy */",
                "vt": "jsonata"
            },
            {
                "t": "jsonata_exp",
                "v": "$count(study.project_clinical_studies__cr.data) > 1",
                "vt": "jsonata"
            },
            {
                "t": "jsonata_exp",
                "v": "$count(study.therapeutic_indication_clinical_studies__cr.data) = 0",
                "vt": "jsonata"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 6,
        "x": 1450,
        "y": 540,
        "wires": [
            [
                "9af30450c6112b17"
            ],
            [
                "221e6a37d7438241"
            ],
            [
                "4eedfa2c0f6d5dca"
            ],
            [
                "ad3d43f8c209bac3"
            ],
            [
                "43a8f21c944f48c2"
            ],
            [
                "427c9dafee3eee2e"
            ]
        ]
    },
    {
        "id": "221e6a37d7438241",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "1adf9a7b09d9ec3e",
        "name": "no products",
        "rules": [
            {
                "t": "set",
                "p": "description",
                "pt": "msg",
                "to": "\"Study \" & study.name__v & \" \" & study.study_alias__c & \" is invalid.\"",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload.errors",
                "pt": "msg",
                "to": "[{\"type\":\"Incomplete Data\",\"message\":\"The study has no products\"}]",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1650,
        "y": 480,
        "wires": [
            [
                "d1295ce2fe20155c",
                "92a36617cc355cc4"
            ]
        ]
    },
    {
        "id": "9af30450c6112b17",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "1adf9a7b09d9ec3e",
        "name": "no product family",
        "rules": [
            {
                "t": "set",
                "p": "description",
                "pt": "msg",
                "to": "\"Study \" & study.name__v & \" \" & study.study_alias__c & \" is invalid.\"",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload.errors",
                "pt": "msg",
                "to": "[{\"type\":\"Incomplete Data\",\"message\":\"The study has no primary product family\"}]",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1670,
        "y": 440,
        "wires": [
            [
                "d1295ce2fe20155c",
                "8706a9e4bba62613"
            ]
        ]
    },
    {
        "id": "4eedfa2c0f6d5dca",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "1adf9a7b09d9ec3e",
        "name": "products don't match pf",
        "rules": [
            {
                "t": "set",
                "p": "description",
                "pt": "msg",
                "to": "\"Study \" & study.name__v & \" \" & study.study_alias__c & \" is invalid.\"",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload.errors",
                "pt": "msg",
                "to": "[{\"type\":\"Inconsistent Data\",\"message\":\"The product family of the products do not match the primary product family of the study\"}]",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1690,
        "y": 520,
        "wires": [
            [
                "d1295ce2fe20155c",
                "5543a07a1d0be52e"
            ]
        ]
    },
    {
        "id": "5543a07a1d0be52e",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "1adf9a7b09d9ec3e",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1890,
        "y": 520,
        "wires": []
    },
    {
        "id": "92a36617cc355cc4",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "1adf9a7b09d9ec3e",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1890,
        "y": 480,
        "wires": []
    },
    {
        "id": "8706a9e4bba62613",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "1adf9a7b09d9ec3e",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1890,
        "y": 440,
        "wires": []
    },
    {
        "id": "427c9dafee3eee2e",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "1adf9a7b09d9ec3e",
        "name": "query product family indications",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"select therapeutic_indication__c, therapeutic_indication__cr.name__v from product_family_indication__c where status__v='active__v' and product_family__c='\" & study.product__v & \"'\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1710,
        "y": 640,
        "wires": [
            [
                "ace69593860de565"
            ]
        ]
    },
    {
        "id": "ace69593860de565",
        "type": "brave-vql-query",
        "z": "2c4527dad914ec1c",
        "g": "1adf9a7b09d9ec3e",
        "name": "",
        "x": 1950,
        "y": 640,
        "wires": [
            [
                "00fdcb9a7b7f71e2"
            ],
            [
                "d1295ce2fe20155c"
            ]
        ]
    },
    {
        "id": "00fdcb9a7b7f71e2",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "1adf9a7b09d9ec3e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "indications",
                "pt": "msg",
                "to": "payload.data",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2150,
        "y": 640,
        "wires": [
            [
                "05a3105881a36074"
            ]
        ]
    },
    {
        "id": "05a3105881a36074",
        "type": "switch",
        "z": "2c4527dad914ec1c",
        "g": "1adf9a7b09d9ec3e",
        "name": "check indications",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "jsonata_exp",
                "v": "$reduce(\t   study.therapeutic_indication_clinical_studies__cr.data.therapeutic_indication__c,\t   function($a, $v) {\t       $a and $v in indications.therapeutic_indication__c\t   },\t   true\t)",
                "vt": "jsonata"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 2370,
        "y": 640,
        "wires": [
            [
                "ec1a25f9388786d7"
            ],
            [
                "7d76dabf1f75f67d"
            ]
        ]
    },
    {
        "id": "7d76dabf1f75f67d",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "1adf9a7b09d9ec3e",
        "name": "indications don't match pf",
        "rules": [
            {
                "t": "set",
                "p": "description",
                "pt": "msg",
                "to": "\"Study \" & study.name__v & \" \" & study.study_alias__c & \" is invalid.\"",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload.errors",
                "pt": "msg",
                "to": "[{\"type\":\"Inconsistent Data\",\"message\":\"At least one indication of the clinical study is not valid for the primary product family.\"}]",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2610,
        "y": 640,
        "wires": [
            [
                "d1295ce2fe20155c"
            ]
        ]
    },
    {
        "id": "127f606ce23423fd",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "e40195be7e014804",
        "name": "create event",
        "rules": [
            {
                "t": "set",
                "p": "args",
                "pt": "msg",
                "to": "{\t   \"object_name\": \"event__rim\",\t   \"keep\": \"false\"\t}",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "[\t   {\t       \"object_type__vr.api_name__v\": \"clinical_study_event__c\",\t       \"applicable_product_type__v\": \"drug__v\",\t       \"event_description__c\": params.event_description__c !=\"\" ? params.event_description__c : \"N/A\" & (params.shelf_life !=\"\" ? \"; Shelf life: \" & params.shelf_life : \"\"),\t       \"keywords__c\": \"clinical_initial_cta__c\",\t       \"rec__c\": rec_id,\t       \"global_application__v\": global_application,\t       \"content_plan_template__v\": \"0EP00000004B425\",\t       \"project_id__c\": study.project_clinical_studies__cr.data[0].project__c\t       \t   }\t]",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 130,
        "y": 1520,
        "wires": [
            [
                "5eaedb53b36ae3ba"
            ]
        ]
    },
    {
        "id": "09acfdce79ce877b",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "e40195be7e014804",
        "name": "store result",
        "rules": [
            {
                "t": "set",
                "p": "event_id",
                "pt": "msg",
                "to": "payload.data[0].data.id",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 650,
        "y": 1520,
        "wires": [
            [
                "e305967f4ea2cf17",
                "ac182d7b69f0f86a"
            ]
        ]
    },
    {
        "id": "1125ca63681257a8",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "e40195be7e014804",
        "name": "link to product family",
        "rules": [
            {
                "t": "set",
                "p": "args",
                "pt": "msg",
                "to": "{\t   \"object_name\": \"event_product_family__c\",\t   \"keep\": \"false\"\t}",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "[\t   {\t       \"name__v\": event_id & \"_\" & study.product__v,\t       \"event__c\": event_id,\t       \"product_family__c\": study.product__v\t    }\t]",
                "tot": "jsonata",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 160,
        "y": 1640,
        "wires": [
            [
                "643f9f0f66032d88"
            ]
        ]
    },
    {
        "id": "e81f7d4c11cd8c6f",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "e40195be7e014804",
        "name": "link to products",
        "rules": [
            {
                "t": "set",
                "p": "args",
                "pt": "msg",
                "to": "{\t   \"object_name\": \"event_drug_product__rim\",\t   \"keep\": \"false\"\t}",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "[\t    study.clinical_study_products__cr.data.{\t       \"event__rim\": $$.event_id,\t       \"product_family__c\": product_family__c,\t       \"drug_product__rim\": product__c,\t       \"product_detail__rim\": product_variant__c\t    }\t]",
                "tot": "jsonata",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 140,
        "y": 1700,
        "wires": [
            [
                "99b2acd236550eec"
            ]
        ]
    },
    {
        "id": "f57054fb3844241f",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "e40195be7e014804",
        "name": "link to study",
        "rules": [
            {
                "t": "set",
                "p": "args",
                "pt": "msg",
                "to": "{\t   \"object_name\": \"event_clinical_study__v\",\t   \"keep\": \"false\"\t}",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "[\t   {\t       \"event__v\": event_id,\t       \"clinical_study__v\": study_id,\t       \"impd_version_quality_part__c\": params.impd_version_quality_part__c,\t       \"impd_version_nonquality_part__c\": params.impd_version_nonquality_part__c,\t       \"protocol_version__c\": params.protocol_version__c,\t       \"ib_version__c\": params.ib_version__c\t    }\t]",
                "tot": "jsonata",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 130,
        "y": 1760,
        "wires": [
            [
                "53f08c6da7acde3e"
            ]
        ]
    },
    {
        "id": "e305967f4ea2cf17",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "e40195be7e014804",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 870,
        "y": 1520,
        "wires": []
    },
    {
        "id": "780bdf10996d5dd7",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "e40195be7e014804",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 870,
        "y": 1640,
        "wires": []
    },
    {
        "id": "9059fa56b54821ca",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "e40195be7e014804",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 850,
        "y": 1700,
        "wires": []
    },
    {
        "id": "52e92467706337e4",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "e40195be7e014804",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 870,
        "y": 1760,
        "wires": []
    },
    {
        "id": "5eaedb53b36ae3ba",
        "type": "brave-create-vobject",
        "z": "2c4527dad914ec1c",
        "g": "e40195be7e014804",
        "name": "",
        "x": 380,
        "y": 1520,
        "wires": [
            [
                "09acfdce79ce877b"
            ],
            [
                "3916d23c39b50211"
            ]
        ]
    },
    {
        "id": "643f9f0f66032d88",
        "type": "brave-create-vobject",
        "z": "2c4527dad914ec1c",
        "g": "e40195be7e014804",
        "name": "",
        "x": 380,
        "y": 1640,
        "wires": [
            [
                "e81f7d4c11cd8c6f",
                "780bdf10996d5dd7"
            ],
            [
                "3916d23c39b50211"
            ]
        ]
    },
    {
        "id": "99b2acd236550eec",
        "type": "brave-create-vobject",
        "z": "2c4527dad914ec1c",
        "g": "e40195be7e014804",
        "name": "",
        "x": 380,
        "y": 1700,
        "wires": [
            [
                "9059fa56b54821ca",
                "f57054fb3844241f"
            ],
            [
                "3916d23c39b50211"
            ]
        ]
    },
    {
        "id": "53f08c6da7acde3e",
        "type": "brave-create-vobject",
        "z": "2c4527dad914ec1c",
        "g": "e40195be7e014804",
        "name": "",
        "x": 380,
        "y": 1760,
        "wires": [
            [
                "52e92467706337e4",
                "08dcb3332d416a46"
            ],
            [
                "3916d23c39b50211"
            ]
        ]
    },
    {
        "id": "3916d23c39b50211",
        "type": "link out",
        "z": "2c4527dad914ec1c",
        "g": "e40195be7e014804",
        "name": "",
        "mode": "link",
        "links": [
            "0b4394d395558302"
        ],
        "x": 685,
        "y": 1680,
        "wires": []
    },
    {
        "id": "08dcb3332d416a46",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "e40195be7e014804",
        "name": "link to indications",
        "rules": [
            {
                "t": "set",
                "p": "args",
                "pt": "msg",
                "to": "{\t   \"object_name\": \"event_indication__rim\",\t   \"keep\": \"false\"\t}",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "[\t   study.therapeutic_indication_clinical_studies__cr.data.{\t       \"product_family__c\": $$.study.product__v,\t       \"indication__rim\": therapeutic_indication__c,\t       \"event__rim\": $$.event_id\t    }\t]",
                "tot": "jsonata",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 150,
        "y": 1820,
        "wires": [
            [
                "20c245ddd5dc2999"
            ]
        ]
    },
    {
        "id": "20c245ddd5dc2999",
        "type": "brave-create-vobject",
        "z": "2c4527dad914ec1c",
        "g": "e40195be7e014804",
        "name": "",
        "x": 380,
        "y": 1820,
        "wires": [
            [
                "bda7c5f6b4546054",
                "9430be7746db98ea"
            ],
            [
                "3916d23c39b50211"
            ]
        ]
    },
    {
        "id": "bda7c5f6b4546054",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "e40195be7e014804",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 870,
        "y": 1820,
        "wires": []
    },
    {
        "id": "cb1e931c1520a0a2",
        "type": "http in",
        "z": "2c4527dad914ec1c",
        "g": "e40195be7e014804",
        "name": "",
        "url": "cta-event",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 160,
        "y": 1280,
        "wires": [
            [
                "d982ee4112ccfb11",
                "e9daca4394c17dc9"
            ]
        ]
    },
    {
        "id": "e9daca4394c17dc9",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "e40195be7e014804",
        "name": "store parameters",
        "rules": [
            {
                "t": "set",
                "p": "study_id",
                "pt": "msg",
                "to": "payload.study_id",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "params",
                "pt": "msg",
                "to": "payload",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "job.job_scope",
                "pt": "msg",
                "to": "payload.job_scope",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "job.job_type",
                "pt": "msg",
                "to": "payload.job_type",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 410,
        "y": 1280,
        "wires": [
            [
                "7c44e24c5afad6c7",
                "43b7bc103c77a4ea"
            ]
        ]
    },
    {
        "id": "43b7bc103c77a4ea",
        "type": "brave-login",
        "z": "2c4527dad914ec1c",
        "g": "e40195be7e014804",
        "name": "",
        "x": 630,
        "y": 1280,
        "wires": [
            [
                "8ed76db6b0e4920e"
            ],
            [
                "3916d23c39b50211"
            ]
        ]
    },
    {
        "id": "7c44e24c5afad6c7",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "e40195be7e014804",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 630,
        "y": 1240,
        "wires": []
    },
    {
        "id": "9430be7746db98ea",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "e40195be7e014804",
        "name": "restart CTA creation",
        "rules": [
            {
                "t": "set",
                "p": "headers",
                "pt": "msg",
                "to": "{\t   \"location\":\"/nodes/cta/execute?study_id=\" & study_id & \"&event_id=\" & event_id & \"&job_type=\" & job.job_type & \"&job_scope=\" & job.job_scope\t}",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "statusCode",
                "pt": "msg",
                "to": "303",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 150,
        "y": 1880,
        "wires": [
            [
                "05d9e73aaf4a53f9"
            ]
        ]
    },
    {
        "id": "d982ee4112ccfb11",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "e40195be7e014804",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 390,
        "y": 1240,
        "wires": []
    },
    {
        "id": "8ed76db6b0e4920e",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "e40195be7e014804",
        "name": "query study",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"select id, name__v, study_alias__c, product__v, product__vr.name__v, (select id, name__v, product__c, product__cr.name__v, product_family__c, product_family__cr.name__v, product_variant__c, product_variant__cr.name__v from clinical_study_products__cr), (select id, project__c, project__cr.name__v from project_clinical_studies__cr), (select id, name__v, therapeutic_indication__c, therapeutic_indication__cr.name__v from therapeutic_indication_clinical_studies__cr) from clinical_study__v where id='\" & study_id & \"'\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 130,
        "y": 1340,
        "wires": [
            [
                "f8390b9b8f960aab"
            ]
        ]
    },
    {
        "id": "f8390b9b8f960aab",
        "type": "brave-vql-query",
        "z": "2c4527dad914ec1c",
        "g": "e40195be7e014804",
        "name": "",
        "x": 370,
        "y": 1340,
        "wires": [
            [
                "fb7f6db22a82a5ce"
            ],
            [
                "3916d23c39b50211"
            ]
        ]
    },
    {
        "id": "fb7f6db22a82a5ce",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "e40195be7e014804",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "study",
                "pt": "msg",
                "to": "payload.data[0]",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 1340,
        "wires": [
            [
                "1d834a7935beee6b",
                "eadb4a6f7d0dd4bc"
            ]
        ]
    },
    {
        "id": "1d834a7935beee6b",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "e40195be7e014804",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 870,
        "y": 1340,
        "wires": []
    },
    {
        "id": "9bc8ca63c489f130",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "f4492470635578ae",
        "name": "link to products",
        "rules": [
            {
                "t": "set",
                "p": "args",
                "pt": "msg",
                "to": "{\t   \"object_name\": \"product_application__c\",\t   \"keep\": \"false\"\t}",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "[\t    applications ~> $map(function($application) {\t       study.clinical_study_products__cr.data.{\t           \"application__c\": $application.id,\t           \"product_family__c\": product_family__c,\t           \"product__c\": product__c,\t           \"product_variant__c\": product_variant__c\t        }\t    }) ~> $reduce(function($accumulator, $value) {$append($accumulator, $value)})\t]",
                "tot": "jsonata",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1340,
        "y": 3340,
        "wires": [
            [
                "c50f180f6dc5b7a7"
            ]
        ]
    },
    {
        "id": "0e58817144b122ca",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "f4492470635578ae",
        "name": "link to study",
        "rules": [
            {
                "t": "set",
                "p": "args",
                "pt": "msg",
                "to": "{\t   \"object_name\": \"application_clinical_study__c\",\t   \"keep\": \"false\"\t}",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "applications.{\t   \"application__c\": id,\t   \"clinical_study__c\": $$.study.id\t}[]\t",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1330,
        "y": 3280,
        "wires": [
            [
                "26ef94169b200292"
            ]
        ]
    },
    {
        "id": "beaeeede45688d8f",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "f4492470635578ae",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "application_ids",
                "pt": "msg",
                "to": "payload.data[responseStatus=\"SUCCESS\"].data.id[]",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "created_application_ids",
                "pt": "msg",
                "to": "payload.data[responseStatus=\"SUCCESS\"].data.id[]~>$join(\",\")",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1860,
        "y": 3100,
        "wires": [
            [
                "5ee56af170f12036",
                "0f325294ff3deaf7"
            ]
        ]
    },
    {
        "id": "0f325294ff3deaf7",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "f4492470635578ae",
        "name": "query applications",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"select id, name__v, lead_market__rim from application__v where \" & (application_ids ~> $map(function($v) {\"id='\" & $v & \"'\"}) ~> $join(\" OR \"))",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1350,
        "y": 3160,
        "wires": [
            [
                "bcdb50eb60cfc78d"
            ]
        ]
    },
    {
        "id": "352697d0f9b3b340",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "f4492470635578ae",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "applications",
                "pt": "msg",
                "to": "payload.data",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1880,
        "y": 3160,
        "wires": [
            [
                "19e4cc04ce3ff2f3",
                "a710fd5c93105bef"
            ]
        ]
    },
    {
        "id": "5ee56af170f12036",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "f4492470635578ae",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2110,
        "y": 3100,
        "wires": []
    },
    {
        "id": "19e4cc04ce3ff2f3",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "f4492470635578ae",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2110,
        "y": 3160,
        "wires": []
    },
    {
        "id": "5569a704502d347e",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "f4492470635578ae",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2110,
        "y": 3280,
        "wires": []
    },
    {
        "id": "5f8c31a0b75604dc",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "f4492470635578ae",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2110,
        "y": 3340,
        "wires": []
    },
    {
        "id": "aeba6128dc0f5605",
        "type": "brave-create-vobject",
        "z": "2c4527dad914ec1c",
        "g": "f4492470635578ae",
        "name": "",
        "x": 1580,
        "y": 3100,
        "wires": [
            [
                "beaeeede45688d8f"
            ],
            [
                "1f9e9253f0f4ed09"
            ]
        ]
    },
    {
        "id": "26ef94169b200292",
        "type": "brave-create-vobject",
        "z": "2c4527dad914ec1c",
        "g": "f4492470635578ae",
        "name": "",
        "x": 1580,
        "y": 3280,
        "wires": [
            [
                "9bc8ca63c489f130",
                "5569a704502d347e"
            ],
            [
                "1f9e9253f0f4ed09"
            ]
        ]
    },
    {
        "id": "c50f180f6dc5b7a7",
        "type": "brave-create-vobject",
        "z": "2c4527dad914ec1c",
        "g": "f4492470635578ae",
        "name": "",
        "x": 1580,
        "y": 3340,
        "wires": [
            [
                "5f8c31a0b75604dc",
                "c87aa0067f73b660"
            ],
            [
                "1f9e9253f0f4ed09"
            ]
        ]
    },
    {
        "id": "1f9e9253f0f4ed09",
        "type": "link out",
        "z": "2c4527dad914ec1c",
        "g": "f4492470635578ae",
        "name": "",
        "mode": "link",
        "links": [
            "0b4394d395558302"
        ],
        "x": 1805,
        "y": 3400,
        "wires": []
    },
    {
        "id": "bcdb50eb60cfc78d",
        "type": "brave-vql-query",
        "z": "2c4527dad914ec1c",
        "g": "f4492470635578ae",
        "name": "",
        "x": 1570,
        "y": 3160,
        "wires": [
            [
                "352697d0f9b3b340"
            ],
            [
                "1f9e9253f0f4ed09"
            ]
        ]
    },
    {
        "id": "c87aa0067f73b660",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "f4492470635578ae",
        "name": "link to indications",
        "rules": [
            {
                "t": "set",
                "p": "args",
                "pt": "msg",
                "to": "{\t   \"object_name\": \"application_indication__rim\",\t   \"keep\": \"false\"\t}",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "[\t    applications ~> $map(function($application) {\t       study.therapeutic_indication_clinical_studies__cr.data.{\t           \"therapeutic_indication__rim\": therapeutic_indication__c,\t           \"application__rim\": $application.id\t        }\t    }) ~> $reduce(function($accumulator, $value) {$append($accumulator, $value)})\t]",
                "tot": "jsonata",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1350,
        "y": 3400,
        "wires": [
            [
                "f7a46ec9815bec9e"
            ]
        ]
    },
    {
        "id": "f7a46ec9815bec9e",
        "type": "brave-create-vobject",
        "z": "2c4527dad914ec1c",
        "g": "f4492470635578ae",
        "name": "",
        "x": 1580,
        "y": 3400,
        "wires": [
            [
                "c316263822a4e043",
                "bbd3c599a4d4a203"
            ],
            [
                "1f9e9253f0f4ed09"
            ]
        ]
    },
    {
        "id": "c316263822a4e043",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "f4492470635578ae",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2110,
        "y": 3400,
        "wires": []
    },
    {
        "id": "f14722cf1050e3b6",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "c3cc3bc6b0b0ab38",
        "name": "query event",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"select id, name__v from event__rim where object_type__vr.api_name__v = 'clinical_study_event__c' and applicable_product_type__v = 'drug__v'and keywords__c = 'clinical_initial_cta__c' and id in (select id from event_clinical_studies__vr where clinical_study__v='\" & study_id & \"')\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 130,
        "y": 1080,
        "wires": [
            [
                "e1677939b436f9e1",
                "c83461d786b5f389"
            ]
        ]
    },
    {
        "id": "e1677939b436f9e1",
        "type": "brave-vql-query",
        "z": "2c4527dad914ec1c",
        "g": "c3cc3bc6b0b0ab38",
        "name": "",
        "x": 410,
        "y": 1080,
        "wires": [
            [
                "ace8a989e5fa795d",
                "bdf854e2d1181a35"
            ],
            [
                "91a1c661f7629edc"
            ]
        ]
    },
    {
        "id": "ace8a989e5fa795d",
        "type": "switch",
        "z": "2c4527dad914ec1c",
        "g": "c3cc3bc6b0b0ab38",
        "name": "exists?",
        "property": "payload.data",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nempty"
            },
            {
                "t": "empty"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 630,
        "y": 1080,
        "wires": [
            [
                "3758841ab014d3be"
            ],
            [
                "c6e7a2c0aa81952d"
            ]
        ]
    },
    {
        "id": "c6e7a2c0aa81952d",
        "type": "template",
        "z": "2c4527dad914ec1c",
        "g": "c3cc3bc6b0b0ab38",
        "name": "Input Form",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "<!doctype html>\n<html lang=\"en\">\n\n<head>\n    <meta charset=\"utf-8\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n    <title>New Clinical Study Event</title>\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css\"\n        integrity=\"sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu\" crossorigin=\"anonymous\">\n    <script src=\"https://code.jquery.com/jquery-1.12.4.min.js\"\n        integrity=\"sha384-nvAa0+6Qg9clwYCGGPpDQLVpLNn0fRaROjHqs13t4Ggj3Ez50XnGQqc/r8MhnRDZ\"\n        crossorigin=\"anonymous\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js\"\n        integrity=\"sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd\"\n        crossorigin=\"anonymous\"></script>\n</head>\n\n<body>\n    <div class=\"modal fade\" id=\"modal\" tabindex=\"-1\" data-backdrop=\"static\">\n        <div class=\"modal-dialog\">\n            <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                    <h4 class=\"modal-title\">Processing ...</h4>\n                </div>\n                <div class=\"modal-body\">\n                    <p>Please wait while the changes are applied.</p>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"container\">\n        <h1>New Event for Clinical Study {{study.name__v}}</h1>\n        <p>Please provide details for the new Clinical Study Event.</p>\n        <br>\n        <form class=\"form-horizontal\" method=\"post\" action=\"/nodes/cta-event\">\n            <input type=\"hidden\" name=\"study_id\" value=\"{{study_id}}\">\n            <input type=\"hidden\" name=\"job_scope\" value=\"{{job.job_scope}}\">\n            <input type=\"hidden\" name=\"job_type\" value=\"{{job.job_type}}\">\n            <div class=\"form-group\">\n                <label class=\"col-md-4 control-label\" for=\"impd_version_quality_part__c\">IMPD Version Quality Part\n                    Provided</label>\n                <div class=\"col-md-8\">\n                    <input type=\"text\" class=\"form-control\" id=\"impd_version_quality_part__c\"\n                        name=\"impd_version_quality_part__c\">\n                </div>\n            </div>\n            <div class=\"form-group\">\n                <label class=\"col-md-4 control-label\" for=\"impd_version_nonquality_part__c\">IMPD Version non- Quality\n                    Part Provided</label>\n                <div class=\"col-md-8\">\n                    <input type=\"text\" class=\"form-control\" id=\"impd_version_nonquality_part__c\"\n                        name=\"impd_version_nonquality_part__c\">\n                </div>\n            </div>\n            <div class=\"form-group\">\n                <label class=\"col-md-4 control-label\" for=\"protocol_version__c\">Protocol Version Provided</label>\n                <div class=\"col-md-8\">\n                    <input type=\"text\" class=\"form-control\" id=\"protocol_version__c\" name=\"protocol_version__c\">\n                </div>\n            </div>\n            <div class=\"form-group\">\n                <label class=\"col-md-4 control-label\" for=\"ib_version__c\">IB Version Provided</label>\n                <div class=\"col-md-8\">\n                    <input type=\"text\" class=\"form-control\" id=\"ib_version__c\" name=\"ib_version__c\">\n                </div>\n            </div>\n            <div class=\"form-group\">\n                <label class=\"col-md-4 control-label\" for=\"shelf_life\">Shelf Life</label>\n                <div class=\"col-md-8\">\n                    <input type=\"text\" class=\"form-control\" id=\"shelf_life\" name=\"shelf_life\">\n                </div>\n            </div>\n            <div class=\"form-group\">\n                <label class=\"col-md-4 control-label\" for=\"event_description__c\">Event Desciption</label>\n                <div class=\"col-md-8\">\n                    <input type=\"text\" class=\"form-control\" id=\"event_description__c\" name=\"event_description__c\">\n                </div>\n            </div>\n            <div class=\"form-group\">\n                <div class=\"col-md-offset-4 col-md-8\">\n                    <button type=\"submit\" class=\"btn btn-primary\">Create Clinical Study Event</button>\n                </div>\n            </div>\n        </form>\n    </div>\n\n    <script>\n        $(document).ready(function(){\n            $(\"form\").submit(function() {\n                $(\"#modal\").modal(\"show\");\n            });\n        });\n    </script>\n</body>\n\n</html>",
        "output": "str",
        "x": 810,
        "y": 1120,
        "wires": [
            [
                "a21361800a8e5222"
            ]
        ]
    },
    {
        "id": "91a1c661f7629edc",
        "type": "link out",
        "z": "2c4527dad914ec1c",
        "g": "c3cc3bc6b0b0ab38",
        "name": "",
        "mode": "link",
        "links": [
            "0b4394d395558302"
        ],
        "x": 535,
        "y": 1120,
        "wires": []
    },
    {
        "id": "0b4394d395558302",
        "type": "link in",
        "z": "2c4527dad914ec1c",
        "g": "4baa5eae6bccba26",
        "name": "Error",
        "links": [
            "2e21230765d562c0",
            "db9944eb60fbc49d",
            "c6b53c4a2748f542",
            "9256c6065eae30bf",
            "a5c49e2191c98551",
            "1f9e9253f0f4ed09",
            "ed40e4afb8f69bb1",
            "d1295ce2fe20155c",
            "3916d23c39b50211",
            "1b109bb176828d44",
            "275cac78bf29b682",
            "6a8e4f7d0f114240",
            "0b31058c8431fa69",
            "b751e69c46e6c849",
            "91a1c661f7629edc",
            "3e3e53986fc68011",
            "b5b267266e9c190a",
            "19f4967b796f2e9f",
            "e14e7058d20493e2",
            "1e2e089e5f67454c",
            "fc751c16e3989a80",
            "b7de0fe7ad66d2ca",
            "e47b4d5d5c74d6f1",
            "6dab2b9614b7b3f7",
            "af93e42bb2063079",
            "8b5fc85d413405da",
            "42424a203fc5231c",
            "ec46849d03dc97ee",
            "0acb4f725a0b3b4d",
            "e2bbf68093902dd8",
            "4cddeead6c64cd6b"
        ],
        "x": 4445,
        "y": 420,
        "wires": [
            [
                "4b18021ceb965cb3",
                "c5912362c452ad8c"
            ]
        ]
    },
    {
        "id": "4b18021ceb965cb3",
        "type": "template",
        "z": "2c4527dad914ec1c",
        "g": "4baa5eae6bccba26",
        "name": "error",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "<!doctype html>\n<html lang=\"en\">\n\n<head>\n    <meta charset=\"utf-8\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n    <title>Error</title>\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css\"\n        integrity=\"sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu\" crossorigin=\"anonymous\">\n    <script src=\"https://code.jquery.com/jquery-1.12.4.min.js\"\n        integrity=\"sha384-nvAa0+6Qg9clwYCGGPpDQLVpLNn0fRaROjHqs13t4Ggj3Ez50XnGQqc/r8MhnRDZ\"\n        crossorigin=\"anonymous\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js\"\n        integrity=\"sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd\"\n        crossorigin=\"anonymous\"></script>\n</head>\n\n<body>\n    <div class=\"container\">\n        <h2>The operation failed</h2>\n        <p>{{description}}</p>\n\n        <div class=\"table-responsive\">\n            <table id=\"selectiontable\" class=\"table table-striped table-hover\">\n                <thead>\n                    <th>Error Type</th>\n                    <th>Message</th>\n                </thead>\n                <tbody>\n                    {{#payload.errors}}\n                        <tr>\n                            <td>{{type}}</td>\n                            <td>{{message}}</td>\n                        </tr>\n                    {{/payload.errors}}\n                    {{#payload.data.errors}}\n                        <tr>\n                            <td>{{type}}</td>\n                            <td>{{message}}</td>\n                        </tr>\n                    {{/payload.data.errors}}\n                </tbody>\n            </table>\n        </div>\n    </div>\n</body>\n\n</html>",
        "output": "str",
        "x": 4570,
        "y": 420,
        "wires": [
            [
                "6be1c8357935ded8"
            ]
        ]
    },
    {
        "id": "6be1c8357935ded8",
        "type": "http response",
        "z": "2c4527dad914ec1c",
        "g": "4baa5eae6bccba26",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 4730,
        "y": 420,
        "wires": []
    },
    {
        "id": "c5912362c452ad8c",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "4baa5eae6bccba26",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 4570,
        "y": 460,
        "wires": []
    },
    {
        "id": "38c9c876683df642",
        "type": "http response",
        "z": "2c4527dad914ec1c",
        "g": "8fe7fba9478ad6c8",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 4730,
        "y": 580,
        "wires": []
    },
    {
        "id": "6e98ee16de826386",
        "type": "link in",
        "z": "2c4527dad914ec1c",
        "g": "8fe7fba9478ad6c8",
        "name": "success",
        "links": [
            "def796fcf8b7ba68",
            "6610faf99d69fa98",
            "c65594f62b66ba6c"
        ],
        "x": 4445,
        "y": 580,
        "wires": [
            [
                "25164fe0afec3d7a"
            ]
        ]
    },
    {
        "id": "25164fe0afec3d7a",
        "type": "brave-input-form",
        "z": "2c4527dad914ec1c",
        "g": "8fe7fba9478ad6c8",
        "name": "",
        "x": 4570,
        "y": 580,
        "wires": [
            [
                "38c9c876683df642"
            ]
        ]
    },
    {
        "id": "877d493c814eb116",
        "type": "template",
        "z": "2c4527dad914ec1c",
        "g": "fa41432bb855af38",
        "name": "Input Form",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "<!doctype html>\n<html lang=\"en\">\n\n<head>\n    <meta charset=\"utf-8\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n    <title>Defining scope</title>\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css\"\n        integrity=\"sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu\" crossorigin=\"anonymous\">\n    <script src=\"https://code.jquery.com/jquery-1.12.4.min.js\"\n        integrity=\"sha384-nvAa0+6Qg9clwYCGGPpDQLVpLNn0fRaROjHqs13t4Ggj3Ez50XnGQqc/r8MhnRDZ\"\n        crossorigin=\"anonymous\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js\"\n        integrity=\"sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd\"\n        crossorigin=\"anonymous\"></script>\n</head>\n\n<body>\n    <div class=\"modal fade\" id=\"modal\" tabindex=\"-1\" data-backdrop=\"static\">\n        <div class=\"modal-dialog\">\n            <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                    <h4 class=\"modal-title\">Processing ...</h4>\n                </div>\n                <div class=\"modal-body\">\n                    <p>Please wait while the changes are applied.</p>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"container\">\n        <h1>Please specify if you need to create EU CTR Application for the study {{study.name__v}}</h1>\n        <p> </p>\n        <br>\n        <form class=\"form-horizontal\" method=\"post\" action=\"/nodes/cta/cms\">\n            <input type=\"hidden\" name=\"study_id\" value=\"{{study_id}}\">\n            <input type=\"hidden\" name=\"job_type\" value=\"{{job.job_type}}\">\n            <input type=\"hidden\" name=\"job_scope\" value=\"{{job.job_scope}}\">\n            <input type=\"hidden\" name=\"created_event_id\" value=\"{{created_event_id}}\">\n            <div class=\"form-group\">\n                <div class=\"col-md-offset-4 col-md-8\">\n                    <button type=\"submit\" class=\"btn btn-primary\">Yes</button>\n                </div>\n            </div>\n        </form>\n        <form class=\"form-horizontal\" method=\"post\" action=\"/nodes/cta/ctd\">\n            <input type=\"hidden\" name=\"study_id\" value=\"{{study_id}}\">\n            <input type=\"hidden\" name=\"job_type\" value=\"{{job.job_type}}\">\n            <input type=\"hidden\" name=\"job_scope\" value=\"{{job.job_scope}}\">\n            <input type=\"hidden\" name=\"created_event_id\" value=\"{{created_event_id}}\">\n            <div class=\"form-group\">\n                <div class=\"col-md-offset-4 col-md-8\">\n                    <button type=\"submit\" class=\"btn btn-primary\">No</button>\n                </div>\n            </div>\n        </form>\n    </div>\n\n    <script>\n        $(document).ready(function(){\n            $(\"form\").submit(function() {\n                $(\"#modal\").modal(\"show\");\n            });\n        });\n    </script>\n</body>\n\n</html>",
        "output": "str",
        "x": 1810,
        "y": 1060,
        "wires": [
            [
                "eaa9fadb6a229543"
            ]
        ]
    },
    {
        "id": "eaa9fadb6a229543",
        "type": "http response",
        "z": "2c4527dad914ec1c",
        "g": "fa41432bb855af38",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 2070,
        "y": 1060,
        "wires": []
    },
    {
        "id": "2bd0ad048ce6d34e",
        "type": "http in",
        "z": "2c4527dad914ec1c",
        "g": "213c3efa9b282b39",
        "name": "",
        "url": "cta/app_country",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 1380,
        "y": 2540,
        "wires": [
            [
                "dbd00f23f54f267e"
            ]
        ]
    },
    {
        "id": "529382b422e33baf",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "213c3efa9b282b39",
        "name": "query study",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"select id, name__v, study_alias__c, product__v, product__vr.name__v, (select id, name__v, product__c, product__cr.name__v, product_family__c, product_family__cr.name__v, product_variant__c, product_variant__cr.name__v from clinical_study_products__cr), (select id, name__v, therapeutic_indication__c, therapeutic_indication__cr.name__v from therapeutic_indication_clinical_studies__cr) from clinical_study__v where id='\" & study_id & \"'\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2170,
        "y": 2840,
        "wires": [
            [
                "71a35f478418d5d7"
            ]
        ]
    },
    {
        "id": "80659552c324848c",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "213c3efa9b282b39",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "study",
                "pt": "msg",
                "to": "payload.data[0]",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2620,
        "y": 2840,
        "wires": [
            [
                "5d3396e25a8c72c4",
                "1710ed53d4d37b5c"
            ]
        ]
    },
    {
        "id": "865bb03421f66f06",
        "type": "split",
        "z": "2c4527dad914ec1c",
        "g": "213c3efa9b282b39",
        "name": "for each country",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 2400,
        "y": 2720,
        "wires": [
            [
                "1179a3687c6cf5a6"
            ]
        ]
    },
    {
        "id": "5e50d16ff43a82fd",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "213c3efa9b282b39",
        "name": "store parameters",
        "rules": [
            {
                "t": "set",
                "p": "study_id",
                "pt": "msg",
                "to": "payload.study_id",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "countries",
                "pt": "msg",
                "to": "payload.response_full[]",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "cms_countries_string",
                "pt": "msg",
                "to": "payload.cms_countries",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "lead_country_string",
                "pt": "msg",
                "to": "payload.lead_country",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "client_id",
                "pt": "msg",
                "to": "cta-automation",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "job.job_scope",
                "pt": "msg",
                "to": "payload.job_scope",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "job.job_type",
                "pt": "msg",
                "to": "payload.job_type",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "created_event_id",
                "pt": "msg",
                "to": "payload.created_event_id",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1930,
        "y": 2540,
        "wires": [
            [
                "65e5881ebae4daa7"
            ]
        ]
    },
    {
        "id": "1179a3687c6cf5a6",
        "type": "json",
        "z": "2c4527dad914ec1c",
        "g": "213c3efa9b282b39",
        "name": "json to object",
        "property": "payload",
        "action": "obj",
        "pretty": false,
        "x": 2170,
        "y": 2780,
        "wires": [
            [
                "886859ca7a54f7fd"
            ]
        ]
    },
    {
        "id": "886859ca7a54f7fd",
        "type": "join",
        "z": "2c4527dad914ec1c",
        "g": "213c3efa9b282b39",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": true,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2330,
        "y": 2780,
        "wires": [
            [
                "d6bda7745030b8a0"
            ]
        ]
    },
    {
        "id": "265347a384987222",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "213c3efa9b282b39",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2850,
        "y": 2780,
        "wires": []
    },
    {
        "id": "b44bfa5ffe29b60e",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "213c3efa9b282b39",
        "name": "parse countries",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "countries",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2180,
        "y": 2720,
        "wires": [
            [
                "865bb03421f66f06"
            ]
        ]
    },
    {
        "id": "5d3396e25a8c72c4",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "213c3efa9b282b39",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2850,
        "y": 2840,
        "wires": []
    },
    {
        "id": "d6bda7745030b8a0",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "213c3efa9b282b39",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "countries",
                "pt": "msg",
                "to": "payload",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2490,
        "y": 2780,
        "wires": [
            [
                "265347a384987222",
                "529382b422e33baf"
            ]
        ]
    },
    {
        "id": "65e5881ebae4daa7",
        "type": "brave-login",
        "z": "2c4527dad914ec1c",
        "g": "213c3efa9b282b39",
        "name": "",
        "x": 2150,
        "y": 2540,
        "wires": [
            [
                "96ab22406c6dcd7e",
                "c89d44f157d80bc4"
            ],
            [
                "b7de0fe7ad66d2ca"
            ]
        ]
    },
    {
        "id": "a5c49e2191c98551",
        "type": "link out",
        "z": "2c4527dad914ec1c",
        "g": "213c3efa9b282b39",
        "name": "",
        "mode": "link",
        "links": [
            "0b4394d395558302"
        ],
        "x": 2565,
        "y": 2980,
        "wires": []
    },
    {
        "id": "71a35f478418d5d7",
        "type": "brave-vql-query",
        "z": "2c4527dad914ec1c",
        "g": "213c3efa9b282b39",
        "name": "",
        "x": 2390,
        "y": 2840,
        "wires": [
            [
                "80659552c324848c"
            ],
            [
                "a5c49e2191c98551"
            ]
        ]
    },
    {
        "id": "1710ed53d4d37b5c",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "213c3efa9b282b39",
        "name": "query event",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"select id, name__v, event_description__c, (select id, impd_version_nonquality_part__c, impd_version_quality_part__c, protocol_version__c, ib_version__c from event_clinical_studies__vr) from event__rim where object_type__vr.api_name__v = 'clinical_study_event__c' and applicable_product_type__v = 'drug__v'and keywords__c = 'clinical_initial_cta__c' and id in (select id from event_clinical_studies__vr where clinical_study__v='\" & study_id & \"')\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2170,
        "y": 2900,
        "wires": [
            [
                "ebb4d9b0095025e2"
            ]
        ]
    },
    {
        "id": "ebb4d9b0095025e2",
        "type": "brave-vql-query",
        "z": "2c4527dad914ec1c",
        "g": "213c3efa9b282b39",
        "name": "",
        "x": 2390,
        "y": 2900,
        "wires": [
            [
                "5b81fc0c9cee31d0"
            ],
            [
                "a5c49e2191c98551"
            ]
        ]
    },
    {
        "id": "5b81fc0c9cee31d0",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "213c3efa9b282b39",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "event",
                "pt": "msg",
                "to": "payload.data[0]",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2620,
        "y": 2900,
        "wires": [
            [
                "98a09d8faa795864",
                "c526a83f886ee66c"
            ]
        ]
    },
    {
        "id": "98a09d8faa795864",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "213c3efa9b282b39",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2850,
        "y": 2900,
        "wires": []
    },
    {
        "id": "551b9623d7990835",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "213c3efa9b282b39",
        "name": "parse Lead country",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "lead_country_string",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1490,
        "y": 2600,
        "wires": [
            [
                "0c293fa5ea1d40ae"
            ]
        ]
    },
    {
        "id": "d63ba5dad0268d14",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "213c3efa9b282b39",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "lead_country",
                "pt": "msg",
                "to": "payload",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2200,
        "y": 2600,
        "wires": [
            [
                "6882d811cc48713f",
                "3ca6345f6ae806b8"
            ]
        ]
    },
    {
        "id": "0c293fa5ea1d40ae",
        "type": "split",
        "z": "2c4527dad914ec1c",
        "g": "213c3efa9b282b39",
        "name": "for each country",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1700,
        "y": 2600,
        "wires": [
            [
                "36831944ea231a2c"
            ]
        ]
    },
    {
        "id": "3ca6345f6ae806b8",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "213c3efa9b282b39",
        "name": "parse CMS countries",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "cms_countries_string",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1500,
        "y": 2660,
        "wires": [
            [
                "d57e93c3e4dd9068"
            ]
        ]
    },
    {
        "id": "d57e93c3e4dd9068",
        "type": "json",
        "z": "2c4527dad914ec1c",
        "g": "213c3efa9b282b39",
        "name": "json to object",
        "property": "payload",
        "action": "obj",
        "pretty": false,
        "x": 1690,
        "y": 2660,
        "wires": [
            [
                "4931687c32f891d3"
            ]
        ]
    },
    {
        "id": "36831944ea231a2c",
        "type": "json",
        "z": "2c4527dad914ec1c",
        "g": "213c3efa9b282b39",
        "name": "json to object",
        "property": "payload",
        "action": "obj",
        "pretty": false,
        "x": 1910,
        "y": 2600,
        "wires": [
            [
                "d63ba5dad0268d14"
            ]
        ]
    },
    {
        "id": "4931687c32f891d3",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "213c3efa9b282b39",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "cms_countries",
                "pt": "msg",
                "to": "payload",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1920,
        "y": 2660,
        "wires": [
            [
                "26ea46e253a36a17",
                "40898951895346d8"
            ]
        ]
    },
    {
        "id": "26ea46e253a36a17",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "213c3efa9b282b39",
        "name": "msg",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2410,
        "y": 2660,
        "wires": []
    },
    {
        "id": "6882d811cc48713f",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "213c3efa9b282b39",
        "name": "msg",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2410,
        "y": 2600,
        "wires": []
    },
    {
        "id": "40898951895346d8",
        "type": "switch",
        "z": "2c4527dad914ec1c",
        "g": "213c3efa9b282b39",
        "name": "Check if non_CTR countries are selected",
        "property": "payload.countries",
        "propertyType": "msg",
        "rules": [
            {
                "t": "jsonata_exp",
                "v": "$exists(countries)",
                "vt": "jsonata"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1880,
        "y": 2720,
        "wires": [
            [
                "b44bfa5ffe29b60e"
            ],
            [
                "c47ac8ab0a1808e1"
            ]
        ]
    },
    {
        "id": "c47ac8ab0a1808e1",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "213c3efa9b282b39",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "countries",
                "pt": "msg",
                "to": "[]",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1490,
        "y": 2780,
        "wires": [
            [
                "5c2196dbbf15ce94",
                "529382b422e33baf"
            ]
        ]
    },
    {
        "id": "5c2196dbbf15ce94",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "213c3efa9b282b39",
        "name": "debug 351",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1710,
        "y": 2880,
        "wires": []
    },
    {
        "id": "dbd00f23f54f267e",
        "type": "json",
        "z": "2c4527dad914ec1c",
        "g": "213c3efa9b282b39",
        "name": "resp_full",
        "property": "payload.response_full",
        "action": "obj",
        "pretty": false,
        "x": 1680,
        "y": 2540,
        "wires": [
            [
                "5e50d16ff43a82fd"
            ]
        ]
    },
    {
        "id": "e9ca3eba68b20dea",
        "type": "http response",
        "z": "2c4527dad914ec1c",
        "g": "23b14172f95f39ef",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 2050,
        "y": 2440,
        "wires": []
    },
    {
        "id": "f3946df6e7b32134",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "23b14172f95f39ef",
        "name": "set msg.application_types",
        "rules": [
            {
                "t": "set",
                "p": "application_types",
                "pt": "msg",
                "to": "$distinct(payload.data).{\t   \"country_id\": country__rim,\t   \"country_name\": `country__rimr.name__v`,\t   \"country_code\": `country__rimr.country_code__rim`,\t   \"region_id\": region__rim,\t   \"region_name\": `region__rimr.name__v`,\t   \"application_type_id\": cv_1__rim,\t   \"application_type\": `cv_1__rimr.name__v`\t} ~> $filter(function($v) {\t    $v.region_name = \"European Union\" and $v.application_type != \"CTA Regulation\" and $v.application_type != \"Paediatric Investigation Plan (PIP)\" and $v.application_type != \"Orphan Drug Designation Application\"or\t    $v.country_name = \"United States\" and $v.application_type = \"Investigational New Drug (IND)\" or\t    $v.region_name != \"European Union\" and $v.country_name != \"United States\" and $v.application_type != \"Paediatric Investigation Plan (PIP)\"\t})",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "full_application_types",
                "pt": "msg",
                "to": "application_types[country_id=null]\t/* Replace null countries with a list of all countries in that region */\t~> $map(function($t) {$.countries[region_id=$t.region_id] ~> $map(function($c) {$merge([$t,$c])})})\t/* Reduce list of lists to single list */\t~> $reduce(function($i, $v) { $append($i, $v) })\t/* Join with non-null countries */\t~> $append(application_types[country_id!=null])\t/* Filter out already existing applications */\t/* by using the Countries in Lead Country*/\t~> $filter(function($v) {$count(applications[lead_market__rim=$v.country_id and application_type__rim=$v.application_type_id])=0})\t/* by using the Countries in Application Country join*/\t~> $filter(function($v) {$count(application_countries[country__rim=$v.country_id and `application__rimr.application_type__rim`=$v.application_type_id])=0})\t/* Filter out Common (EU) and Common (GCC) */\t~> $filter(function($v) {$v.country_name != \"Common (EU)\" and $v.country_name != \"Common (GCC)\"})\t/* Sort by name */\t~> $sort(function($l, $r) {$l.country_name > $r.country_name})\t/* Remove duplicates */\t~> $distinct()",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2110,
        "y": 2360,
        "wires": [
            [
                "078c240515b5297c",
                "b43c0eed548cafd3"
            ]
        ]
    },
    {
        "id": "1d2c66618b3e6c4f",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "23b14172f95f39ef",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2590,
        "y": 2420,
        "wires": []
    },
    {
        "id": "1149f834be044e54",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "23b14172f95f39ef",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "countries",
                "pt": "msg",
                "to": "payload.data.{\t   \"country_id\": id,\t   \"country_name\": name__v,\t   \"country_code\": country_code__rim,\t   \"region_id\": region__v,\t   \"region_name\": `region__vr.name__v`\t}",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2090,
        "y": 2180,
        "wires": [
            [
                "4ad7909a97e437a7",
                "bd46d5f7dd3c56b5"
            ]
        ]
    },
    {
        "id": "4ad7909a97e437a7",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "23b14172f95f39ef",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2590,
        "y": 2160,
        "wires": []
    },
    {
        "id": "078c240515b5297c",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "23b14172f95f39ef",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2590,
        "y": 2360,
        "wires": []
    },
    {
        "id": "9026e264d0fa9d16",
        "type": "brave-vql-query",
        "z": "2c4527dad914ec1c",
        "g": "23b14172f95f39ef",
        "name": "",
        "x": 1870,
        "y": 2180,
        "wires": [
            [
                "1149f834be044e54"
            ],
            [
                "b7de0fe7ad66d2ca"
            ]
        ]
    },
    {
        "id": "5b674da7b3b3c493",
        "type": "brave-vql-query",
        "z": "2c4527dad914ec1c",
        "g": "23b14172f95f39ef",
        "name": "",
        "x": 1870,
        "y": 2360,
        "wires": [
            [
                "f3946df6e7b32134"
            ],
            [
                "b7de0fe7ad66d2ca"
            ]
        ]
    },
    {
        "id": "e06fc599ded4e970",
        "type": "brave-input-form",
        "z": "2c4527dad914ec1c",
        "g": "23b14172f95f39ef",
        "name": "",
        "x": 1870,
        "y": 2420,
        "wires": [
            [
                "e9ca3eba68b20dea",
                "1d2c66618b3e6c4f"
            ]
        ]
    },
    {
        "id": "99b5a29dc4898dc1",
        "type": "brave-vql-query",
        "z": "2c4527dad914ec1c",
        "g": "23b14172f95f39ef",
        "name": "",
        "x": 1870,
        "y": 2300,
        "wires": [
            [
                "f54f30035d27303f"
            ],
            [
                "b7de0fe7ad66d2ca"
            ]
        ]
    },
    {
        "id": "f54f30035d27303f",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "23b14172f95f39ef",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "applications",
                "pt": "msg",
                "to": "payload.data",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2100,
        "y": 2300,
        "wires": [
            [
                "4cbcdab4ed0ad26d",
                "ea0561a17a3e4733"
            ]
        ]
    },
    {
        "id": "ea0561a17a3e4733",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "23b14172f95f39ef",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2590,
        "y": 2300,
        "wires": []
    },
    {
        "id": "7147d272c95b9b91",
        "type": "brave-login",
        "z": "2c4527dad914ec1c",
        "g": "23b14172f95f39ef",
        "name": "",
        "x": 2350,
        "y": 1960,
        "wires": [
            [
                "a29e783cc968e8c6",
                "93250f2631c4e047"
            ],
            [
                "1e2e089e5f67454c"
            ]
        ]
    },
    {
        "id": "232035efdfcc0ede",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "23b14172f95f39ef",
        "name": "store parameters",
        "rules": [
            {
                "t": "set",
                "p": "study_id",
                "pt": "msg",
                "to": "payload.study_id",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "event_id",
                "pt": "msg",
                "to": "payload.event_id",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "cms_countries_string",
                "pt": "msg",
                "to": "payload.response_full[]",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "lead_country_string",
                "pt": "msg",
                "to": "payload.lead_country",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "client_id",
                "pt": "msg",
                "to": "cta-automation",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "job.job_type",
                "pt": "msg",
                "to": "payload.job_type",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "job.job_scope",
                "pt": "msg",
                "to": "payload.job_scope",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "created_event_id",
                "pt": "msg",
                "to": "payload.created_event_id",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2090,
        "y": 1960,
        "wires": [
            [
                "7147d272c95b9b91"
            ]
        ]
    },
    {
        "id": "6384e2cf76fa1a73",
        "type": "split",
        "z": "2c4527dad914ec1c",
        "g": "23b14172f95f39ef",
        "name": "for each country",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1880,
        "y": 2020,
        "wires": [
            [
                "2a5dbf3a114a6c7f"
            ]
        ]
    },
    {
        "id": "2a5dbf3a114a6c7f",
        "type": "json",
        "z": "2c4527dad914ec1c",
        "g": "23b14172f95f39ef",
        "name": "json to object",
        "property": "payload",
        "action": "obj",
        "pretty": false,
        "x": 2070,
        "y": 2020,
        "wires": [
            [
                "5c5f8c6d3d14579b"
            ]
        ]
    },
    {
        "id": "5c5f8c6d3d14579b",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "23b14172f95f39ef",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "lead_country",
                "pt": "msg",
                "to": "payload",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2400,
        "y": 2020,
        "wires": [
            [
                "1ce0090dbddae5e8",
                "604f50bb6db90c11"
            ]
        ]
    },
    {
        "id": "1ce0090dbddae5e8",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "23b14172f95f39ef",
        "name": "msg",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2590,
        "y": 2020,
        "wires": []
    },
    {
        "id": "b1fa9325cae27f86",
        "type": "split",
        "z": "2c4527dad914ec1c",
        "g": "23b14172f95f39ef",
        "name": "for each country",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1880,
        "y": 2080,
        "wires": [
            [
                "ea17aeeb8c17f5aa"
            ]
        ]
    },
    {
        "id": "ea17aeeb8c17f5aa",
        "type": "json",
        "z": "2c4527dad914ec1c",
        "g": "23b14172f95f39ef",
        "name": "json to object",
        "property": "payload",
        "action": "obj",
        "pretty": false,
        "x": 2070,
        "y": 2080,
        "wires": [
            [
                "30d0e763665a0f4f"
            ]
        ]
    },
    {
        "id": "30d0e763665a0f4f",
        "type": "join",
        "z": "2c4527dad914ec1c",
        "g": "23b14172f95f39ef",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": true,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2230,
        "y": 2080,
        "wires": [
            [
                "8f4a274d1b5bd632"
            ]
        ]
    },
    {
        "id": "8f4a274d1b5bd632",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "23b14172f95f39ef",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "cms_countries",
                "pt": "msg",
                "to": "payload",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2400,
        "y": 2080,
        "wires": [
            [
                "52fb1526b6af11ee",
                "4379a5a24c6d2e1a"
            ]
        ]
    },
    {
        "id": "4379a5a24c6d2e1a",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "23b14172f95f39ef",
        "name": "msg",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2590,
        "y": 2080,
        "wires": []
    },
    {
        "id": "c935b2229ba86e1a",
        "type": "http in",
        "z": "2c4527dad914ec1c",
        "g": "23b14172f95f39ef",
        "name": "",
        "url": "cta/ctd",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 1350,
        "y": 1960,
        "wires": [
            [
                "959da61bde9bb8b0"
            ]
        ]
    },
    {
        "id": "a29e783cc968e8c6",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "23b14172f95f39ef",
        "name": "parse Lead country",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "lead_country_string",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1610,
        "y": 2020,
        "wires": [
            [
                "6384e2cf76fa1a73"
            ]
        ]
    },
    {
        "id": "604f50bb6db90c11",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "23b14172f95f39ef",
        "name": "parse CMS countries",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "cms_countries_string",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1620,
        "y": 2080,
        "wires": [
            [
                "b1fa9325cae27f86"
            ]
        ]
    },
    {
        "id": "52fb1526b6af11ee",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "23b14172f95f39ef",
        "name": "query countries",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"select id, name__v, country_code__rim, region__v, region__vr.name__v from country__v where status__v = 'active__v' and id !='\" & $.lead_country[0].country_id & \"' AND \" & (cms_countries.country_id ~> $map(function($v) {\"id!='\" & $v & \"'\"}) ~> $join(\" AND \"))",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1600,
        "y": 2140,
        "wires": [
            [
                "9026e264d0fa9d16"
            ]
        ]
    },
    {
        "id": "bdf4c22bb3725613",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "23b14172f95f39ef",
        "name": "query existing applications",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"select id, name__v,lead_market__rim, application_type__rim from application__v where clinical_study__c = '\" & study_id & \"'\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1640,
        "y": 2300,
        "wires": [
            [
                "99b5a29dc4898dc1"
            ]
        ]
    },
    {
        "id": "4cbcdab4ed0ad26d",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "23b14172f95f39ef",
        "name": "query application types",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "SELECT country__rim, country__rimr.name__v, country__rimr.country_code__rim, region__rim, region__rimr.name__v, cv_1__rim, cv_1__rimr.name__v FROM constraint__rim WHERE applicable_product_type__v = 'drug__v' AND constraint_scope__v = 'investigational__c' AND status__v = 'active__v' AND cv_1__rimr.controlled_vocabulary_type__rim = 'application_type__rim' AND cv_1__rimr.status__v = 'active__v'",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1620,
        "y": 2360,
        "wires": [
            [
                "5b674da7b3b3c493"
            ]
        ]
    },
    {
        "id": "b43c0eed548cafd3",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "23b14172f95f39ef",
        "name": "set fields for input form",
        "rules": [
            {
                "t": "set",
                "p": "title",
                "pt": "msg",
                "to": "Please select the target countries for new CTAs",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "type",
                "pt": "msg",
                "to": "checkbox",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "description",
                "pt": "msg",
                "to": "\"For Study \" & flow.study.name__v & \" \" & study.study_alias__c & \". Leave empty if not applicable.\"",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "tableheader",
                "pt": "msg",
                "to": "{\"columns\":[\"Country\",\"Region\",\"Application Type\"]}",
                "tot": "json"
            },
            {
                "t": "set",
                "p": "dataarray",
                "pt": "msg",
                "to": "full_application_types.{\t   \"selection\": $string(),\t   \"columns\": [\t       country_name,\t       region_name,\t       application_type\t   ]\t}",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "flow",
                "pt": "msg",
                "to": "nodes/cta/app_country",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "hiddenfields",
                "pt": "msg",
                "to": "[\t   {\t       \"name\": \"study_id\",\t       \"value\": study_id\t    },\t    {\t        \"name\": \"lead_country\",\t        \"value\": $string(lead_country)\t    },\t    {\t        \"name\": \"cms_countries\",\t        \"value\": $string(cms_countries)\t    },\t    {\t        \"name\": \"event_id\",\t        \"value\": event_id\t    },\t    {\t        \"name\": \"created_event_id\",\t        \"value\": created_event_id\t    },\t    {\t        \"name\": \"job_type\",\t        \"value\": job.job_type\t    },\t    {\t        \"name\": \"job_scope\",\t        \"value\": job.job_scope\t    }\t\t]",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1620,
        "y": 2420,
        "wires": [
            [
                "e06fc599ded4e970"
            ]
        ]
    },
    {
        "id": "6a6c7efc7e51bf6d",
        "type": "json",
        "z": "2c4527dad914ec1c",
        "g": "23b14172f95f39ef",
        "name": "resp_full",
        "property": "payload.response_full",
        "action": "obj",
        "pretty": false,
        "x": 1860,
        "y": 1960,
        "wires": [
            [
                "232035efdfcc0ede"
            ]
        ]
    },
    {
        "id": "b7de0fe7ad66d2ca",
        "type": "link out",
        "z": "2c4527dad914ec1c",
        "g": "23b14172f95f39ef",
        "name": "link out 8",
        "mode": "link",
        "links": [
            "0b4394d395558302"
        ],
        "x": 2265,
        "y": 2440,
        "wires": []
    },
    {
        "id": "86268d6a0b837218",
        "type": "http response",
        "z": "2c4527dad914ec1c",
        "g": "0342ae8990d4e5d0",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 2110,
        "y": 1800,
        "wires": []
    },
    {
        "id": "97b53a3a8dd09761",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "0342ae8990d4e5d0",
        "name": "set fields for input form",
        "rules": [
            {
                "t": "set",
                "p": "title",
                "pt": "msg",
                "to": "Please select all the participating countries of the CTR process",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "type",
                "pt": "msg",
                "to": "checkbox",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "description",
                "pt": "msg",
                "to": "\"Lead Country is set as European Union for new CTR for Study \" & study.name__v & \" \" & study.study_alias__c",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "tableheader",
                "pt": "msg",
                "to": "{\"columns\":[\"Country\",\"Region\",\"Application Type\"]}",
                "tot": "json"
            },
            {
                "t": "set",
                "p": "dataarray",
                "pt": "msg",
                "to": "full_application_types.{\t   \"selection\": $string(),\t   \"columns\": [\t       country_name,\t       region_name,\t       application_type\t   ]\t}",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "flow",
                "pt": "msg",
                "to": "nodes/cta/ctd",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "hiddenfields",
                "pt": "msg",
                "to": "[\t   {\t       \"name\": \"study_id\",\t       \"value\": study_id\t    },\t    {\t       \"name\": \"lead_country\",\t       \"value\": $string(lead_country)\t    },\t    {\t        \"name\": \"event_id\",\t        \"value\": event_id\t    },\t    {\t        \"name\": \"created_event_id\",\t        \"value\": created_event_id\t    },\t    {\t        \"name\": \"job_type\",\t        \"value\": job.job_type\t    },\t    {\t        \"name\": \"job_scope\",\t        \"value\": job.job_scope\t    }\t\t]",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1360,
        "y": 1760,
        "wires": [
            [
                "09ab16f41f604cb4"
            ]
        ]
    },
    {
        "id": "4cac1cf727b0ef9f",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "0342ae8990d4e5d0",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2110,
        "y": 1760,
        "wires": []
    },
    {
        "id": "3db241b53e5fc1f6",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "0342ae8990d4e5d0",
        "name": "query application types",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "SELECT country__rim, country__rimr.name__v, country__rimr.country_code__rim, region__rim, region__rimr.name__v, cv_1__rim, cv_1__rimr.name__v FROM constraint__rim WHERE applicable_product_type__v = 'drug__v' AND constraint_scope__v = 'investigational__c' AND status__v = 'active__v' AND cv_1__rimr.controlled_vocabulary_type__rim = 'application_type__rim' AND cv_1__rimr.status__v = 'active__v' AND region__rimr.name__v='European Union'",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1360,
        "y": 1700,
        "wires": [
            [
                "309297c842b780cc"
            ]
        ]
    },
    {
        "id": "f366310a370cb263",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "0342ae8990d4e5d0",
        "name": "query countries",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"select id, name__v, country_code__rim, region__v, region__vr.name__v from country__v where status__v = 'active__v' and region__vr.name__v='European Union' and id !='\" & $$.lead_country[0].country_id & \"'\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1340,
        "y": 1520,
        "wires": [
            [
                "cc8836b7ba4047c6"
            ]
        ]
    },
    {
        "id": "2b6a8988be4f6aa1",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "0342ae8990d4e5d0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "countries",
                "pt": "msg",
                "to": "payload.data.{\t   \"country_id\": id,\t   \"country_name\": name__v,\t   \"country_code\": country_code__rim,\t   \"region_id\": region__v,\t   \"region_name\": `region__vr.name__v`\t}",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1850,
        "y": 1520,
        "wires": [
            [
                "59a605b44b4e458f",
                "eabb62e6f580519c"
            ]
        ]
    },
    {
        "id": "59a605b44b4e458f",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "0342ae8990d4e5d0",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2110,
        "y": 1520,
        "wires": []
    },
    {
        "id": "8f7f5b7af1e523e8",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "0342ae8990d4e5d0",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2110,
        "y": 1700,
        "wires": []
    },
    {
        "id": "cc8836b7ba4047c6",
        "type": "brave-vql-query",
        "z": "2c4527dad914ec1c",
        "g": "0342ae8990d4e5d0",
        "name": "",
        "x": 1630,
        "y": 1520,
        "wires": [
            [
                "2b6a8988be4f6aa1"
            ],
            [
                "1e2e089e5f67454c"
            ]
        ]
    },
    {
        "id": "309297c842b780cc",
        "type": "brave-vql-query",
        "z": "2c4527dad914ec1c",
        "g": "0342ae8990d4e5d0",
        "name": "",
        "x": 1630,
        "y": 1700,
        "wires": [
            [
                "45d06b2c211d3315"
            ],
            [
                "1e2e089e5f67454c"
            ]
        ]
    },
    {
        "id": "09ab16f41f604cb4",
        "type": "brave-input-form",
        "z": "2c4527dad914ec1c",
        "g": "0342ae8990d4e5d0",
        "name": "",
        "x": 1630,
        "y": 1760,
        "wires": [
            [
                "86268d6a0b837218",
                "4cac1cf727b0ef9f"
            ]
        ]
    },
    {
        "id": "eabb62e6f580519c",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "0342ae8990d4e5d0",
        "name": "query existing applications",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"select id, name__v,lead_market__rim, application_type__rim from application__v where clinical_study__c = '\" & study_id & \"'\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1380,
        "y": 1580,
        "wires": [
            [
                "077d32a3b26a735d"
            ]
        ]
    },
    {
        "id": "077d32a3b26a735d",
        "type": "brave-vql-query",
        "z": "2c4527dad914ec1c",
        "g": "0342ae8990d4e5d0",
        "name": "",
        "x": 1630,
        "y": 1580,
        "wires": [
            [
                "a0f6e8171e172d4a"
            ],
            [
                "1e2e089e5f67454c"
            ]
        ]
    },
    {
        "id": "a0f6e8171e172d4a",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "0342ae8990d4e5d0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "applications",
                "pt": "msg",
                "to": "payload.data",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1860,
        "y": 1580,
        "wires": [
            [
                "f0987bd0f1eba5cc",
                "1f5889e43a4b930a"
            ]
        ]
    },
    {
        "id": "f0987bd0f1eba5cc",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "0342ae8990d4e5d0",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2110,
        "y": 1580,
        "wires": []
    },
    {
        "id": "1c94bab016a6778b",
        "type": "http in",
        "z": "2c4527dad914ec1c",
        "g": "0342ae8990d4e5d0",
        "name": "",
        "url": "cta/cms",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 1360,
        "y": 1340,
        "wires": [
            [
                "6d5e72093e4f1763"
            ]
        ]
    },
    {
        "id": "3d50cf1b7e19fa64",
        "type": "brave-login",
        "z": "2c4527dad914ec1c",
        "g": "0342ae8990d4e5d0",
        "name": "",
        "x": 1810,
        "y": 1340,
        "wires": [
            [
                "fc53ea68445af2da"
            ],
            [
                "1e2e089e5f67454c"
            ]
        ]
    },
    {
        "id": "6d5e72093e4f1763",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "0342ae8990d4e5d0",
        "name": "store parameters",
        "rules": [
            {
                "t": "set",
                "p": "study_id",
                "pt": "msg",
                "to": "payload.study_id",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "lead_country_string",
                "pt": "msg",
                "to": "[{\"country_id\":\"00C000000000783\",\"country_name\":\"European Union\",\"country_code\":\"EU\",\"region_id\":\"00R000000000102\",\"region_name\":\"European Union\",\"application_type_id\":\"A0V000000004004\",\"application_type\":\"CTA Regulation\"}]",
                "tot": "str",
                "dc": true
            },
            {
                "t": "set",
                "p": "client_id",
                "pt": "msg",
                "to": "cta-automation",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "event_id",
                "pt": "msg",
                "to": "payload.id",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "job.job_scope",
                "pt": "msg",
                "to": "payload.job_scope",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "job.job_type",
                "pt": "msg",
                "to": "payload.job_type",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "created_event_id",
                "pt": "msg",
                "to": "payload.created_event_id",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1650,
        "y": 1340,
        "wires": [
            [
                "3d50cf1b7e19fa64"
            ]
        ]
    },
    {
        "id": "62db2312adce6927",
        "type": "json",
        "z": "2c4527dad914ec1c",
        "g": "0342ae8990d4e5d0",
        "name": "json to object",
        "property": "payload",
        "action": "obj",
        "pretty": false,
        "x": 1630,
        "y": 1400,
        "wires": [
            [
                "2b6443fc1090bbdb"
            ]
        ]
    },
    {
        "id": "2b6443fc1090bbdb",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "0342ae8990d4e5d0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "lead_country",
                "pt": "msg",
                "to": "payload",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1860,
        "y": 1400,
        "wires": [
            [
                "380f6e75443f7e3e",
                "a53bccc1a94c03cb"
            ]
        ]
    },
    {
        "id": "2a898795a346bdae",
        "type": "split",
        "z": "2c4527dad914ec1c",
        "g": "0342ae8990d4e5d0",
        "name": "for each country",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1340,
        "y": 1400,
        "wires": [
            [
                "62db2312adce6927"
            ]
        ]
    },
    {
        "id": "fc53ea68445af2da",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "0342ae8990d4e5d0",
        "name": "parse countries",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "lead_country_string",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2080,
        "y": 1340,
        "wires": [
            [
                "2a898795a346bdae"
            ]
        ]
    },
    {
        "id": "380f6e75443f7e3e",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "0342ae8990d4e5d0",
        "name": "msg",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2110,
        "y": 1400,
        "wires": []
    },
    {
        "id": "1f5889e43a4b930a",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "0342ae8990d4e5d0",
        "name": "query existing Application Countries",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"select id, country__rim, country__rimr.name__v, application__rim, application__rimr.name__v, application__rimr.application_type__rim from application_country__rim where application__rimr.clinical_study__c ='\" & study_id & \"'\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1400,
        "y": 1640,
        "wires": [
            [
                "a6055687aa65ad2f"
            ]
        ]
    },
    {
        "id": "a6055687aa65ad2f",
        "type": "brave-vql-query",
        "z": "2c4527dad914ec1c",
        "g": "0342ae8990d4e5d0",
        "name": "",
        "x": 1630,
        "y": 1640,
        "wires": [
            [
                "a4abf52b8768caf0"
            ],
            [
                "1e2e089e5f67454c"
            ]
        ]
    },
    {
        "id": "a4abf52b8768caf0",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "0342ae8990d4e5d0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "application_countries",
                "pt": "msg",
                "to": "payload.data",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1890,
        "y": 1640,
        "wires": [
            [
                "5945973ffe5f9e1c",
                "3db241b53e5fc1f6"
            ]
        ]
    },
    {
        "id": "5945973ffe5f9e1c",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "0342ae8990d4e5d0",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2110,
        "y": 1640,
        "wires": []
    },
    {
        "id": "1e2e089e5f67454c",
        "type": "link out",
        "z": "2c4527dad914ec1c",
        "g": "0342ae8990d4e5d0",
        "name": "link out 9",
        "mode": "link",
        "links": [
            "0b4394d395558302"
        ],
        "x": 1785,
        "y": 1820,
        "wires": []
    },
    {
        "id": "0571712f078a2137",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "3b0d3c603c0d1fd6",
        "name": "create application countries",
        "rules": [
            {
                "t": "set",
                "p": "args",
                "pt": "msg",
                "to": "{\t   \"object_name\": \"application_country__rim\",\t   \"keep\": \"false\"\t}",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "join_countries",
                "pt": "msg",
                "to": "$append(cms_countries,countries)",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "cms_countries@$i.ha@$h[$i.country_id=$h.country__rim].{\t   \"country__rim\": $i.country_id,\t   \"health_authority__c\": $h.health_authority__v,\t   \"application__rim\": applications[0].id,\t   \"object_type__vr.name__v\": \"Investigational Application Country\"\t}[]",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1800,
        "y": 3560,
        "wires": [
            [
                "eb1b125d55482241"
            ]
        ]
    },
    {
        "id": "eb1b125d55482241",
        "type": "brave-create-vobject",
        "z": "2c4527dad914ec1c",
        "g": "3b0d3c603c0d1fd6",
        "name": "",
        "x": 2100,
        "y": 3560,
        "wires": [
            [
                "22075ff5491384ec",
                "80c81f840d3d8bf8"
            ],
            [
                "e47b4d5d5c74d6f1"
            ]
        ]
    },
    {
        "id": "22075ff5491384ec",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "3b0d3c603c0d1fd6",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2410,
        "y": 3560,
        "wires": []
    },
    {
        "id": "bbd3c599a4d4a203",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "3b0d3c603c0d1fd6",
        "name": "query HA",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "select id, country__rim, country__rimr.name__v, object_type__v, object_type__vr.name__v, health_authority__v, health_authority__vr.name__v from constraint__rim where object_type__vr.name__v='Health Authority'",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1320,
        "y": 3500,
        "wires": [
            [
                "b9d002f72c39627d"
            ]
        ]
    },
    {
        "id": "b9d002f72c39627d",
        "type": "brave-vql-query",
        "z": "2c4527dad914ec1c",
        "g": "3b0d3c603c0d1fd6",
        "name": "",
        "x": 1570,
        "y": 3500,
        "wires": [
            [
                "646ee80e0e3c6a5f"
            ],
            [
                "e47b4d5d5c74d6f1"
            ]
        ]
    },
    {
        "id": "fc7d31296cf7b12f",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "3b0d3c603c0d1fd6",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "ha",
                "pt": "msg",
                "to": "payload.data",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1330,
        "y": 3560,
        "wires": [
            [
                "8dd59e74376d6937"
            ]
        ]
    },
    {
        "id": "d43907b12f64f459",
        "type": "brave-create-vobject",
        "z": "2c4527dad914ec1c",
        "g": "3b0d3c603c0d1fd6",
        "name": "",
        "x": 2100,
        "y": 3620,
        "wires": [
            [
                "00c17791fffdd382",
                "9a87a1f173d5e53f"
            ],
            [
                "e47b4d5d5c74d6f1"
            ]
        ]
    },
    {
        "id": "00c17791fffdd382",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "3b0d3c603c0d1fd6",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2410,
        "y": 3620,
        "wires": []
    },
    {
        "id": "90e528859987db49",
        "type": "function",
        "z": "2c4527dad914ec1c",
        "g": "3b0d3c603c0d1fd6",
        "name": "Remove duplicate by country",
        "func": "var prev = null;\n\nmsg.payload.data = msg.payload.data.filter((item) => {\n    var keep = (item.country__rim !== prev);\n    prev = item.country__rim;\n    return keep;\n});\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2140,
        "y": 3500,
        "wires": [
            [
                "fc7d31296cf7b12f",
                "66ccba17afd6cf21"
            ]
        ]
    },
    {
        "id": "66ccba17afd6cf21",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "3b0d3c603c0d1fd6",
        "name": "debug 353",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 2430,
        "y": 3500,
        "wires": []
    },
    {
        "id": "646ee80e0e3c6a5f",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "3b0d3c603c0d1fd6",
        "name": "Order the HA by Country",
        "rules": [
            {
                "t": "set",
                "p": "payload.data",
                "pt": "msg",
                "to": "payload.data\t~>$sort(function($l, $r) {$l.country__rim > $r.country__rim})",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1790,
        "y": 3500,
        "wires": [
            [
                "90e528859987db49"
            ]
        ]
    },
    {
        "id": "e47b4d5d5c74d6f1",
        "type": "link out",
        "z": "2c4527dad914ec1c",
        "g": "3b0d3c603c0d1fd6",
        "name": "",
        "mode": "link",
        "links": [
            "0b4394d395558302"
        ],
        "x": 1805,
        "y": 3680,
        "wires": []
    },
    {
        "id": "4e0728471558a67e",
        "type": "switch",
        "z": "2c4527dad914ec1c",
        "g": "a7a8a74946229b91",
        "name": "If Event creation needed and which type",
        "property": "job",
        "propertyType": "msg",
        "rules": [
            {
                "t": "jsonata_exp",
                "v": "job.job_type=\"1\" and $contains(job.job_scope,\"Event\") and $not($exists(event_id))",
                "vt": "jsonata"
            },
            {
                "t": "jsonata_exp",
                "v": "job.job_type=\"2\" and $contains(job.job_scope,\"Event\") and $not($exists(event_id))",
                "vt": "jsonata"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 1040,
        "y": 820,
        "wires": [
            [
                "19967e71170ecd73"
            ],
            [
                "d046d19b53dad465"
            ],
            [
                "0b5e993385abdbaf"
            ]
        ]
    },
    {
        "id": "0b5e993385abdbaf",
        "type": "switch",
        "z": "2c4527dad914ec1c",
        "g": "a7a8a74946229b91",
        "name": "If Application creation needed",
        "property": "job",
        "propertyType": "msg",
        "rules": [
            {
                "t": "jsonata_exp",
                "v": "$contains(job.job_scope,\"Country\")",
                "vt": "jsonata"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1790,
        "y": 840,
        "wires": [
            [
                "3d2f1bb1ca763691"
            ],
            [
                "b3626201f7983f76",
                "115701a7b00b4c46"
            ]
        ]
    },
    {
        "id": "b3626201f7983f76",
        "type": "switch",
        "z": "2c4527dad914ec1c",
        "g": "a7a8a74946229b91",
        "name": "If record creation needed and which type",
        "property": "job",
        "propertyType": "msg",
        "rules": [
            {
                "t": "jsonata_exp",
                "v": "job.job_type=\"1\" and $contains(job.job_scope,\"Related\")",
                "vt": "jsonata"
            },
            {
                "t": "jsonata_exp",
                "v": "job.job_type=\"2\" and $contains(job.job_scope,\"Related\")",
                "vt": "jsonata"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 2600,
        "y": 840,
        "wires": [
            [
                "4b8eadec1c5671af",
                "eefb2eeedd415df4"
            ],
            [
                "4b8eadec1c5671af",
                "eefb2eeedd415df4"
            ],
            [
                "eefb2eeedd415df4",
                "8bda251317c47732"
            ]
        ]
    },
    {
        "id": "c65594f62b66ba6c",
        "type": "link out",
        "z": "2c4527dad914ec1c",
        "g": "cf3f4fcb8dc2573a",
        "name": "link out 13",
        "mode": "link",
        "links": [
            "6e98ee16de826386"
        ],
        "x": 4245,
        "y": 520,
        "wires": []
    },
    {
        "id": "eb998f707cad852f",
        "type": "comment",
        "z": "2c4527dad914ec1c",
        "name": "testing in scratchbox 01",
        "info": "",
        "x": 120,
        "y": 20,
        "wires": []
    },
    {
        "id": "413d0d4919352499",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "1adf9a7b09d9ec3e",
        "name": "debug 354",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2650,
        "y": 520,
        "wires": []
    },
    {
        "id": "cd510823c811d7c4",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "a7a8a74946229b91",
        "name": "debug 355",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1630,
        "y": 740,
        "wires": []
    },
    {
        "id": "64a2d7cc0f15b947",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "a7a8a74946229b91",
        "name": "debug 356",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1630,
        "y": 780,
        "wires": []
    },
    {
        "id": "19967e71170ecd73",
        "type": "link call",
        "z": "2c4527dad914ec1c",
        "g": "a7a8a74946229b91",
        "name": "Create CTA Event",
        "links": [
            "82f3a1c97692584d"
        ],
        "linkType": "static",
        "timeout": "10000",
        "x": 1330,
        "y": 760,
        "wires": [
            [
                "0b5e993385abdbaf",
                "cd510823c811d7c4"
            ]
        ]
    },
    {
        "id": "82f3a1c97692584d",
        "type": "link in",
        "z": "2c4527dad914ec1c",
        "g": "c3cc3bc6b0b0ab38",
        "name": "link in 3",
        "links": [],
        "x": 85,
        "y": 1020,
        "wires": [
            [
                "f14722cf1050e3b6"
            ]
        ]
    },
    {
        "id": "d046d19b53dad465",
        "type": "link call",
        "z": "2c4527dad914ec1c",
        "g": "a7a8a74946229b91",
        "name": "Create Amendment Event",
        "links": [
            "e4914f34cdb1e255"
        ],
        "linkType": "static",
        "timeout": "300000",
        "x": 1350,
        "y": 800,
        "wires": [
            [
                "0b5e993385abdbaf",
                "64a2d7cc0f15b947"
            ]
        ]
    },
    {
        "id": "3d2f1bb1ca763691",
        "type": "link call",
        "z": "2c4527dad914ec1c",
        "g": "a7a8a74946229b91",
        "name": "Create Application",
        "links": [
            "eece97d5539892a0"
        ],
        "linkType": "static",
        "timeout": "10000",
        "x": 2070,
        "y": 800,
        "wires": [
            [
                "b3626201f7983f76"
            ]
        ]
    },
    {
        "id": "5301adb11c7b2c3a",
        "type": "link out",
        "z": "2c4527dad914ec1c",
        "g": "c3cc3bc6b0b0ab38",
        "name": "link out 14",
        "mode": "return",
        "links": [],
        "x": 985,
        "y": 1060,
        "wires": []
    },
    {
        "id": "05d9e73aaf4a53f9",
        "type": "http response",
        "z": "2c4527dad914ec1c",
        "g": "e40195be7e014804",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 350,
        "y": 1880,
        "wires": []
    },
    {
        "id": "bdf854e2d1181a35",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "c3cc3bc6b0b0ab38",
        "name": "debug 357",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 650,
        "y": 1020,
        "wires": []
    },
    {
        "id": "115701a7b00b4c46",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "a7a8a74946229b91",
        "name": "debug 358",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2050,
        "y": 880,
        "wires": []
    },
    {
        "id": "959da61bde9bb8b0",
        "type": "switch",
        "z": "2c4527dad914ec1c",
        "g": "23b14172f95f39ef",
        "name": "CTR?",
        "property": "payload.lead_country",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nnull"
            },
            {
                "t": "null"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1570,
        "y": 1960,
        "wires": [
            [
                "6a6c7efc7e51bf6d"
            ],
            [
                "4f6dbedf8f6e524e"
            ]
        ]
    },
    {
        "id": "93250f2631c4e047",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "23b14172f95f39ef",
        "name": "debug 362",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2610,
        "y": 1960,
        "wires": []
    },
    {
        "id": "4f6dbedf8f6e524e",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "23b14172f95f39ef",
        "name": "store parameters",
        "rules": [
            {
                "t": "set",
                "p": "study_id",
                "pt": "msg",
                "to": "payload.study_id",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "cms_countries_string",
                "pt": "msg",
                "to": "payload.response_full[]",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "lead_country_string",
                "pt": "msg",
                "to": "payload.lead_country",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "client_id",
                "pt": "msg",
                "to": "cta-automation",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "job.job_scope",
                "pt": "msg",
                "to": "payload.job_scope",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "job.job_type",
                "pt": "msg",
                "to": "payload.job_type",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "created_event_id",
                "pt": "msg",
                "to": "payload.created_event_id",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1350,
        "y": 2080,
        "wires": [
            [
                "b219b669e1aa3a1f"
            ]
        ]
    },
    {
        "id": "b219b669e1aa3a1f",
        "type": "brave-login",
        "z": "2c4527dad914ec1c",
        "g": "23b14172f95f39ef",
        "name": "",
        "x": 1310,
        "y": 2200,
        "wires": [
            [
                "7e622617fec07ddd"
            ],
            [
                "1e2e089e5f67454c"
            ]
        ]
    },
    {
        "id": "7e622617fec07ddd",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "23b14172f95f39ef",
        "name": "query countries",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"select id, name__v, country_code__rim, region__v, region__vr.name__v from country__v where status__v = 'active__v'\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1600,
        "y": 2180,
        "wires": [
            [
                "9026e264d0fa9d16"
            ]
        ]
    },
    {
        "id": "c526a83f886ee66c",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "f4492470635578ae",
        "name": "create applications",
        "rules": [
            {
                "t": "set",
                "p": "args",
                "pt": "msg",
                "to": "{\t   \"object_name\": \"application__v\",\t   \"keep\": \"false\"\t}",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "Application_country",
                "pt": "msg",
                "to": "$append(lead_country,countries)",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Application_country.{\t   \"name__v\": \"cta_\" & $millis() & \"_\" & country_code,\t   \"object_type__vr.api_name__v\": \"investigational_application__c\",\t   \"domain__vr.name__v\": \"Human use\",\t   \"lead_market__rim\": country_id,\t   \"region__v\": region_id,\t   \"product__v\": $$.study.product__v,\t   \"applicable_product_type__v\": \"drug__v\",\t   \"application_type__rim\": application_type_id,\t   \"clinical_study__c\": $$.study.id,\t   \"publishing_hub__c\": \"ctis_submission_management__c\"\t}[]",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1350,
        "y": 3100,
        "wires": [
            [
                "aeba6128dc0f5605"
            ]
        ]
    },
    {
        "id": "9a87a1f173d5e53f",
        "type": "link out",
        "z": "2c4527dad914ec1c",
        "g": "3b0d3c603c0d1fd6",
        "name": "link out 16",
        "mode": "link",
        "links": [
            "0e57f11a59848a31"
        ],
        "x": 2375,
        "y": 3680,
        "wires": []
    },
    {
        "id": "80c81f840d3d8bf8",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "3b0d3c603c0d1fd6",
        "name": "create non-CTR application countries",
        "rules": [
            {
                "t": "set",
                "p": "args",
                "pt": "msg",
                "to": "{\t   \"object_name\": \"application_country__rim\",\t   \"keep\": \"false\"\t}",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "applications@$i.ha@$h[$i.lead_market__rim != \"00C000000000783\" and $i.lead_market__rim=$h.country__rim].{\t   \"country__rim\": $i.lead_market__rim,\t   \"health_authority__c\": $h.health_authority__v,\t   \"application__rim\": $i.id,\t   \"object_type__vr.name__v\": \"Investigational Application Country\"\t}[]",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1830,
        "y": 3620,
        "wires": [
            [
                "d43907b12f64f459"
            ]
        ]
    },
    {
        "id": "ec1a25f9388786d7",
        "type": "template",
        "z": "2c4527dad914ec1c",
        "g": "1adf9a7b09d9ec3e",
        "name": "application type selection",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "<!DOCTYPE html>\n\n<html lang=\"en\">\n\n    <head>\n\n        <meta charset=\"UTF-8\">\n\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n\n        <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\n\n        <title>{{title}}</title>\n\n        <link  href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css\" rel=\"stylesheet\" id=\"bootstrap-css\">\n\n        <script src=\"https://code.jquery.com/jquery-1.11.1.min.js\"></script>\n\n        <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js\"></script>\n\n\n\n\n        <style>\n\n           .tabs {\n\n                width: 400px;\n\n                margin: 30px auto;\n\n                background-color: #FFF;\n\n               /* border: 500px solid #C0DCC0;\n\n                /*box-sizing: border-box;*/\n\n                display: inline;\n\n                }\n\n           \n\n            .tabs nav {\n\n                width:400px;\n\n                height: 40px;\n\n                text-align: center;\n\n                line-height: 40px;\n\n                overflow: hidden;\n\n                background-color: #C0DCC0;\n\n                /* ä¼¸ç¼©ç›’æ¨¡åž‹ */\n\n                display: flex;\n\n                }\n\n\n\n\n            nav a {\n\n                display: block;\n\n                width: 400px;\n\n                border-right: 1px solid #FFF;\n\n                color: #000;\n\n                text-decoration: none;\n\n                }\n\n           \n\n            nav a:last-child {\n\n                border-right: none;\n\n                }\n\n\n\n\n            nav a.active {\n\n                background-color: #9BAF9B;\n\n                }\n\n\n\n\n            .cont {\n\n                overflow: hidden;\n\n                display: none;\n\n                }\n\n\n\n\n            .cont ol {\n\n                line-height: 300px;\n\n                }\n\n            p#back-to-top{\n\n                cursor:pointer;\n\n                position:fixed;\n\n                display:none;\n\n                bottom:100px;\n\n                right:40px;\n\n            }\n\n            #myBtn {\n\n                display: none; /* Hidden by default */\n\n                position: fixed; /* Fixed/sticky position */\n\n                bottom: 20px; /* Place the button at the bottom of the page */\n\n                right: 30px; /* Place the button 30px from the right */\n\n                z-index: 99; /* Make sure it does not overlap */\n\n                border: none; /* Remove borders */\n\n                outline: none; /* Remove outline */\n\n                background-color: #33D1FF; /* Set a background color */\n\n                color: white; /* Text color */\n\n                cursor: pointer; /* Add a mouse pointer on hover */\n\n                padding: 15px; /* Some padding */\n\n                border-radius: 10px; /* Rounded corners */\n\n                font-size: 18px; /* Increase font size */\n\n            }\n\n\n\n\n            #myBtn:hover {\n\n                background-color: #555; /* Add a dark-grey background on hover */\n\n                }\n\n\n\n\n            .searchTerm {\n\n                width: 25%;\n\n                border: 3px solid #00B4CC;\n\n                padding: 5px;\n\n                height: 30px;\n\n                border-radius: 5px 5px 5px 5px;\n\n                outline: none;\n\n                color: #9DBFAF;\n\n            }\n\n\n\n\n            .searchTerm:focus{\n\n                color: #00B4CC;\n\n                }\n\n\n\n\n                /*Resize the wrap to see the search bar change!*/\n\n            .wrap{\n\n                width: 30%;\n\n                position: absolute;\n\n                top: 50%;\n\n                left: 50%;\n\n                right:50%;\n\n                transform: translate(-50%, -50%);\n\n                }\n\n    </style>\n\n   \n\n    </head>\n\n    <body>\n\n   \n\n    <div class=\"container\">\n\n        <div class=\"row\">\n\n            <div class=\"col-md-12\">\n\n                <h2>Please define scope of the request for study {{ study.name__v  }}  {{ study.study_alias__c  }}</h2>\n\n           \n\n            <div class=\"tabs\">\n\n                   <nav id=\"tab\">\n\n                       <a id=\"tabCTA\" href=\"javascript:;\"  style=\"text-decoration: none;\" data-cont=\"CTA\" class=\"active\">CTA Application</a>\n\n                    <a id=\"tabCTD\" href=\"javascript:;\" style=\"text-decoration: none;\" data-cont=\"CTAD\">CTA Amendment</a>\n\n                  </nav>\n\n                    <br/>\n\n \n\n                    <section class=\"cont\" id =\"CTA\" style=\"display:block\">\n\n                        <div class=\"table-responsive\">\n\n                            <form method=\"post\" action=\"/nodes/cta/execute\">\n\n                            <input type=\"hidden\" id=\"applicationType\" name=\"job_scope\" value=\"\" />\n\n                            <input type=\"hidden\" id=\"jobType\" name=\"job_type\" value=\"0\" />\n\n                       {{#hiddenfields}}\n\n                            <input type=\"hidden\" name=\"{{name}}\" value=\"{{value}}\" />\n\n                        {{/hiddenfields}}\n\n                              <tr>\n\n                                    <td>\n\n                                     <input id=\"submitCTA\" type=\"submit\" style=\"width:70px;height:30px\" value=\"Next\" class=\"btn btn-primary\" disabled=\"true\">\n\n                                 </td>\n\n\n                              </tr>\n\n                                <br/>\n\n                                <tr> CTA Application: </tr>\n\n                                <br/>\n\n                                <div>\n\n                                    <tr>&nbsp;&nbsp;&nbsp;\n\n                                       <td><input type=\"checkbox\" value=\"CreateEvent\" name=\"CreateEvent\" class=\"CreateEvent\">&nbsp;Planning phase â€“ Create Event and CTA Content Plan <span style=\"color:blue\"> (The first step to create tracking objects for a CTA is the creation of Event(s). When IMPD information is available or At time of document collection, the Event and Content Plan can be created)</span></td>\n\n                                    </tr>\n\n                                    <br/> <br/>\n\n                                     <tr>&nbsp;&nbsp;&nbsp;\n\n                                       <td><input type=\"checkbox\" value=\"CreateCountry\" name=\"CreateCountry\" class=\"CreateCountry\">&nbsp;Preparation phase â€“ Create Country Application(s) <span style=\"color:blue\"> (Applications would only be created if not yet available. Therefore, it is strongly recommended to  <span style=\"font-weight:bold;\">first conduct a search for already existing applications. The corresponding CTA Amendment Event is needed to perform this action.</span>)</span></td>\n\n                                    </tr>\n\n                                     <br/> <br/>\n\n                                     <tr>&nbsp;&nbsp;&nbsp;\n\n                                       <td><input type=\"checkbox\" value=\"CreateRelated\" name=\"CreateRelated\" class=\"CreateRelated\">&nbsp;Preparation phase â€“ Create Related Records <span style=\"color:blue\"> (When the final core package is ready for dispatch, Regulatory Objective and Submission records must be created to track the submission process. <span style=\"font-weight:bold;\">The corresponding CTA Amendment Event and Application(s) of the involved countries are needed to perform this action.</span>)</span></td>\n\n                                    </tr>\n\n                                </div>\n\n                                 <br/>\n\n                            </form>\n\n                        </div>\n\n                    </section>\n\n                    <section class=\"cont\" id=\"CTAD\">\n\n                        <div class=\"table-responsive\">\n\n                        <form method=\"post\" action=\"/nodes/cta/execute\">\n\n                         <input type=\"hidden\" id=\"applicationADType\" name=\"job_scope\" value=\"\" />\n\n                         <input type=\"hidden\" id=\"jobADType\" name=\"job_type\" value=\"0\" />\n\n                         {{#hiddenfields}}\n\n                         <input type=\"hidden\" name=\"{{name}}\" value=\"{{value}}\" />\n\n                         {{/hiddenfields}}\n\n                              <tr>\n\n                                    <td>\n\n                                     <input id=\"submitCTAD\" type=\"submit\" style=\"width:70px;height:30px\" value=\"Next\" class=\"btn btn-primary\" disabled=\"true\">\n\n                                 </td>\n\n\n\n\n\n\n                              </tr>\n\n                                <br/>\n\n                                <tr> CTA Amendment: </tr>\n\n                                <br/>\n\n                                <div>\n\n                                    <tr>&nbsp;&nbsp;&nbsp;\n\n                                       <td><input type=\"checkbox\" value=\"CreateADEvent\" name=\"CreateADEvent\" class=\"CreateADEvent\">&nbsp;Planning phase â€“ Create Event and CTA Content Plan <span style=\"color:blue\"> (The first step to create tracking objects for a CTA is the creation of Event(s). Under Event you can set the scope of the to be changed details for all impacted countries.)</span></td>\n\n                                    </tr>\n\n                                    <br/> <br/>\n\n                                     <tr>&nbsp;&nbsp;&nbsp;\n\n                                       <td><input type=\"checkbox\" value=\"CreateADCountry\" name=\"CreateADCountry\" class=\"CreateADCountry\">&nbsp;Preparation phase â€“ Create Country Application(s)  <span style=\"color:blue\"> (Usually the applications are only needed when first CTA application and only need to be created if not ye available. Therefore, it is strongly recommended to  <span style=\"font-weight:bold;\">first conduct a search for already existing applications. The corresponding CTA Application Event is needed to perform this action.</span>)</span></td>\n\n                                    </tr>\n\n                                     <br/> <br/>\n\n                                     <tr>&nbsp;&nbsp;&nbsp;\n\n                                       <td><input type=\"checkbox\" value=\"CreateADRelated\" name=\"CreateADRelated\" class=\"CreateADRelated\">&nbsp;Preparation phase â€“ Create Related Records  <span style=\"color:blue\"> (When the final core package is ready for dispatch, Regulatory Objective and Submission records have to be created to track the submission process. <span style=\"font-weight:bold;\">The corresponding CTA Amendment Event and Application(s) of the involved countries are needed to perform this action.</span>)</span></td>\n\n                                    </tr>\n\n                                </div>\n\n                                 <br/>\n\n                            </form>\n\n                        </div>\n\n                       </section>\n\n                </div>\n\n            </div>\n\n        </div>\n\n    </div>\n\n    </body>\n\n</html>\n\n\n\n\n<script>\n\n    $(function(){\n\n          var aArr=document.querySelectorAll('a');\n\n          for(var i=0;i<aArr.length;i++){\n\n          aArr[i].onclick=function(){\n\n        var active=document.querySelector(\".active\");\n\n        active.classList.remove(\"active\");\n\n        this.classList.add(\"active\");\n\n        var name=this.getAttribute(\"data-cont\");\n\n        var section=document.getElementById(name);\n\n        var cont = document.getElementsByClassName(\"cont\");\n\n        for(var i=0;i<cont.length;i++){\n\n        cont[i].style.display=\"none\";\n\n\n\n\n        }\n\n        section.style.display=\"block\";\n\n\n\n\n\n          }\n\n      }\n\n    })\n\n</script>\n\n<script>\n\n    $(\"#CTAD\").change(function(){\n\n        var createEvent = document.getElementsByClassName('CreateADEvent');\n\n        var createCountry = document.getElementsByClassName('CreateADCountry');\n\n        var createRelated = document.getElementsByClassName('CreateADRelated');\n\n        var applicationType = document.getElementById('applicationADType').value.toString();\n\n           if(applicationType.startsWith('_'))\n\n            applicationType = applicationType.substring(1);\n\n     \n\n        var checkedcta = 0\n\n        for(let i=0; i<createEvent.length; i++){\n\n            if(createEvent[i].checked){\n\n               checkedcta = 1\n\n                 if(!applicationType.includes(\"CreateADEvent\"))\n\n                  applicationType=applicationType+'_CreateADEvent'\n\n               document.getElementById('applicationADType').value = applicationType\n\n            } else {\n\n                newType = applicationType.replace(\"CreateADEvent\", \"\")\n\n                newType = newType.replace(\"__\", \"_\")\n\n\n\n\n                applicationType = newType\n\n                document.getElementById('applicationADType').value = newType\n\n            }\n\n        }\n\n\n\n\n        for(let i=0; i<createCountry.length; i++){\n\n            if(createCountry[i].checked){\n\n               checkedcta = 1\n\n            if(!applicationType.includes(\"CreateADCountry\"))\n\n                  applicationType=applicationType+'_CreateADCountry'\n\n               document.getElementById('applicationADType').value = applicationType\n\n            } else {\n\n                newType = applicationType.replace(\"CreateADCountry\", \"\")\n\n                newType = newType.replace(\"__\", \"_\")\n\n\n\n\n                applicationType = newType\n\n                document.getElementById('applicationADType').value = newType\n\n            }\n\n        }\n\n\n\n\n        for(let i=0; i<createRelated.length; i++){\n\n            if(createRelated[i].checked){\n\n               checkedcta = 1\n\n                if(!applicationType.includes(\"CreateADRelated\"))\n\n                   applicationType=applicationType+'_CreateADRelated'\n\n               document.getElementById('applicationADType').value = applicationType\n\n            } else {\n\n                newType = applicationType.replace(\"CreateADRelated\", \"\")\n\n                newType = newType.replace(\"__\", \"_\")\n\n\n\n\n                applicationType = newType\n\n                document.getElementById('applicationADType').value = newType\n\n            }\n\n        }\n\n        if(checkedcta == 0){\n\n            document.getElementById('submitCTAD').disabled= true\n\n            document.getElementById('tabCTA').style = \"text-decoration: none;\"\n\n        }\n\n        if(checkedcta !== 0){\n\n           document.getElementById('submitCTAD').disabled= false\n\n           document.getElementById('tabCTA').style = \"pointer-events: none;\"\n\n           document.getElementById('jobADType').value = 2\n\n        }\n\n        console.log(checkedcta)\n\n    })\n\n</script>\n\n<script>\n\n    $(\"#CTA\").change(function(){\n\n        var createEvent = document.getElementsByClassName('CreateEvent');\n\n        var createCountry = document.getElementsByClassName('CreateCountry');\n\n        var createRelated = document.getElementsByClassName('CreateRelated');\n\n        var applicationType = document.getElementById('applicationType').value.toString();\n\n\n\n\n        if(applicationType.startsWith('_'))\n\n            applicationType = applicationType.substring(1);\n\n           \n\n\n\n\n        var checkedcta = 0\n\n        for(let i=0; i<createEvent.length; i++){\n\n            if(createEvent[i].checked){\n\n                console.log(\"--- clicked\")\n\n               checkedcta = 1\n\n               if(!applicationType.includes(\"CreateEvent\"))\n\n                  applicationType=applicationType+'_CreateEvent'\n\n               document.getElementById('applicationType').value = applicationType\n\n            } else {\n\n                newType = applicationType.replace(\"CreateEvent\", \"\")\n\n                newType = newType.replace(\"__\", \"_\")\n\n\n\n\n                applicationType = newType\n\n                document.getElementById('applicationType').value = newType\n\n            }\n\n        }\n\n\n\n\n        for(let i=0; i<createCountry.length; i++){\n\n            if(createCountry[i].checked){\n\n               checkedcta = 1\n\n               if(!applicationType.includes(\"CreateCountry\"))\n\n                  applicationType=applicationType+'_CreateCountry'\n\n               document.getElementById('applicationType').value = applicationType\n\n            } else {\n\n                newType = applicationType.replace(\"CreateCountry\", \"\")\n\n                newType = newType.replace(\"__\", \"_\")\n\n\n\n\n                applicationType = newType\n\n\n\n\n                document.getElementById('applicationType').value = newType\n\n            }\n\n        }\n\n\n\n\n        for(let i=0; i<createRelated.length; i++){\n\n            if(createRelated[i].checked){\n\n               checkedcta = 1\n\n               if(!applicationType.includes(\"createRelated\"))\n\n                   applicationType=applicationType+'_createRelated'\n\n               document.getElementById('applicationType').value = applicationType\n\n            } else {\n\n                newType = applicationType.replace(\"createRelated\", \"\")\n\n                newType = newType.replace(\"__\", \"_\")\n\n\n\n\n                applicationType = newType\n\n                document.getElementById('applicationType').value = newType\n\n            }\n\n        }\n\n        if(checkedcta == 0){\n\n            //document.getElementById('submitCTA').style.display='none'\n\n            document.getElementById('submitCTA').disabled= true\n\n            document.getElementById('tabCTD').style = \"text-decoration: none;\"\n\n           \n\n        }\n\n        if(checkedcta !== 0){\n\n           document.getElementById('submitCTA').disabled= false\n\n           document.getElementById('tabCTD').style = \"pointer-events: none;\"\n\n           document.getElementById('jobType').value = 1\n\n        }\n\n        console.log(checkedcta)\n\n    })\n\n</script>",
        "output": "str",
        "x": 2390,
        "y": 580,
        "wires": [
            [
                "413d0d4919352499",
                "ecd1f9618322385c"
            ]
        ]
    },
    {
        "id": "ecd1f9618322385c",
        "type": "http response",
        "z": "2c4527dad914ec1c",
        "g": "1adf9a7b09d9ec3e",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 2630,
        "y": 580,
        "wires": []
    },
    {
        "id": "1f4c810a5b6057fd",
        "type": "http in",
        "z": "2c4527dad914ec1c",
        "g": "a7a8a74946229b91",
        "name": "",
        "url": "cta/execute",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 150,
        "y": 820,
        "wires": [
            [
                "120256ee19425fdd"
            ]
        ]
    },
    {
        "id": "43a8f21c944f48c2",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "1adf9a7b09d9ec3e",
        "name": "No Indication",
        "rules": [
            {
                "t": "set",
                "p": "hiddenfields",
                "pt": "msg",
                "to": "[\t   {\t       \"name\": \"study_id\",\t       \"value\": study_id    \t   },\t   {\t       \"name\": \"client_id\",\t       \"value\": \"cta-automation\"    \t   },\t   {\t       \"name\": \"vault_domain_url\",\t       \"value\": vault_domain_url\t   },\t   {\t       \"name\": \"session_id\",\t       \"value\": session_id\t   }\t]",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1650,
        "y": 600,
        "wires": [
            [
                "ec1a25f9388786d7"
            ]
        ]
    },
    {
        "id": "120256ee19425fdd",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "a7a8a74946229b91",
        "name": "Store parameters",
        "rules": [
            {
                "t": "set",
                "p": "study_id",
                "pt": "msg",
                "to": "payload.study_id",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "client_id",
                "pt": "msg",
                "to": "payload.client_id",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "vault_domain_url",
                "pt": "msg",
                "to": "payload.vault_domain_url",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "session_id",
                "pt": "msg",
                "to": "payload.session_id",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "vault_api",
                "pt": "msg",
                "to": "vault_domain_url & \"/api/\"",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "event_id",
                "pt": "msg",
                "to": "payload.event_id",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 370,
        "y": 820,
        "wires": [
            [
                "a69633711211e86e"
            ]
        ]
    },
    {
        "id": "a21361800a8e5222",
        "type": "http response",
        "z": "2c4527dad914ec1c",
        "g": "c3cc3bc6b0b0ab38",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 950,
        "y": 1120,
        "wires": []
    },
    {
        "id": "a69633711211e86e",
        "type": "switch",
        "z": "2c4527dad914ec1c",
        "g": "a7a8a74946229b91",
        "name": "payload.job exists?",
        "property": "$exists(payload.job)",
        "propertyType": "jsonata",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 590,
        "y": 820,
        "wires": [
            [
                "bfd4c5ba48630dad"
            ],
            [
                "f8af263b4577eb60"
            ]
        ]
    },
    {
        "id": "f8af263b4577eb60",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "a7a8a74946229b91",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "job.job_type",
                "pt": "msg",
                "to": "payload.job_type",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "job.job_scope",
                "pt": "msg",
                "to": "payload.job_scope",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 780,
        "y": 840,
        "wires": [
            [
                "4e0728471558a67e"
            ]
        ]
    },
    {
        "id": "bfd4c5ba48630dad",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "a7a8a74946229b91",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "job",
                "pt": "msg",
                "to": "payload.job",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 770,
        "y": 800,
        "wires": [
            [
                "4e0728471558a67e"
            ]
        ]
    },
    {
        "id": "806db9d17f47a16f",
        "type": "http in",
        "z": "2c4527dad914ec1c",
        "g": "a7a8a74946229b91",
        "name": "",
        "url": "cta/execute",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 1120,
        "y": 880,
        "wires": [
            [
                "6517fc922a6908a8"
            ]
        ]
    },
    {
        "id": "6517fc922a6908a8",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "a7a8a74946229b91",
        "name": "Store parameters",
        "rules": [
            {
                "t": "set",
                "p": "study_id",
                "pt": "msg",
                "to": "payload.study_id",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "client_id",
                "pt": "msg",
                "to": "cta-automation",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "created_event_id",
                "pt": "msg",
                "to": "payload.event_id",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "event_id",
                "pt": "msg",
                "to": "payload.event_id",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "job.job_type",
                "pt": "msg",
                "to": "payload.job_type",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "job.job_scope",
                "pt": "msg",
                "to": "payload.job_scope",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1330,
        "y": 880,
        "wires": [
            [
                "edf88ee6c1a5aee3"
            ]
        ]
    },
    {
        "id": "c83461d786b5f389",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "c3cc3bc6b0b0ab38",
        "name": "debug 370",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 410,
        "y": 1020,
        "wires": []
    },
    {
        "id": "edf88ee6c1a5aee3",
        "type": "brave-login",
        "z": "2c4527dad914ec1c",
        "g": "a7a8a74946229b91",
        "name": "",
        "x": 1490,
        "y": 880,
        "wires": [
            [
                "0b5e993385abdbaf"
            ],
            [
                "ec46849d03dc97ee"
            ]
        ]
    },
    {
        "id": "69470779e142a87f",
        "type": "brave-create-vobject",
        "z": "2c4527dad914ec1c",
        "g": "e40195be7e014804",
        "name": "",
        "x": 380,
        "y": 1460,
        "wires": [
            [
                "8fde7159b4debb7a"
            ],
            [
                "3916d23c39b50211"
            ]
        ]
    },
    {
        "id": "8c22964409200907",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "e40195be7e014804",
        "name": "create REC",
        "rules": [
            {
                "t": "set",
                "p": "args",
                "pt": "msg",
                "to": "{\t   \"object_name\": \"regulatory_event_code__c\",\t   \"keep\": \"false\"\t}",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "[\t   {\t       \t   }\t]",
                "tot": "jsonata",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 130,
        "y": 1460,
        "wires": [
            [
                "69470779e142a87f"
            ]
        ]
    },
    {
        "id": "73d1b1cc1b17b0a8",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "e40195be7e014804",
        "name": "debug 379",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 890,
        "y": 1460,
        "wires": []
    },
    {
        "id": "8fde7159b4debb7a",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "e40195be7e014804",
        "name": "store result",
        "rules": [
            {
                "t": "set",
                "p": "rec_id",
                "pt": "msg",
                "to": "payload.data[0].data.id",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 650,
        "y": 1460,
        "wires": [
            [
                "73d1b1cc1b17b0a8",
                "127f606ce23423fd"
            ]
        ]
    },
    {
        "id": "ac182d7b69f0f86a",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "e40195be7e014804",
        "name": "Create Global Content Plan",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "vault_api & \"v22.2/vobjects/event__rim/\" & event_id &\"/actions/Objectlifecyclestateuseraction.event__rim.planned_state__c.create_global_content_plan_useraction__c\"",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "headers",
                "pt": "msg",
                "to": "{\t   \"Authorization\": session_id,\t   \"Accept\": \"application/json\",\t   \"Content-Type\": \"application/x-www-form-urlencoded\"\t}",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 180,
        "y": 1580,
        "wires": [
            [
                "fd63e95672fb41ae"
            ]
        ]
    },
    {
        "id": "8cfa0940562a9266",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "e40195be7e014804",
        "name": "debug 380",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 870,
        "y": 1580,
        "wires": []
    },
    {
        "id": "fd63e95672fb41ae",
        "type": "http request",
        "z": "2c4527dad914ec1c",
        "g": "e40195be7e014804",
        "name": "",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 430,
        "y": 1580,
        "wires": [
            [
                "8cfa0940562a9266",
                "1125ca63681257a8"
            ]
        ]
    },
    {
        "id": "eadb4a6f7d0dd4bc",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "e40195be7e014804",
        "name": "query global application",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"select id, product__v, product__vr.name__v from application__v where object_type__vr.api_name__v='global_application__v' and product__v='\" & study.product__v & \"'\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 170,
        "y": 1400,
        "wires": [
            [
                "5872344ca0191238"
            ]
        ]
    },
    {
        "id": "5872344ca0191238",
        "type": "brave-vql-query",
        "z": "2c4527dad914ec1c",
        "g": "e40195be7e014804",
        "name": "",
        "x": 370,
        "y": 1400,
        "wires": [
            [
                "b2a1451aac0e94f7"
            ],
            [
                "3916d23c39b50211"
            ]
        ]
    },
    {
        "id": "b2a1451aac0e94f7",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "e40195be7e014804",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "global_application",
                "pt": "msg",
                "to": "payload.data[0].id",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 700,
        "y": 1400,
        "wires": [
            [
                "1e68c40c7d454e51",
                "8c22964409200907"
            ]
        ]
    },
    {
        "id": "1e68c40c7d454e51",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "e40195be7e014804",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 910,
        "y": 1400,
        "wires": []
    },
    {
        "id": "34ea1cc0751f076c",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "4efce2b6e1fdfe62",
        "name": "create event",
        "rules": [
            {
                "t": "set",
                "p": "args",
                "pt": "msg",
                "to": "{\t   \"object_name\": \"event__rim\",\t   \"keep\": \"false\"\t}",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "[\t   {\t       \"object_type__vr.api_name__v\": \"clinical_study_event__c\",\t       \"applicable_product_type__v\": \"drug__v\",\t       \"event_description__c\": (params.event_description__c !=\"\" ? params.event_description__c : \"N/A\" )& (params.shelf_life !=\"\" ? \"; Shelf life: \" & params.shelf_life : \"\"),\t       \"keywords__c\": event_keywords_name,\t       \"rec__c\": rec_id,\t       \"global_application__v\": global_application,\t       \"content_plan_template__v\": \"0EP00000004B425\",\t       \"project_id__c\": study.project_clinical_studies__cr.data[0].project__c\t\t   }\t]",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 130,
        "y": 2980,
        "wires": [
            [
                "66ee8a94fb2d7adc"
            ]
        ]
    },
    {
        "id": "9ffd347dc28797f2",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "4efce2b6e1fdfe62",
        "name": "store result",
        "rules": [
            {
                "t": "set",
                "p": "event_id",
                "pt": "msg",
                "to": "payload.data[0].data.id",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 650,
        "y": 2980,
        "wires": [
            [
                "4fca64c6e5d7ed76",
                "d75de5f5f81a0adc"
            ]
        ]
    },
    {
        "id": "37089233c845847c",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "4efce2b6e1fdfe62",
        "name": "link to product family",
        "rules": [
            {
                "t": "set",
                "p": "args",
                "pt": "msg",
                "to": "{\t   \"object_name\": \"event_product_family__c\",\t   \"keep\": \"false\"\t}",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "[\t   {\t       \"name__v\": event_id & \"_\" & study.product__v,\t       \"event__c\": event_id,\t       \"product_family__c\": study.product__v\t    }\t]",
                "tot": "jsonata",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 160,
        "y": 3100,
        "wires": [
            [
                "bc0bf892de0b4278"
            ]
        ]
    },
    {
        "id": "0b502743c2105427",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "4efce2b6e1fdfe62",
        "name": "link to products",
        "rules": [
            {
                "t": "set",
                "p": "args",
                "pt": "msg",
                "to": "{\t   \"object_name\": \"event_drug_product__rim\",\t   \"keep\": \"false\"\t}",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "[\t    study.clinical_study_products__cr.data.{\t       \"event__rim\": $$.event_id,\t       \"product_family__c\": product_family__c,\t       \"drug_product__rim\": product__c,\t       \"product_detail__rim\": product_variant__c,\t       \"study_role__c\": study_role__c\t    }\t]",
                "tot": "jsonata",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 140,
        "y": 3160,
        "wires": [
            [
                "5451e2d8fb92f9f3"
            ]
        ]
    },
    {
        "id": "b8f295cb419ef511",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "4efce2b6e1fdfe62",
        "name": "link to study",
        "rules": [
            {
                "t": "set",
                "p": "args",
                "pt": "msg",
                "to": "{\t   \"object_name\": \"event_clinical_study__v\",\t   \"keep\": \"false\"\t}",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "[\t   {\t       \"event__v\": event_id,\t       \"clinical_study__v\": study_id,\t       \"impd_version_quality_part__c\": params.impd_version_quality_part__c,\t       \"impd_version_nonquality_part__c\": params.impd_version_nonquality_part__c,\t       \"protocol_version__c\": params.protocol_version__c,\t       \"ib_version__c\": params.ib_version__c\t    }\t]",
                "tot": "jsonata",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 130,
        "y": 3220,
        "wires": [
            [
                "9a5044524de15b1f"
            ]
        ]
    },
    {
        "id": "4fca64c6e5d7ed76",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "4efce2b6e1fdfe62",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 910,
        "y": 2980,
        "wires": []
    },
    {
        "id": "7afeedf6bafee44a",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "4efce2b6e1fdfe62",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 910,
        "y": 3100,
        "wires": []
    },
    {
        "id": "c407710e5c667233",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "4efce2b6e1fdfe62",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 910,
        "y": 3160,
        "wires": []
    },
    {
        "id": "463d51c07d96306f",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "4efce2b6e1fdfe62",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 910,
        "y": 3220,
        "wires": []
    },
    {
        "id": "66ee8a94fb2d7adc",
        "type": "brave-create-vobject",
        "z": "2c4527dad914ec1c",
        "g": "4efce2b6e1fdfe62",
        "name": "",
        "x": 440,
        "y": 2980,
        "wires": [
            [
                "9ffd347dc28797f2"
            ],
            [
                "8b5fc85d413405da"
            ]
        ]
    },
    {
        "id": "bc0bf892de0b4278",
        "type": "brave-create-vobject",
        "z": "2c4527dad914ec1c",
        "g": "4efce2b6e1fdfe62",
        "name": "",
        "x": 440,
        "y": 3100,
        "wires": [
            [
                "0b502743c2105427",
                "7afeedf6bafee44a"
            ],
            [
                "8b5fc85d413405da"
            ]
        ]
    },
    {
        "id": "5451e2d8fb92f9f3",
        "type": "brave-create-vobject",
        "z": "2c4527dad914ec1c",
        "g": "4efce2b6e1fdfe62",
        "name": "",
        "x": 440,
        "y": 3160,
        "wires": [
            [
                "c407710e5c667233",
                "b8f295cb419ef511"
            ],
            [
                "8b5fc85d413405da"
            ]
        ]
    },
    {
        "id": "9a5044524de15b1f",
        "type": "brave-create-vobject",
        "z": "2c4527dad914ec1c",
        "g": "4efce2b6e1fdfe62",
        "name": "",
        "x": 440,
        "y": 3220,
        "wires": [
            [
                "463d51c07d96306f",
                "7a6a4a210e0afacd"
            ],
            [
                "8b5fc85d413405da"
            ]
        ]
    },
    {
        "id": "8b5fc85d413405da",
        "type": "link out",
        "z": "2c4527dad914ec1c",
        "g": "4efce2b6e1fdfe62",
        "name": "",
        "mode": "link",
        "links": [
            "0b4394d395558302"
        ],
        "x": 685,
        "y": 3140,
        "wires": []
    },
    {
        "id": "7a6a4a210e0afacd",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "4efce2b6e1fdfe62",
        "name": "link to indications",
        "rules": [
            {
                "t": "set",
                "p": "args",
                "pt": "msg",
                "to": "{\t   \"object_name\": \"event_indication__rim\",\t   \"keep\": \"false\"\t}",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "[\t   study.therapeutic_indication_clinical_studies__cr.data.{\t       \"product_family__c\": $$.study.product__v,\t       \"indication__rim\": therapeutic_indication__c,\t       \"event__rim\": $$.event_id\t    }\t]",
                "tot": "jsonata",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 150,
        "y": 3280,
        "wires": [
            [
                "c87ff740f015c7a0"
            ]
        ]
    },
    {
        "id": "c87ff740f015c7a0",
        "type": "brave-create-vobject",
        "z": "2c4527dad914ec1c",
        "g": "4efce2b6e1fdfe62",
        "name": "",
        "x": 440,
        "y": 3280,
        "wires": [
            [
                "156170586af1680b",
                "b3fb81e7e5885281"
            ],
            [
                "8b5fc85d413405da"
            ]
        ]
    },
    {
        "id": "156170586af1680b",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "4efce2b6e1fdfe62",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 910,
        "y": 3280,
        "wires": []
    },
    {
        "id": "4a5932fab86abe01",
        "type": "http in",
        "z": "2c4527dad914ec1c",
        "g": "4efce2b6e1fdfe62",
        "name": "",
        "url": "cta/amend_event",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 190,
        "y": 2680,
        "wires": [
            [
                "c936f98b296593d4",
                "677b8bbeb3897d59"
            ]
        ]
    },
    {
        "id": "677b8bbeb3897d59",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "4efce2b6e1fdfe62",
        "name": "store parameters",
        "rules": [
            {
                "t": "set",
                "p": "study_id",
                "pt": "msg",
                "to": "payload.study_id",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "params",
                "pt": "msg",
                "to": "payload",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "job.job_scope",
                "pt": "msg",
                "to": "payload.job_scope",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "job.job_type",
                "pt": "msg",
                "to": "payload.job_type",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "event_keywords_name",
                "pt": "msg",
                "to": "payload.event_keywords_name",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 450,
        "y": 2680,
        "wires": [
            [
                "286d257af08d6582",
                "18edec20a999d8ea"
            ]
        ]
    },
    {
        "id": "18edec20a999d8ea",
        "type": "brave-login",
        "z": "2c4527dad914ec1c",
        "g": "4efce2b6e1fdfe62",
        "name": "",
        "x": 930,
        "y": 2740,
        "wires": [
            [
                "adbccecc70ccc1de"
            ],
            [
                "8b5fc85d413405da"
            ]
        ]
    },
    {
        "id": "286d257af08d6582",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "4efce2b6e1fdfe62",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 630,
        "y": 2640,
        "wires": []
    },
    {
        "id": "b3fb81e7e5885281",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "4efce2b6e1fdfe62",
        "name": "restart CTA creation",
        "rules": [
            {
                "t": "set",
                "p": "headers",
                "pt": "msg",
                "to": "{\t   \"location\":\"/nodes/cta/execute?study_id=\" & study_id & \"&event_id=\" & event_id & \"&job_type=\" & job.job_type & \"&job_scope=\" & job.job_scope\t}",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "statusCode",
                "pt": "msg",
                "to": "303",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 150,
        "y": 3340,
        "wires": [
            [
                "ea80771e71258993"
            ]
        ]
    },
    {
        "id": "c936f98b296593d4",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "4efce2b6e1fdfe62",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 390,
        "y": 2640,
        "wires": []
    },
    {
        "id": "adbccecc70ccc1de",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "4efce2b6e1fdfe62",
        "name": "query study",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"select id, name__v, study_alias__c, product__v, product__vr.name__v, (select id, name__v, product__c, product__cr.name__v, product_family__c, product_family__cr.name__v, product_variant__c, product_variant__cr.name__v, study_role__c from clinical_study_products__cr), (select id, project__c, project__cr.name__v from project_clinical_studies__cr), (select id, name__v, therapeutic_indication__c, therapeutic_indication__cr.name__v from therapeutic_indication_clinical_studies__cr) from clinical_study__v where id='\" & study_id & \"'\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 130,
        "y": 2800,
        "wires": [
            [
                "57f50ef402c17c23"
            ]
        ]
    },
    {
        "id": "57f50ef402c17c23",
        "type": "brave-vql-query",
        "z": "2c4527dad914ec1c",
        "g": "4efce2b6e1fdfe62",
        "name": "",
        "x": 430,
        "y": 2800,
        "wires": [
            [
                "6f439a7a79524586"
            ],
            [
                "8b5fc85d413405da"
            ]
        ]
    },
    {
        "id": "6f439a7a79524586",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "4efce2b6e1fdfe62",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "study",
                "pt": "msg",
                "to": "payload.data[0]",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 2800,
        "wires": [
            [
                "6c02ed1e44e31e22",
                "65c358887f4e068f"
            ]
        ]
    },
    {
        "id": "6c02ed1e44e31e22",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "4efce2b6e1fdfe62",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 910,
        "y": 2800,
        "wires": []
    },
    {
        "id": "ea80771e71258993",
        "type": "http response",
        "z": "2c4527dad914ec1c",
        "g": "4efce2b6e1fdfe62",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 410,
        "y": 3340,
        "wires": []
    },
    {
        "id": "d3885638377c2c4a",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "4efce2b6e1fdfe62",
        "name": "create REC",
        "rules": [
            {
                "t": "set",
                "p": "args",
                "pt": "msg",
                "to": "{\t   \"object_name\": \"regulatory_event_code__c\",\t   \"keep\": \"false\"\t}",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "[\t   {\t       \t   }\t]",
                "tot": "jsonata",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 130,
        "y": 2920,
        "wires": [
            [
                "1dd759108b42270b"
            ]
        ]
    },
    {
        "id": "1dd759108b42270b",
        "type": "brave-create-vobject",
        "z": "2c4527dad914ec1c",
        "g": "4efce2b6e1fdfe62",
        "name": "",
        "x": 440,
        "y": 2920,
        "wires": [
            [
                "67d9ed8e3673348f"
            ],
            [
                "8b5fc85d413405da"
            ]
        ]
    },
    {
        "id": "55ba323f168715bb",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "4efce2b6e1fdfe62",
        "name": "debug 381",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 930,
        "y": 2920,
        "wires": []
    },
    {
        "id": "67d9ed8e3673348f",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "4efce2b6e1fdfe62",
        "name": "store result",
        "rules": [
            {
                "t": "set",
                "p": "rec_id",
                "pt": "msg",
                "to": "payload.data[0].data.id",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 650,
        "y": 2920,
        "wires": [
            [
                "55ba323f168715bb",
                "34ea1cc0751f076c"
            ]
        ]
    },
    {
        "id": "d75de5f5f81a0adc",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "4efce2b6e1fdfe62",
        "name": "Create Global Content Plan",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "vault_api & \"v22.2/vobjects/event__rim/\" & event_id &\"/actions/Objectlifecyclestateuseraction.event__rim.planned_state__c.create_global_content_plan_useraction__c\"",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "headers",
                "pt": "msg",
                "to": "{\t   \"Authorization\": session_id,\t   \"Accept\": \"application/json\",\t   \"Content-Type\": \"application/x-www-form-urlencoded\"\t}",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 180,
        "y": 3040,
        "wires": [
            [
                "74f2aa2cafa46f84"
            ]
        ]
    },
    {
        "id": "c4dd41f3d158cecd",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "4efce2b6e1fdfe62",
        "name": "debug 382",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 930,
        "y": 3040,
        "wires": []
    },
    {
        "id": "74f2aa2cafa46f84",
        "type": "http request",
        "z": "2c4527dad914ec1c",
        "g": "4efce2b6e1fdfe62",
        "name": "",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 430,
        "y": 3040,
        "wires": [
            [
                "c4dd41f3d158cecd",
                "37089233c845847c"
            ]
        ]
    },
    {
        "id": "65c358887f4e068f",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "4efce2b6e1fdfe62",
        "name": "query global application",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"select id, product__v, product__vr.name__v from application__v where object_type__vr.api_name__v='global_application__v' and product__v='\" & study.product__v & \"'\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 170,
        "y": 2860,
        "wires": [
            [
                "2eae4c60b1476596"
            ]
        ]
    },
    {
        "id": "37f99f391a826882",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "4efce2b6e1fdfe62",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 910,
        "y": 2860,
        "wires": []
    },
    {
        "id": "b9c7b78dd7d44017",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "4efce2b6e1fdfe62",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "global_application",
                "pt": "msg",
                "to": "payload.data[0].id",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 700,
        "y": 2860,
        "wires": [
            [
                "37f99f391a826882",
                "d3885638377c2c4a"
            ]
        ]
    },
    {
        "id": "2eae4c60b1476596",
        "type": "brave-vql-query",
        "z": "2c4527dad914ec1c",
        "g": "4efce2b6e1fdfe62",
        "name": "",
        "x": 430,
        "y": 2860,
        "wires": [
            [
                "b9c7b78dd7d44017"
            ],
            [
                "8b5fc85d413405da"
            ]
        ]
    },
    {
        "id": "e4914f34cdb1e255",
        "type": "link in",
        "z": "2c4527dad914ec1c",
        "g": "77a95a28986a8bfc",
        "name": "link in 6",
        "links": [],
        "x": 85,
        "y": 2200,
        "wires": [
            [
                "25d332512d7867b8"
            ]
        ]
    },
    {
        "id": "82d495ca62c54a03",
        "type": "http response",
        "z": "2c4527dad914ec1c",
        "g": "77a95a28986a8bfc",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 690,
        "y": 2260,
        "wires": []
    },
    {
        "id": "1a580dd7501928eb",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "77a95a28986a8bfc",
        "name": "set fields for input form",
        "rules": [
            {
                "t": "set",
                "p": "title",
                "pt": "msg",
                "to": "\"Creating Event for Study \" & study.name__v & \" \" & study.study_alias__c",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "type",
                "pt": "msg",
                "to": "checkbox",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "description",
                "pt": "msg",
                "to": "Please select Event Keywords.",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "tableheader",
                "pt": "msg",
                "to": "{\"columns\":[\"Event Keyword\"]}",
                "tot": "json"
            },
            {
                "t": "set",
                "p": "dataarray",
                "pt": "msg",
                "to": "Event_Keywords.{\t   \"selection\": $string(),\t   \"columns\": \t   [\t       Title\t       ]\t}",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "flow",
                "pt": "msg",
                "to": "nodes/cta/event_info",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "hiddenfields",
                "pt": "msg",
                "to": "[\t   {\t       \"name\": \"study_id\",\t       \"value\": study_id\t    },\t    {\t        \"name\": \"job_type\",\t        \"value\": job.job_type\t    },\t    {\t        \"name\": \"job_scope\",\t        \"value\": job.job_scope\t    }\t]",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 240,
        "y": 2260,
        "wires": [
            [
                "20db1f0318099f37"
            ]
        ]
    },
    {
        "id": "20db1f0318099f37",
        "type": "brave-input-form",
        "z": "2c4527dad914ec1c",
        "g": "77a95a28986a8bfc",
        "name": "",
        "x": 470,
        "y": 2260,
        "wires": [
            [
                "82d495ca62c54a03"
            ]
        ]
    },
    {
        "id": "745c1f28d5453c5b",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "4efce2b6e1fdfe62",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "event_keywords_string",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 2680,
        "wires": [
            [
                "359d517b2871831f"
            ]
        ]
    },
    {
        "id": "c52cd54c453f4f22",
        "type": "json",
        "z": "2c4527dad914ec1c",
        "g": "4efce2b6e1fdfe62",
        "name": "json to object",
        "property": "payload",
        "action": "obj",
        "pretty": false,
        "x": 130,
        "y": 2740,
        "wires": [
            [
                "0ed372e867cabe51"
            ]
        ]
    },
    {
        "id": "c9dd85cca0928b83",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "4efce2b6e1fdfe62",
        "name": "Event Keyword to string",
        "rules": [
            {
                "t": "set",
                "p": "event_keywords_name",
                "pt": "msg",
                "to": "payload.Name ~>\t$reduce(function($i,$j){$i & \",\" & $j})",
                "tot": "jsonata",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 690,
        "y": 2740,
        "wires": [
            [
                "9f0baf50744a8972",
                "18edec20a999d8ea"
            ]
        ]
    },
    {
        "id": "9f0baf50744a8972",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "4efce2b6e1fdfe62",
        "name": "debug 383",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 990,
        "y": 2660,
        "wires": []
    },
    {
        "id": "359d517b2871831f",
        "type": "split",
        "z": "2c4527dad914ec1c",
        "g": "4efce2b6e1fdfe62",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 830,
        "y": 2680,
        "wires": [
            [
                "c52cd54c453f4f22"
            ]
        ]
    },
    {
        "id": "0ed372e867cabe51",
        "type": "join",
        "z": "2c4527dad914ec1c",
        "g": "4efce2b6e1fdfe62",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": true,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 410,
        "y": 2740,
        "wires": [
            [
                "c9dd85cca0928b83"
            ]
        ]
    },
    {
        "id": "ec46849d03dc97ee",
        "type": "link out",
        "z": "2c4527dad914ec1c",
        "g": "a7a8a74946229b91",
        "name": "link out 17",
        "mode": "link",
        "links": [
            "0b4394d395558302"
        ],
        "x": 1685,
        "y": 880,
        "wires": []
    },
    {
        "id": "4b8eadec1c5671af",
        "type": "link out",
        "z": "2c4527dad914ec1c",
        "g": "a7a8a74946229b91",
        "name": "link out 18",
        "mode": "link",
        "links": [
            "02de661d53928e64",
            "da23fd7381dc1b26",
            "e3d2034e8f5e2cdb"
        ],
        "x": 2925,
        "y": 820,
        "wires": []
    },
    {
        "id": "96ab22406c6dcd7e",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "213c3efa9b282b39",
        "name": "debug 385",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2430,
        "y": 2540,
        "wires": []
    },
    {
        "id": "c89d44f157d80bc4",
        "type": "switch",
        "z": "2c4527dad914ec1c",
        "g": "213c3efa9b282b39",
        "name": "",
        "property": "lead_country_string",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nempty"
            },
            {
                "t": "empty"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1310,
        "y": 2600,
        "wires": [
            [
                "551b9623d7990835"
            ],
            [
                "40b6e35085a52486"
            ]
        ]
    },
    {
        "id": "40b6e35085a52486",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "213c3efa9b282b39",
        "name": "Clear lead & cms country",
        "rules": [
            {
                "t": "set",
                "p": "lead_country",
                "pt": "msg",
                "to": "[]",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "cms_countries",
                "pt": "msg",
                "to": "[]",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1510,
        "y": 2720,
        "wires": [
            [
                "40898951895346d8"
            ]
        ]
    },
    {
        "id": "a53bccc1a94c03cb",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "0342ae8990d4e5d0",
        "name": "query study",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"select id, name__v, study_alias__c, product__v, product__vr.name__v, (select id, name__v, product__c, product__cr.name__v, product_family__c, product_family__cr.name__v, product_variant__c, product_variant__cr.name__v from clinical_study_products__cr), (select id, name__v, therapeutic_indication__c, therapeutic_indication__cr.name__v from therapeutic_indication_clinical_studies__cr) from clinical_study__v where id='\" & study_id & \"'\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1330,
        "y": 1460,
        "wires": [
            [
                "d0a29d4805a80d8d"
            ]
        ]
    },
    {
        "id": "d0a29d4805a80d8d",
        "type": "brave-vql-query",
        "z": "2c4527dad914ec1c",
        "g": "0342ae8990d4e5d0",
        "name": "",
        "x": 1630,
        "y": 1460,
        "wires": [
            [
                "4c13bcff35809281"
            ],
            [
                "1e2e089e5f67454c"
            ]
        ]
    },
    {
        "id": "4c13bcff35809281",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "0342ae8990d4e5d0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "study",
                "pt": "msg",
                "to": "payload.data[0]",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1840,
        "y": 1460,
        "wires": [
            [
                "13bd5f110d29cf33",
                "f366310a370cb263"
            ]
        ]
    },
    {
        "id": "13bd5f110d29cf33",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "0342ae8990d4e5d0",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2110,
        "y": 1460,
        "wires": []
    },
    {
        "id": "bd46d5f7dd3c56b5",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "23b14172f95f39ef",
        "name": "query study",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"select id, name__v, study_alias__c, product__v, product__vr.name__v, (select id, name__v, product__c, product__cr.name__v, product_family__c, product_family__cr.name__v, product_variant__c, product_variant__cr.name__v from clinical_study_products__cr), (select id, name__v, therapeutic_indication__c, therapeutic_indication__cr.name__v from therapeutic_indication_clinical_studies__cr) from clinical_study__v where id='\" & study_id & \"'\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1590,
        "y": 2240,
        "wires": [
            [
                "aabf522cbde63186"
            ]
        ]
    },
    {
        "id": "aabf522cbde63186",
        "type": "brave-vql-query",
        "z": "2c4527dad914ec1c",
        "g": "23b14172f95f39ef",
        "name": "",
        "x": 1870,
        "y": 2240,
        "wires": [
            [
                "8e7df44115a60b5e"
            ],
            [
                "b7de0fe7ad66d2ca"
            ]
        ]
    },
    {
        "id": "8e7df44115a60b5e",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "23b14172f95f39ef",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "study",
                "pt": "msg",
                "to": "payload.data[0]",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2080,
        "y": 2240,
        "wires": [
            [
                "9304d4da4efa5f6c",
                "bdf4c22bb3725613"
            ]
        ]
    },
    {
        "id": "9304d4da4efa5f6c",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "23b14172f95f39ef",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2590,
        "y": 2240,
        "wires": []
    },
    {
        "id": "8dd59e74376d6937",
        "type": "switch",
        "z": "2c4527dad914ec1c",
        "g": "3b0d3c603c0d1fd6",
        "name": "",
        "property": "lead_country_string",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nempty"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1510,
        "y": 3560,
        "wires": [
            [
                "0571712f078a2137"
            ],
            [
                "80c81f840d3d8bf8"
            ]
        ]
    },
    {
        "id": "eece97d5539892a0",
        "type": "link in",
        "z": "2c4527dad914ec1c",
        "g": "fa41432bb855af38",
        "name": "To create Application",
        "links": [],
        "x": 1275,
        "y": 1020,
        "wires": [
            [
                "147046e7feeea1d8"
            ]
        ]
    },
    {
        "id": "0e57f11a59848a31",
        "type": "link in",
        "z": "2c4527dad914ec1c",
        "g": "a7a8a74946229b91",
        "name": "link in 9",
        "links": [
            "9a87a1f173d5e53f"
        ],
        "x": 2305,
        "y": 880,
        "wires": [
            [
                "b3626201f7983f76"
            ]
        ]
    },
    {
        "id": "eefb2eeedd415df4",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "a7a8a74946229b91",
        "name": "debug 388",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2610,
        "y": 740,
        "wires": []
    },
    {
        "id": "6e441cc056e5c53b",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "cf3f4fcb8dc2573a",
        "name": "Set the result page",
        "rules": [
            {
                "t": "set",
                "p": "applications",
                "pt": "msg",
                "to": "$append(ctrapplications,applications)",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "ros",
                "pt": "msg",
                "to": "$append(ctrros,ros)",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "submissions",
                "pt": "msg",
                "to": "$append(ctrsubmissions,submissions)",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "title",
                "pt": "msg",
                "to": "The operation was successful",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "unescaped",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "httpcalls",
                "pt": "msg",
                "to": "5",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "dataarray",
                "pt": "msg",
                "to": "[\t    {\t       \"selection\": created_event,\t       \"columns\": [\t           \"Event\",\t           \"<a href=\\\"https://\" & req.cookies.vault_domain & \"/ui/#t/0TB000000000B03/A0Z/\" &\t          created_event.id & \"\\\" target=\\\"_blank\\\"\"&\"\\\">\"& created_event.name__v & \"</a>\"\t        ]\t    },\t    created_applications@$vl. {\t        \"selection\": \"n/a\",\t         \"columns\": [\t            \"Application\",\t            \"<a href=\\\"https://\" & req.cookies.vault_domain & \"/ui/#t/0TB000000000B21/00A/\" & $vl.id & \"\\\" target=\\\"_blank\\\"\"&\"\\\">\"& $vl.name__v & \"</a>\"\t        ]\t    },\t    ros@$vl. {\t        \"selection\": \"n/a\",\t         \"columns\": [\t            \"Regulatory Objective\",\t            \"<a href=\\\"https://\" & req.cookies.vault_domain & \"/ui/#t/0TB000000000K01/OBH/\" & $vl.id & \"\\\" target=\\\"_blank\\\"\"&\"\\\">\"& $vl.name__v & \"</a>\"\t        ]\t    },\t    submissions@$vl. {\t        \"selection\": \"n/a\",\t         \"columns\": [\t            \"Submission\",\t            \"<a href=\\\"https://\" & req.cookies.vault_domain & \"/ui/#t/0TB000000000B22/00S/\" & $vl.id & \"\\\" target=\\\"_blank\\\"\"&\"\\\">\"& $vl.name__v & \"</a>\"\t        ]\t    }\t]\t\t",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "tableheader",
                "pt": "msg",
                "to": "{\t   \"columns\": \t    [\t        \"Type\",\t        \"Name\"\t    ]\t}",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "flow",
                "pt": "msg",
                "to": "nodes/cta",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 4030,
        "y": 520,
        "wires": [
            [
                "c65594f62b66ba6c",
                "dc179569b9799870"
            ]
        ]
    },
    {
        "id": "c3df4ccf459db19f",
        "type": "link in",
        "z": "2c4527dad914ec1c",
        "g": "cf3f4fcb8dc2573a",
        "name": "link in 10",
        "links": [
            "1ad0402c6eac4a81",
            "8bda251317c47732"
        ],
        "x": 3105,
        "y": 280,
        "wires": [
            [
                "3875450d706f6724"
            ]
        ]
    },
    {
        "id": "e3f83d8d0cbdf4a4",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "cf3f4fcb8dc2573a",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "query_ids",
                "pt": "msg",
                "to": "created_application_ids ~> $split(\",\") ~> $map(function($v) {\"id='\" & $v & \"'\"}) ~> $join(\" OR \")",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3430,
        "y": 280,
        "wires": [
            [
                "82a34d65142c7d1e",
                "e0c1393bdfa1865e"
            ]
        ]
    },
    {
        "id": "e0c1393bdfa1865e",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "cf3f4fcb8dc2573a",
        "name": "query created applications",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"select id, name__v from application__v where \" & query_ids",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3660,
        "y": 280,
        "wires": [
            [
                "908a3e8352298a3f",
                "25277f4f1f618498"
            ]
        ]
    },
    {
        "id": "908a3e8352298a3f",
        "type": "brave-vql-query",
        "z": "2c4527dad914ec1c",
        "g": "cf3f4fcb8dc2573a",
        "name": "",
        "x": 3880,
        "y": 280,
        "wires": [
            [
                "8a97172448094a63"
            ],
            [
                "e2bbf68093902dd8"
            ]
        ]
    },
    {
        "id": "8a97172448094a63",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "cf3f4fcb8dc2573a",
        "name": "store result",
        "rules": [
            {
                "t": "set",
                "p": "created_applications",
                "pt": "msg",
                "to": "payload.data",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "description",
                "pt": "msg",
                "to": "\"<h5>The following Vault objects are now available for study \" & \"<a href=\\\"https://\" & req.cookies.vault_domain & \"/ui/#t/0TB000000000B26/0CT/\" & study_id & \"\\\" target=\\\"_blank\\\"\"&\"\\\">\" & study.name__v & \"</a><br><br></h5> It would take a while for the Submission Content Plan to be created and there would be a BRAVE notification after the completion.\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 4060,
        "y": 280,
        "wires": [
            [
                "e465505a38c646ab",
                "f913b67552863c67"
            ]
        ]
    },
    {
        "id": "dd8e0450df6db078",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "cf3f4fcb8dc2573a",
        "name": "query created event",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"select id, name__v from event__rim where id='\" & created_event_id & \"'\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3650,
        "y": 340,
        "wires": [
            [
                "21345e0676e23ae3",
                "b286a0092acfd283"
            ]
        ]
    },
    {
        "id": "21345e0676e23ae3",
        "type": "brave-vql-query",
        "z": "2c4527dad914ec1c",
        "g": "cf3f4fcb8dc2573a",
        "name": "",
        "x": 3880,
        "y": 340,
        "wires": [
            [
                "133e012f4802a9b2"
            ],
            [
                "e2bbf68093902dd8"
            ]
        ]
    },
    {
        "id": "133e012f4802a9b2",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "cf3f4fcb8dc2573a",
        "name": "store result",
        "rules": [
            {
                "t": "set",
                "p": "created_event",
                "pt": "msg",
                "to": "payload.data",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "description",
                "pt": "msg",
                "to": "\"<h5>The following Vault objects are now available for study \" & \"<a href=\\\"https://\" & req.cookies.vault_domain & \"/ui/#t/0TB000000000B26/0CT/\" & study_id & \"\\\" target=\\\"_blank\\\"\"&\"\\\">\" & study.name__v & \"</a><br><br></h5> It would take a while for the Submission Content Plan to be created and there would be a BRAVE notification after the completion.\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 4060,
        "y": 340,
        "wires": [
            [
                "e4d80dada213b37f",
                "6e441cc056e5c53b"
            ]
        ]
    },
    {
        "id": "82a34d65142c7d1e",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "cf3f4fcb8dc2573a",
        "name": "debug 400",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3860,
        "y": 220,
        "wires": []
    },
    {
        "id": "25277f4f1f618498",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "cf3f4fcb8dc2573a",
        "name": "debug 401",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 4240,
        "y": 220,
        "wires": []
    },
    {
        "id": "e465505a38c646ab",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "cf3f4fcb8dc2573a",
        "name": "debug 402",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 4240,
        "y": 280,
        "wires": []
    },
    {
        "id": "e4d80dada213b37f",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "cf3f4fcb8dc2573a",
        "name": "debug 403",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 4240,
        "y": 340,
        "wires": []
    },
    {
        "id": "dc179569b9799870",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "cf3f4fcb8dc2573a",
        "name": "debug 404",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 4240,
        "y": 460,
        "wires": []
    },
    {
        "id": "b286a0092acfd283",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "cf3f4fcb8dc2573a",
        "name": "debug 405",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 4240,
        "y": 400,
        "wires": []
    },
    {
        "id": "3875450d706f6724",
        "type": "switch",
        "z": "2c4527dad914ec1c",
        "g": "cf3f4fcb8dc2573a",
        "name": "",
        "property": "created_application_ids",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nnull"
            },
            {
                "t": "null"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 3240,
        "y": 280,
        "wires": [
            [
                "e3f83d8d0cbdf4a4"
            ],
            [
                "f913b67552863c67"
            ]
        ]
    },
    {
        "id": "f913b67552863c67",
        "type": "switch",
        "z": "2c4527dad914ec1c",
        "g": "cf3f4fcb8dc2573a",
        "name": "",
        "property": "created_event_id",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nnull"
            },
            {
                "t": "null"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 3380,
        "y": 340,
        "wires": [
            [
                "dd8e0450df6db078"
            ],
            [
                "866256d61e7910ed"
            ]
        ]
    },
    {
        "id": "8bda251317c47732",
        "type": "link out",
        "z": "2c4527dad914ec1c",
        "g": "a7a8a74946229b91",
        "name": "link out 19",
        "mode": "link",
        "links": [
            "c3df4ccf459db19f"
        ],
        "x": 2925,
        "y": 860,
        "wires": []
    },
    {
        "id": "787961bfe48f9c3f",
        "type": "template",
        "z": "2c4527dad914ec1c",
        "g": "e1b7d81d3cd06a62",
        "name": "Input Form",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "<!doctype html>\n<html lang=\"en\">\n\n<head>\n    <meta charset=\"utf-8\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n    <title>New Clinical Study Event</title>\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css\"\n        integrity=\"sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu\" crossorigin=\"anonymous\">\n    <script src=\"https://code.jquery.com/jquery-1.12.4.min.js\"\n        integrity=\"sha384-nvAa0+6Qg9clwYCGGPpDQLVpLNn0fRaROjHqs13t4Ggj3Ez50XnGQqc/r8MhnRDZ\"\n        crossorigin=\"anonymous\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js\"\n        integrity=\"sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd\"\n        crossorigin=\"anonymous\"></script>\n</head>\n\n<body>\n    <div class=\"modal fade\" id=\"modal\" tabindex=\"-1\" data-backdrop=\"static\">\n        <div class=\"modal-dialog\">\n            <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                    <h4 class=\"modal-title\">Processing ...</h4>\n                </div>\n                <div class=\"modal-body\">\n                    <p>Please wait while the changes are applied.</p>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"container\">\n        <h1>New Event for Clinical Study {{study.name__v}}</h1>\n        <p>Please provide details for the new Clinical Study Event.</p>\n        <br>\n        <form class=\"form-horizontal\" method=\"post\" action=\"/nodes/cta/amend_event\">\n            <input type=\"hidden\" name=\"study_id\" value=\"{{study_id}}\">\n            <input type=\"hidden\" name=\"job_scope\" value=\"{{job.job_scope}}\">\n            <input type=\"hidden\" name=\"job_type\" value=\"{{job.job_type}}\">\n            <input type=\"hidden\" name=\"event_keywords_name\" value=\"{{event_keywords_name}}\">\n            \n            <div class=\"form-group\">\n                <label class=\"col-md-4 control-label\" for=\"impd_version_quality_part__c\">IMPD Version Quality Part\n                    Provided</label>\n                <div class=\"col-md-8\">\n                    <input type=\"text\" class=\"form-control\" id=\"impd_version_quality_part__c\"\n                        name=\"impd_version_quality_part__c\">\n                </div>\n            </div>\n            <div class=\"form-group\">\n                <label class=\"col-md-4 control-label\" for=\"impd_version_nonquality_part__c\">IMPD Version non- Quality\n                    Part Provided</label>\n                <div class=\"col-md-8\">\n                    <input type=\"text\" class=\"form-control\" id=\"impd_version_nonquality_part__c\"\n                        name=\"impd_version_nonquality_part__c\">\n                </div>\n            </div>\n            <div class=\"form-group\">\n                <label class=\"col-md-4 control-label\" for=\"protocol_version__c\">Protocol Version Provided</label>\n                <div class=\"col-md-8\">\n                    <input type=\"text\" class=\"form-control\" id=\"protocol_version__c\" name=\"protocol_version__c\">\n                </div>\n            </div>\n            <div class=\"form-group\">\n                <label class=\"col-md-4 control-label\" for=\"ib_version__c\">IB Version Provided</label>\n                <div class=\"col-md-8\">\n                    <input type=\"text\" class=\"form-control\" id=\"ib_version__c\" name=\"ib_version__c\">\n                </div>\n            </div>\n            <div class=\"form-group\">\n                <label class=\"col-md-4 control-label\" for=\"shelf_life\">Shelf Life</label>\n                <div class=\"col-md-8\">\n                    <input type=\"text\" class=\"form-control\" id=\"shelf_life\" name=\"shelf_life\">\n                </div>\n            </div>\n            <div class=\"form-group\">\n                <label class=\"col-md-4 control-label\" for=\"event_description__c\">Event Desciption</label>\n                <div class=\"col-md-8\">\n                    <input type=\"text\" class=\"form-control\" id=\"event_description__c\" name=\"event_description__c\">\n                </div>\n            </div>\n            <div class=\"form-group\">\n                <div class=\"col-md-offset-4 col-md-8\">\n                    <button type=\"submit\" class=\"btn btn-primary\">Create Clinical Study Event</button>\n                </div>\n            </div>\n        </form>\n    </div>\n\n    <script>\n        $(document).ready(function(){\n            $(\"form\").submit(function() {\n                $(\"#modal\").modal(\"show\");\n            });\n        });\n    </script>\n</body>\n\n</html>",
        "output": "str",
        "x": 870,
        "y": 2540,
        "wires": [
            [
                "5ec534431ecdbbc3"
            ]
        ]
    },
    {
        "id": "5ec534431ecdbbc3",
        "type": "http response",
        "z": "2c4527dad914ec1c",
        "g": "e1b7d81d3cd06a62",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 1030,
        "y": 2540,
        "wires": []
    },
    {
        "id": "6d77e6da0d189a2f",
        "type": "http in",
        "z": "2c4527dad914ec1c",
        "g": "e1b7d81d3cd06a62",
        "name": "",
        "url": "cta/event_info",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 180,
        "y": 2360,
        "wires": [
            [
                "9c10197129e36e22"
            ]
        ]
    },
    {
        "id": "83bfb2c8803ef98a",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "e1b7d81d3cd06a62",
        "name": "store parameters",
        "rules": [
            {
                "t": "set",
                "p": "study_id",
                "pt": "msg",
                "to": "payload.study_id",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "params",
                "pt": "msg",
                "to": "payload",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "job.job_scope",
                "pt": "msg",
                "to": "payload.job_scope",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "job.job_type",
                "pt": "msg",
                "to": "payload.job_type",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "event_keywords_string",
                "pt": "msg",
                "to": "payload.response_full",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 2360,
        "wires": [
            [
                "aec7dcad5b069c99",
                "29d6cf22180fb772"
            ]
        ]
    },
    {
        "id": "1c245cad2a9ec068",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "e1b7d81d3cd06a62",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "event_keywords_string",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 420,
        "y": 2460,
        "wires": [
            [
                "23fa5da47fb79950"
            ]
        ]
    },
    {
        "id": "23fa5da47fb79950",
        "type": "split",
        "z": "2c4527dad914ec1c",
        "g": "e1b7d81d3cd06a62",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 590,
        "y": 2460,
        "wires": [
            [
                "b05a3d51f61273c5"
            ]
        ]
    },
    {
        "id": "b05a3d51f61273c5",
        "type": "json",
        "z": "2c4527dad914ec1c",
        "g": "e1b7d81d3cd06a62",
        "name": "json to object",
        "property": "payload",
        "action": "obj",
        "pretty": false,
        "x": 130,
        "y": 2500,
        "wires": [
            [
                "fede6ae32eca8534"
            ]
        ]
    },
    {
        "id": "fede6ae32eca8534",
        "type": "join",
        "z": "2c4527dad914ec1c",
        "g": "e1b7d81d3cd06a62",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": true,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 390,
        "y": 2500,
        "wires": [
            [
                "0eab635811c284a9"
            ]
        ]
    },
    {
        "id": "0eab635811c284a9",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "e1b7d81d3cd06a62",
        "name": "Event Keyword to string",
        "rules": [
            {
                "t": "set",
                "p": "event_keywords_name",
                "pt": "msg",
                "to": "payload.Name ~>\t$reduce(function($i,$j){$i & \",\" & $j})",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "event_keywords_title",
                "pt": "msg",
                "to": "payload.Title ~>\t$reduce(function($i,$j){$i & \",\" & $j})",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 650,
        "y": 2500,
        "wires": [
            [
                "787961bfe48f9c3f",
                "2d6057ae01606945"
            ]
        ]
    },
    {
        "id": "aec7dcad5b069c99",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "e1b7d81d3cd06a62",
        "name": "debug 408",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1030,
        "y": 2360,
        "wires": []
    },
    {
        "id": "2d6057ae01606945",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "e1b7d81d3cd06a62",
        "name": "debug 409",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1030,
        "y": 2500,
        "wires": []
    },
    {
        "id": "9c10197129e36e22",
        "type": "json",
        "z": "2c4527dad914ec1c",
        "g": "e1b7d81d3cd06a62",
        "name": "resp_full",
        "property": "payload.response_full",
        "action": "obj",
        "pretty": false,
        "x": 400,
        "y": 2360,
        "wires": [
            [
                "83bfb2c8803ef98a"
            ]
        ]
    },
    {
        "id": "de5518a5c2dcf534",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "1adf9a7b09d9ec3e",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1890,
        "y": 560,
        "wires": []
    },
    {
        "id": "ad3d43f8c209bac3",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "1adf9a7b09d9ec3e",
        "name": "more than one Project",
        "rules": [
            {
                "t": "set",
                "p": "description",
                "pt": "msg",
                "to": "\"Study \" & study.name__v & \" \" & study.study_alias__c & \" is invalid.\"",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload.errors",
                "pt": "msg",
                "to": "[{\"type\":\"Inconsistent Data\",\"message\":\"There are more than one Project connected with the study\"}]",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1680,
        "y": 560,
        "wires": [
            [
                "de5518a5c2dcf534",
                "d1295ce2fe20155c"
            ]
        ]
    },
    {
        "id": "fc41e3958fc57881",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "1adf9a7b09d9ec3e",
        "name": "debug 417",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 430,
        "y": 520,
        "wires": []
    },
    {
        "id": "3f3ba07ae696a258",
        "type": "subflow:fca036ab5aa23301",
        "z": "2c4527dad914ec1c",
        "g": "77a95a28986a8bfc",
        "name": "",
        "x": 490,
        "y": 2200,
        "wires": [
            [
                "eaaae11c9d0f5209"
            ],
            []
        ]
    },
    {
        "id": "eaaae11c9d0f5209",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "77a95a28986a8bfc",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Event_Keywords",
                "pt": "msg",
                "to": "payload[0].event_keywords",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 750,
        "y": 2200,
        "wires": [
            [
                "82f885e754fc45bd",
                "1a580dd7501928eb"
            ]
        ]
    },
    {
        "id": "25d332512d7867b8",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "77a95a28986a8bfc",
        "name": "Retrieve configs in BRAVE",
        "rules": [
            {
                "t": "set",
                "p": "args",
                "pt": "msg",
                "to": "{\t    \"settings_name\":\"cta_record_creation\",\t    \"attachment_name\":\"cta_creation_config.json\"\t}",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 260,
        "y": 2200,
        "wires": [
            [
                "3f3ba07ae696a258"
            ]
        ]
    },
    {
        "id": "82f885e754fc45bd",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "77a95a28986a8bfc",
        "name": "debug 424",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 990,
        "y": 2200,
        "wires": []
    },
    {
        "id": "a710fd5c93105bef",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "f4492470635578ae",
        "name": "rename Application",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "vault_api & \"v22.2/vobjects/application__v\"",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "headers",
                "pt": "msg",
                "to": "{\t   \"Authorization\": session_id,\t   \"Accept\": \"application/json\",\t   \"Content-Type\": \"application/json\"\t}",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "applications.{\t   \"id\": id,\t   \"name__v\": $substringBefore(name__v,\" - ##\")\t}[]",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1350,
        "y": 3220,
        "wires": [
            [
                "e1b7d959e12be6a2"
            ]
        ]
    },
    {
        "id": "e1b7d959e12be6a2",
        "type": "http request",
        "z": "2c4527dad914ec1c",
        "g": "b21a8850dadd4a12",
        "name": "",
        "method": "PUT",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 1570,
        "y": 3020,
        "wires": [
            [
                "ee0a41c3e261db60"
            ]
        ]
    },
    {
        "id": "d43cbcb95adf6c56",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "f4492470635578ae",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2110,
        "y": 3220,
        "wires": []
    },
    {
        "id": "ee0a41c3e261db60",
        "type": "switch",
        "z": "2c4527dad914ec1c",
        "g": "f4492470635578ae",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "SUCCESS",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1830,
        "y": 3220,
        "wires": [
            [
                "0e58817144b122ca",
                "d43cbcb95adf6c56"
            ],
            [
                "1f9e9253f0f4ed09"
            ]
        ]
    },
    {
        "id": "3758841ab014d3be",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "c3cc3bc6b0b0ab38",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "event_id",
                "pt": "msg",
                "to": "\"eee\" & payload.data[0].id",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 830,
        "y": 1060,
        "wires": [
            [
                "5301adb11c7b2c3a"
            ]
        ]
    },
    {
        "id": "866256d61e7910ed",
        "type": "switch",
        "z": "2c4527dad914ec1c",
        "g": "cf3f4fcb8dc2573a",
        "name": "",
        "property": "event_id",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "eee",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 3370,
        "y": 420,
        "wires": [
            [
                "2a5f44b8d1cb431c"
            ],
            [
                "6e441cc056e5c53b"
            ]
        ]
    },
    {
        "id": "1f36f70c88f794b2",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "cf3f4fcb8dc2573a",
        "name": "store result",
        "rules": [
            {
                "t": "set",
                "p": "created_event",
                "pt": "msg",
                "to": "payload.data",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "description",
                "pt": "msg",
                "to": "\"<h5>An Initial Event already exist for study \" & \"<a href=\\\"https://\" & req.cookies.vault_domain & \"/ui/#t/0TB000000000B26/0CT/\" & study_id & \"\\\" target=\\\"_blank\\\"\"&\"\\\">\" & study.name__v & \"</a><br><br></h5> \"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 4050,
        "y": 400,
        "wires": [
            [
                "6e441cc056e5c53b"
            ]
        ]
    },
    {
        "id": "2a5f44b8d1cb431c",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "cf3f4fcb8dc2573a",
        "name": "query existing event",
        "rules": [
            {
                "t": "set",
                "p": "event_id",
                "pt": "msg",
                "to": "$substringAfter(event_id,\"eee\")",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"select id, name__v from event__rim where id='\" & event_id & \"'\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3640,
        "y": 400,
        "wires": [
            [
                "6d6546d966b508bd"
            ]
        ]
    },
    {
        "id": "6d6546d966b508bd",
        "type": "brave-vql-query",
        "z": "2c4527dad914ec1c",
        "g": "cf3f4fcb8dc2573a",
        "name": "",
        "x": 3870,
        "y": 400,
        "wires": [
            [
                "1f36f70c88f794b2"
            ],
            [
                "e2bbf68093902dd8"
            ]
        ]
    },
    {
        "id": "29d6cf22180fb772",
        "type": "switch",
        "z": "2c4527dad914ec1c",
        "g": "e1b7d81d3cd06a62",
        "name": "",
        "property": "event_keywords_string",
        "propertyType": "msg",
        "rules": [
            {
                "t": "empty"
            },
            {
                "t": "nempty"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 110,
        "y": 2420,
        "wires": [
            [
                "5a37f175503d5345"
            ],
            [
                "1c245cad2a9ec068"
            ]
        ]
    },
    {
        "id": "5a37f175503d5345",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "e1b7d81d3cd06a62",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "event_keywords_name",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 670,
        "y": 2420,
        "wires": [
            [
                "787961bfe48f9c3f",
                "83cd95335c63883a"
            ]
        ]
    },
    {
        "id": "83cd95335c63883a",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "e1b7d81d3cd06a62",
        "name": "debug 428",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1030,
        "y": 2420,
        "wires": []
    },
    {
        "id": "45d06b2c211d3315",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "0342ae8990d4e5d0",
        "name": "set msg.application_types",
        "rules": [
            {
                "t": "set",
                "p": "application_types",
                "pt": "msg",
                "to": "$distinct(payload.data).{\t   \"country_id\": country__rim,\t   \"country_name\": `country__rimr.name__v`,\t   \"country_code\": `country__rimr.country_code__rim`,\t   \"region_id\": region__rim,\t   \"region_name\": `region__rimr.name__v`,\t   \"application_type_id\": cv_1__rim,\t   \"application_type\": `cv_1__rimr.name__v`\t} ~> $filter(function($v) {\t    $v.region_name = \"European Union\" and $v.application_type != \"CTA Directive\" and $v.application_type != \"Paediatric Investigation Plan (PIP)\" and $v.application_type != \"Orphan Drug Designation Application\"or\t    $v.country_name = \"United States\" and $v.application_type = \"Investigational New Drug (IND)\" or\t    $v.region_name != \"European Union\" and $v.country_name != \"United States\" and $v.application_type != \"Paediatric Investigation Plan (PIP)\"\t})",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "full_application_types",
                "pt": "msg",
                "to": "application_types[country_id=null]\t/* Replace null countries with a list of all countries in that region */\t~> $map(function($t) {$.countries[region_id=$t.region_id] ~> $map(function($c) {$merge([$t,$c])})})\t/* Reduce list of lists to single list */\t~> $reduce(function($i, $v) { $append($i, $v) })\t/* Join with non-null countries */\t~> $append(application_types[country_id!=null])\t/* Filter out already existing applications */\t/* by using the Countries in Lead Country*/\t~> $filter(function($v) {$count(applications[lead_market__rim=$v.country_id and application_type__rim=$v.application_type_id])=0})\t/* by using the Countries in Application Country join*/\t~> $filter(function($v) {$count(application_countries[country__rim=$v.country_id and `application__rimr.application_type__rim`=$v.application_type_id])=0})\t/* Filter out Common (EU) and Common (GCC) */\t~> $filter(function($v) {$v.country_name != \"Common (EU)\" and $v.country_name != \"Common (GCC)\"})\t/* Sort by name */\t~> $sort(function($l, $r) {$l.country_name > $r.country_name})\t/* Remove duplicates */\t~> $distinct()",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1870,
        "y": 1700,
        "wires": [
            [
                "8f7f5b7af1e523e8",
                "97b53a3a8dd09761"
            ]
        ]
    },
    {
        "id": "62640940a60a1f05",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "4a932e6034254d18",
        "name": "create submissions",
        "rules": [
            {
                "t": "set",
                "p": "args",
                "pt": "msg",
                "to": "{\t   \"object_name\": \"submission__v\",\t   \"keep\": \"false\"\t}",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "applications.{\t   \"name__v\": $$.event.name__v & ' - ' & $substringBefore(name__v, \" -\"),\t   \"description__v\": $length($$.event.event_description__c) > 500 ? $substring($$.event.event_description__c,0,497) & \"...\" : $$.event.event_description__c,\t   \"application__v\": id,\t   \"object_type__vr.api_name__v\": \"investigational_submission__c\",\t   \"submission_type__rimr.name__v\": \"*Placeholder - Please Update*\"\t}[]\t",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3190,
        "y": 2300,
        "wires": [
            [
                "a77d51b53d8a6f23"
            ]
        ]
    },
    {
        "id": "898365ea0e27f9fa",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "4a932e6034254d18",
        "name": "store result",
        "rules": [
            {
                "t": "set",
                "p": "submission_ids",
                "pt": "msg",
                "to": "payload.data[responseStatus=\"SUCCESS\"].data.id[]",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3670,
        "y": 2300,
        "wires": [
            [
                "fd61c358f16a025d",
                "f58d0bb835412fc4"
            ]
        ]
    },
    {
        "id": "fd61c358f16a025d",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "4a932e6034254d18",
        "name": "query submissions",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"select id, name__v from submission__v where \" & (submission_ids ~> $map(function($v) {\"id='\" & $v & \"'\"}) ~> $join(\" OR \"))",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3190,
        "y": 2360,
        "wires": [
            [
                "c871db4946297902"
            ]
        ]
    },
    {
        "id": "9398e7263bf82b17",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "4a932e6034254d18",
        "name": "store result",
        "rules": [
            {
                "t": "set",
                "p": "submissions",
                "pt": "msg",
                "to": "payload.data",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3670,
        "y": 2360,
        "wires": [
            [
                "b4d75ca5d1862d0d",
                "3a5fef5ba445dca6"
            ]
        ]
    },
    {
        "id": "b4d75ca5d1862d0d",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "4a932e6034254d18",
        "name": "link to products",
        "rules": [
            {
                "t": "set",
                "p": "args",
                "pt": "msg",
                "to": "{\t   \"object_name\": \"submission_pharmaceutical_product__rim\",\t   \"keep\": \"false\"\t}",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "[\t    submissions ~> $map(\t       function($submission) {\t           study.clinical_study_products__cr.data.{\t               \"submission__rim\": $submission.id,\t               \"pharmaceutical_product__rim\": product__c,\t               \"product_detail__rim\": product_variant__c\t        }\t    }\t    ) ~> $reduce(\t       function($accumulator, $value) {$append($accumulator, $value)}\t    )\t]",
                "tot": "jsonata",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3180,
        "y": 2420,
        "wires": [
            [
                "14be5b3467d426ef"
            ]
        ]
    },
    {
        "id": "19b4e65ee7032903",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "4a932e6034254d18",
        "name": "link to study",
        "rules": [
            {
                "t": "set",
                "p": "args",
                "pt": "msg",
                "to": "{\t   \"object_name\": \"submission_clinical_study__rim\",\t   \"keep\": \"false\"\t}",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "submissions.{\t   \"submission__rim\": id,\t   \"clinical_study__rim\": $$.study_id\t}[]",
                "tot": "jsonata",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3170,
        "y": 2540,
        "wires": [
            [
                "857c942e1e147c0c"
            ]
        ]
    },
    {
        "id": "f58d0bb835412fc4",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "4a932e6034254d18",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3850,
        "y": 2300,
        "wires": []
    },
    {
        "id": "3a5fef5ba445dca6",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "4a932e6034254d18",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3850,
        "y": 2360,
        "wires": []
    },
    {
        "id": "8e82a3e29f089f62",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "4a932e6034254d18",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3850,
        "y": 2420,
        "wires": []
    },
    {
        "id": "7f14e480377ecb8f",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "4a932e6034254d18",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3850,
        "y": 2540,
        "wires": []
    },
    {
        "id": "a77d51b53d8a6f23",
        "type": "brave-create-vobject",
        "z": "2c4527dad914ec1c",
        "g": "4a932e6034254d18",
        "name": "",
        "x": 3420,
        "y": 2300,
        "wires": [
            [
                "898365ea0e27f9fa"
            ],
            [
                "1b109bb176828d44"
            ]
        ]
    },
    {
        "id": "c871db4946297902",
        "type": "brave-vql-query",
        "z": "2c4527dad914ec1c",
        "g": "4a932e6034254d18",
        "name": "",
        "x": 3410,
        "y": 2360,
        "wires": [
            [
                "9398e7263bf82b17"
            ],
            [
                "1b109bb176828d44"
            ]
        ]
    },
    {
        "id": "14be5b3467d426ef",
        "type": "brave-create-vobject",
        "z": "2c4527dad914ec1c",
        "g": "4a932e6034254d18",
        "name": "",
        "x": 3420,
        "y": 2420,
        "wires": [
            [
                "8e82a3e29f089f62",
                "675035dafe7624c4"
            ],
            [
                "1b109bb176828d44"
            ]
        ]
    },
    {
        "id": "1b109bb176828d44",
        "type": "link out",
        "z": "2c4527dad914ec1c",
        "g": "4a932e6034254d18",
        "name": "",
        "mode": "link",
        "links": [
            "0b4394d395558302"
        ],
        "x": 3645,
        "y": 2620,
        "wires": []
    },
    {
        "id": "857c942e1e147c0c",
        "type": "brave-create-vobject",
        "z": "2c4527dad914ec1c",
        "g": "4a932e6034254d18",
        "name": "",
        "x": 3420,
        "y": 2540,
        "wires": [
            [
                "7f14e480377ecb8f",
                "9e1f9abf0b7f18c2"
            ],
            [
                "1b109bb176828d44"
            ]
        ]
    },
    {
        "id": "9e1f9abf0b7f18c2",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "4a932e6034254d18",
        "name": "link to indications",
        "rules": [
            {
                "t": "set",
                "p": "args",
                "pt": "msg",
                "to": "{\t   \"object_name\": \"submission_indication__rim\",\t   \"keep\": \"false\"\t}",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "[\t    submissions ~> $map(function($submission) {\t       study.therapeutic_indication_clinical_studies__cr.data.{\t           \"indication__rim\": therapeutic_indication__c,\t           \"submission__rim\": $submission.id\t        }\t    }) ~> $reduce(function($accumulator, $value) {$append($accumulator, $value)})\t]",
                "tot": "jsonata",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3190,
        "y": 2600,
        "wires": [
            [
                "8d568405b4ec34f2"
            ]
        ]
    },
    {
        "id": "8d568405b4ec34f2",
        "type": "brave-create-vobject",
        "z": "2c4527dad914ec1c",
        "g": "4a932e6034254d18",
        "name": "",
        "x": 3420,
        "y": 2600,
        "wires": [
            [
                "a951ef41ea04daa1",
                "38c9f670c6aad425"
            ],
            [
                "1b109bb176828d44"
            ]
        ]
    },
    {
        "id": "a951ef41ea04daa1",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "4a932e6034254d18",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3850,
        "y": 2600,
        "wires": []
    },
    {
        "id": "675035dafe7624c4",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "4a932e6034254d18",
        "name": "link to event",
        "rules": [
            {
                "t": "set",
                "p": "args",
                "pt": "msg",
                "to": "{\t   \"object_name\": \"event_submission__rim\",\t   \"keep\": \"false\"\t}",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "submissions.{\t   \"submission__rim\": id,\t   \"event__rim\": $$.event.id\t}[]",
                "tot": "jsonata",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3170,
        "y": 2480,
        "wires": [
            [
                "a6fdd8a4c088efcd"
            ]
        ]
    },
    {
        "id": "a6fdd8a4c088efcd",
        "type": "brave-create-vobject",
        "z": "2c4527dad914ec1c",
        "g": "4a932e6034254d18",
        "name": "",
        "x": 3420,
        "y": 2480,
        "wires": [
            [
                "19b4e65ee7032903",
                "91c1fc453443a8e3"
            ],
            [
                "1b109bb176828d44"
            ]
        ]
    },
    {
        "id": "91c1fc453443a8e3",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "4a932e6034254d18",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3850,
        "y": 2480,
        "wires": []
    },
    {
        "id": "d8d634dbb1feb7f0",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "4a932e6034254d18",
        "name": "query event",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"select id, name__v, event_description__c, (select id, impd_version_nonquality_part__c, impd_version_quality_part__c, protocol_version__c, ib_version__c from event_clinical_studies__vr) from event__rim where object_type__vr.api_name__v = 'clinical_study_event__c' and applicable_product_type__v = 'drug__v'and keywords__c = 'clinical_initial_cta__c' and id in (select id from event_clinical_studies__vr where clinical_study__v='\" & study_id & \"')\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3170,
        "y": 2240,
        "wires": [
            [
                "2a00af4ef68684ee"
            ]
        ]
    },
    {
        "id": "2a00af4ef68684ee",
        "type": "brave-vql-query",
        "z": "2c4527dad914ec1c",
        "g": "4a932e6034254d18",
        "name": "",
        "x": 3410,
        "y": 2240,
        "wires": [
            [
                "b3093d1ee9de67e1"
            ],
            [
                "1b109bb176828d44"
            ]
        ]
    },
    {
        "id": "b3093d1ee9de67e1",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "4a932e6034254d18",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "event",
                "pt": "msg",
                "to": "payload.data[0]",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3680,
        "y": 2240,
        "wires": [
            [
                "62640940a60a1f05",
                "71e04109ad804aa3"
            ]
        ]
    },
    {
        "id": "71e04109ad804aa3",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "4a932e6034254d18",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3850,
        "y": 2240,
        "wires": []
    },
    {
        "id": "b89f95ec9abb8084",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "4a932e6034254d18",
        "name": "query study",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"select id, name__v, study_alias__c, product__v, product__vr.name__v, (select id, name__v, product__c, product__cr.name__v, product_family__c, product_family__cr.name__v, product_variant__c, product_variant__cr.name__v from clinical_study_products__cr), (select id, name__v, therapeutic_indication__c, therapeutic_indication__cr.name__v from therapeutic_indication_clinical_studies__cr) from clinical_study__v where id='\" & study_id & \"'\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3410,
        "y": 2120,
        "wires": [
            [
                "f5854a7cc17c0aa7"
            ]
        ]
    },
    {
        "id": "f5854a7cc17c0aa7",
        "type": "brave-vql-query",
        "z": "2c4527dad914ec1c",
        "g": "4a932e6034254d18",
        "name": "",
        "x": 3670,
        "y": 2120,
        "wires": [
            [
                "9ef56b03101f70be"
            ],
            [
                "1b109bb176828d44"
            ]
        ]
    },
    {
        "id": "9ef56b03101f70be",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "4a932e6034254d18",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "study",
                "pt": "msg",
                "to": "payload.data[0]",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3880,
        "y": 2120,
        "wires": [
            [
                "9bf734a0d565b0b0"
            ]
        ]
    },
    {
        "id": "7827ec475b7c8da5",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "4a932e6034254d18",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3850,
        "y": 2180,
        "wires": []
    },
    {
        "id": "ceb33ad242526776",
        "type": "http in",
        "z": "2c4527dad914ec1c",
        "g": "4a932e6034254d18",
        "name": "",
        "url": "cta/create_records",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 3230,
        "y": 2000,
        "wires": [
            [
                "383eedb90d0b8b41"
            ]
        ]
    },
    {
        "id": "383eedb90d0b8b41",
        "type": "json",
        "z": "2c4527dad914ec1c",
        "g": "4a932e6034254d18",
        "name": "resp_full",
        "property": "payload.response_full",
        "action": "obj",
        "pretty": false,
        "x": 3440,
        "y": 2000,
        "wires": [
            [
                "521d70b563cc5942"
            ]
        ]
    },
    {
        "id": "521d70b563cc5942",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "4a932e6034254d18",
        "name": "store parameters",
        "rules": [
            {
                "t": "set",
                "p": "study_id",
                "pt": "msg",
                "to": "payload.study_id",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "applications",
                "pt": "msg",
                "to": "payload.response_full[]",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "lead_country_string",
                "pt": "msg",
                "to": "payload.lead_country",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "client_id",
                "pt": "msg",
                "to": "cta-automation",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "event_id",
                "pt": "msg",
                "to": "payload.event_id",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "job.job_scope",
                "pt": "msg",
                "to": "payload.job_scope",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "job.job_type",
                "pt": "msg",
                "to": "payload.job_type",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "created_application_ids",
                "pt": "msg",
                "to": "payload.created_application_ids",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "created_event_id",
                "pt": "msg",
                "to": "payload.created_event_id",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3690,
        "y": 2000,
        "wires": [
            [
                "618ef6d8cb29ffce"
            ]
        ]
    },
    {
        "id": "618ef6d8cb29ffce",
        "type": "brave-login",
        "z": "2c4527dad914ec1c",
        "g": "4a932e6034254d18",
        "name": "",
        "x": 3850,
        "y": 2000,
        "wires": [
            [
                "09d4586254506745"
            ],
            [
                "1b109bb176828d44"
            ]
        ]
    },
    {
        "id": "09d4586254506745",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "4a932e6034254d18",
        "name": "parse Application",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "applications",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3190,
        "y": 2060,
        "wires": [
            [
                "b9ecf6ddd77ad675"
            ]
        ]
    },
    {
        "id": "b9ecf6ddd77ad675",
        "type": "split",
        "z": "2c4527dad914ec1c",
        "g": "4a932e6034254d18",
        "name": "for each Application",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 3430,
        "y": 2060,
        "wires": [
            [
                "867650c5b98c06c8"
            ]
        ]
    },
    {
        "id": "867650c5b98c06c8",
        "type": "json",
        "z": "2c4527dad914ec1c",
        "g": "4a932e6034254d18",
        "name": "json to object",
        "property": "payload",
        "action": "obj",
        "pretty": false,
        "x": 3670,
        "y": 2060,
        "wires": [
            [
                "119a9f972c38c24a"
            ]
        ]
    },
    {
        "id": "119a9f972c38c24a",
        "type": "join",
        "z": "2c4527dad914ec1c",
        "g": "4a932e6034254d18",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": true,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 3850,
        "y": 2060,
        "wires": [
            [
                "a2813cb05abc95ed"
            ]
        ]
    },
    {
        "id": "a2813cb05abc95ed",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "4a932e6034254d18",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "applications",
                "pt": "msg",
                "to": "payload",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3200,
        "y": 2120,
        "wires": [
            [
                "b89f95ec9abb8084"
            ]
        ]
    },
    {
        "id": "9bf734a0d565b0b0",
        "type": "switch",
        "z": "2c4527dad914ec1c",
        "g": "4a932e6034254d18",
        "name": "",
        "property": "job.job_type",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "2",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 3150,
        "y": 2180,
        "wires": [
            [
                "d8d634dbb1feb7f0"
            ],
            [
                "bfecddb23cb14652"
            ]
        ]
    },
    {
        "id": "bfecddb23cb14652",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "4a932e6034254d18",
        "name": "query event",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"select id, name__v, event_description__c, (select id, impd_version_nonquality_part__c, impd_version_quality_part__c, protocol_version__c, ib_version__c from event_clinical_studies__vr) from event__rim where id='\" & event_id & \"'\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3410,
        "y": 2180,
        "wires": [
            [
                "2a00af4ef68684ee",
                "7827ec475b7c8da5"
            ]
        ]
    },
    {
        "id": "e92dbdab8eb4e6f5",
        "type": "http response",
        "z": "2c4527dad914ec1c",
        "g": "eb7523f05c7170f0",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 3610,
        "y": 1840,
        "wires": []
    },
    {
        "id": "3575399d43c70958",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "eb7523f05c7170f0",
        "name": "set fields for input form",
        "rules": [
            {
                "t": "set",
                "p": "title",
                "pt": "msg",
                "to": "\"Creating records for Study \" & study.name__v & \" \" & study.study_alias__c",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "type",
                "pt": "msg",
                "to": "checkbox",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "description",
                "pt": "msg",
                "to": "Please select the Applications for which RO and Submission would be created.",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "tableheader",
                "pt": "msg",
                "to": "{\"columns\":[\"Application Name\",\"Lead Country\",\"Created Date\"]}",
                "tot": "json"
            },
            {
                "t": "set",
                "p": "dataarray",
                "pt": "msg",
                "to": "applications.{\t   \"selection\": $string(),\t   \"columns\": \t   [\t       name__v, \t       lead_market__rimr.data[0].name__v,\t       created_date__v\t       ]\t}",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "flow",
                "pt": "msg",
                "to": "nodes/cta/create_records",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "hiddenfields",
                "pt": "msg",
                "to": "[\t   {\t       \"name\": \"study_id\",\t       \"value\": study_id\t    },\t    {\t        \"name\": \"job_type\",\t        \"value\": job.job_type\t    },\t    {\t        \"name\": \"job_scope\",\t        \"value\": job.job_scope\t    },\t    {\t        \"name\": \"event_id\",\t        \"value\": event_id\t    },\t    {\t        \"name\": \"created_application_ids\",\t        \"value\": created_application_ids\t    },\t    {\t        \"name\": \"created_event_id\",\t        \"value\": created_event_id\t    }\t]",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3180,
        "y": 1840,
        "wires": [
            [
                "c229575af81a577a"
            ]
        ]
    },
    {
        "id": "c229575af81a577a",
        "type": "brave-input-form",
        "z": "2c4527dad914ec1c",
        "g": "eb7523f05c7170f0",
        "name": "",
        "x": 3450,
        "y": 1840,
        "wires": [
            [
                "e92dbdab8eb4e6f5"
            ]
        ]
    },
    {
        "id": "6ee4c82e5bbdfb64",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "eb7523f05c7170f0",
        "name": "query applications",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"select id, name__v, lead_market__rim, (select name__v, region__v, reporting_region__c from lead_market__rimr), created_date__v from application__v where id in (select application__c from application_clinical_studies__cr where clinical_study__c='\" & study_id & \"') and state__v='active_state__c'\" & app_filter",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3170,
        "y": 1720,
        "wires": [
            [
                "baa100f75a1bdf83"
            ]
        ]
    },
    {
        "id": "baa100f75a1bdf83",
        "type": "brave-vql-query",
        "z": "2c4527dad914ec1c",
        "g": "eb7523f05c7170f0",
        "name": "",
        "x": 3450,
        "y": 1720,
        "wires": [
            [
                "69e9f2c548c72906"
            ],
            [
                "0acb4f725a0b3b4d"
            ]
        ]
    },
    {
        "id": "69e9f2c548c72906",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "eb7523f05c7170f0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "applications",
                "pt": "msg",
                "to": "payload.data",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3660,
        "y": 1720,
        "wires": [
            [
                "dbb0938eb77fb439",
                "c5fde75660caf0e0"
            ]
        ]
    },
    {
        "id": "dbb0938eb77fb439",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "eb7523f05c7170f0",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3850,
        "y": 1720,
        "wires": []
    },
    {
        "id": "b1d50aba3ccae290",
        "type": "http in",
        "z": "2c4527dad914ec1c",
        "g": "eb7523f05c7170f0",
        "name": "",
        "url": "cta/app_for_records",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 3210,
        "y": 1400,
        "wires": [
            [
                "6f594307a0362067"
            ]
        ]
    },
    {
        "id": "b29bd3b6b73fa3f4",
        "type": "brave-login",
        "z": "2c4527dad914ec1c",
        "g": "eb7523f05c7170f0",
        "name": "",
        "x": 3850,
        "y": 1460,
        "wires": [
            [
                "368a237cb3da03f4"
            ],
            [
                "0acb4f725a0b3b4d"
            ]
        ]
    },
    {
        "id": "c5fde75660caf0e0",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "eb7523f05c7170f0",
        "name": "query applications",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"select application__v from submission__v where id in (select submission__rim from event_submissions__rimr where event__rim='\" & event_id & \"')\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3170,
        "y": 1780,
        "wires": [
            [
                "8ea7bea18c3a37ec"
            ]
        ]
    },
    {
        "id": "8ea7bea18c3a37ec",
        "type": "brave-vql-query",
        "z": "2c4527dad914ec1c",
        "g": "eb7523f05c7170f0",
        "name": "",
        "x": 3450,
        "y": 1780,
        "wires": [
            [
                "3e3267b7bf950552"
            ],
            [
                "0acb4f725a0b3b4d"
            ]
        ]
    },
    {
        "id": "3e3267b7bf950552",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "eb7523f05c7170f0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "applications",
                "pt": "msg",
                "to": "applications\t~> $filter(function($v){$not($v.id in payload.data.application__v)})",
                "tot": "jsonata",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3660,
        "y": 1780,
        "wires": [
            [
                "3575399d43c70958",
                "8f6dbe66602cd363"
            ]
        ]
    },
    {
        "id": "8f6dbe66602cd363",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "eb7523f05c7170f0",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3850,
        "y": 1780,
        "wires": []
    },
    {
        "id": "6f594307a0362067",
        "type": "json",
        "z": "2c4527dad914ec1c",
        "g": "eb7523f05c7170f0",
        "name": "resp_full",
        "property": "payload.response_full",
        "action": "obj",
        "pretty": false,
        "x": 3440,
        "y": 1400,
        "wires": [
            [
                "d224372d0f77adba"
            ]
        ]
    },
    {
        "id": "d224372d0f77adba",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "eb7523f05c7170f0",
        "name": "store parameters",
        "rules": [
            {
                "t": "set",
                "p": "study_id",
                "pt": "msg",
                "to": "payload.study_id",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "created_application_ids",
                "pt": "msg",
                "to": "payload.created_application_ids",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "created_event_id",
                "pt": "msg",
                "to": "payload.created_event_id",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "client_id",
                "pt": "msg",
                "to": "cta-automation",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "event_id",
                "pt": "msg",
                "to": "$filter (payload.event_id, function ($v) { $v != \"\" })",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "job.job_scope",
                "pt": "msg",
                "to": "payload.job_scope",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "job.job_type",
                "pt": "msg",
                "to": "payload.job_type",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "ro_type",
                "pt": "msg",
                "to": "payload.response_full[]",
                "tot": "jsonata",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3670,
        "y": 1400,
        "wires": [
            [
                "9e24def7b8e1ed20"
            ]
        ]
    },
    {
        "id": "9e24def7b8e1ed20",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "eb7523f05c7170f0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "ro_type",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3880,
        "y": 1400,
        "wires": [
            [
                "56bb3f2ede4357d3"
            ]
        ]
    },
    {
        "id": "56bb3f2ede4357d3",
        "type": "split",
        "z": "2c4527dad914ec1c",
        "g": "eb7523f05c7170f0",
        "name": "for RO Type",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 3150,
        "y": 1460,
        "wires": [
            [
                "63b1e190539c60d6"
            ]
        ]
    },
    {
        "id": "63b1e190539c60d6",
        "type": "json",
        "z": "2c4527dad914ec1c",
        "g": "eb7523f05c7170f0",
        "name": "json to object",
        "property": "payload",
        "action": "obj",
        "pretty": false,
        "x": 3330,
        "y": 1460,
        "wires": [
            [
                "2d30c1a1b88ffd77"
            ]
        ]
    },
    {
        "id": "2d30c1a1b88ffd77",
        "type": "join",
        "z": "2c4527dad914ec1c",
        "g": "eb7523f05c7170f0",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": true,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 3510,
        "y": 1460,
        "wires": [
            [
                "9e67043bce8e07ce"
            ]
        ]
    },
    {
        "id": "9e67043bce8e07ce",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "eb7523f05c7170f0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "ro_type",
                "pt": "msg",
                "to": "payload[0].ID",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "ro_region",
                "pt": "msg",
                "to": "payload[0].Region",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3680,
        "y": 1460,
        "wires": [
            [
                "b29bd3b6b73fa3f4"
            ]
        ]
    },
    {
        "id": "0acb4f725a0b3b4d",
        "type": "link out",
        "z": "2c4527dad914ec1c",
        "g": "eb7523f05c7170f0",
        "name": "",
        "mode": "link",
        "links": [
            "0b4394d395558302"
        ],
        "x": 3995,
        "y": 1780,
        "wires": []
    },
    {
        "id": "368a237cb3da03f4",
        "type": "switch",
        "z": "2c4527dad914ec1c",
        "g": "eb7523f05c7170f0",
        "name": "check RO Type region",
        "property": "ro_region",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "EU",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Non-EU",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Japan",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "United States",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "All Region",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 5,
        "x": 3180,
        "y": 1560,
        "wires": [
            [
                "f7b29bb7055e0a74"
            ],
            [
                "f2ae517ed12d39ef"
            ],
            [
                "a1ea860eacff14bf"
            ],
            [
                "6b4365514871b2fa"
            ],
            [
                "acbf802c7351198d"
            ]
        ]
    },
    {
        "id": "f7b29bb7055e0a74",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "eb7523f05c7170f0",
        "name": "app filter - EU",
        "rules": [
            {
                "t": "set",
                "p": "app_filter",
                "pt": "msg",
                "to": " and lead_market__rimr.region__v='00R000000000102'",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3440,
        "y": 1500,
        "wires": [
            [
                "6ee4c82e5bbdfb64"
            ]
        ]
    },
    {
        "id": "f2ae517ed12d39ef",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "eb7523f05c7170f0",
        "name": "app filter - Non-EU",
        "rules": [
            {
                "t": "set",
                "p": "app_filter",
                "pt": "msg",
                "to": " and lead_market__rimr.region__v!='00R000000000102'",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3450,
        "y": 1540,
        "wires": [
            [
                "6ee4c82e5bbdfb64"
            ]
        ]
    },
    {
        "id": "6b4365514871b2fa",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "eb7523f05c7170f0",
        "name": "app filter - US",
        "rules": [
            {
                "t": "set",
                "p": "app_filter",
                "pt": "msg",
                "to": " and lead_market__rim='00C000000000752'",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3440,
        "y": 1620,
        "wires": [
            [
                "6ee4c82e5bbdfb64"
            ]
        ]
    },
    {
        "id": "a1ea860eacff14bf",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "eb7523f05c7170f0",
        "name": "app filter - JP",
        "rules": [
            {
                "t": "set",
                "p": "app_filter",
                "pt": "msg",
                "to": " and lead_market__rim='00C000000000808'",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3430,
        "y": 1580,
        "wires": [
            [
                "6ee4c82e5bbdfb64"
            ]
        ]
    },
    {
        "id": "acbf802c7351198d",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "eb7523f05c7170f0",
        "name": "app filter - all",
        "rules": [
            {
                "t": "set",
                "p": "app_filter",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3430,
        "y": 1660,
        "wires": [
            [
                "6ee4c82e5bbdfb64"
            ]
        ]
    },
    {
        "id": "da23fd7381dc1b26",
        "type": "link in",
        "z": "2c4527dad914ec1c",
        "g": "0cad5663dc4721fe",
        "name": "link in 8",
        "links": [
            "4b8eadec1c5671af"
        ],
        "x": 3095,
        "y": 820,
        "wires": [
            [
                "574a5630803b0224"
            ]
        ]
    },
    {
        "id": "f6ab8aa482d9d67f",
        "type": "http response",
        "z": "2c4527dad914ec1c",
        "g": "0cad5663dc4721fe",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 3790,
        "y": 980,
        "wires": []
    },
    {
        "id": "b6c6c4bc76a4ba53",
        "type": "brave-input-form",
        "z": "2c4527dad914ec1c",
        "g": "0cad5663dc4721fe",
        "name": "",
        "x": 3590,
        "y": 980,
        "wires": [
            [
                "f6ab8aa482d9d67f"
            ]
        ]
    },
    {
        "id": "0181e70f2a18599b",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "0cad5663dc4721fe",
        "name": "query event",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"select id, name__v, brave_event_code__cr.name__v, event_description__c, keywords__c, state__v from event__rim where object_type__vr.api_name__v = 'clinical_study_event__c' and applicable_product_type__v = 'drug__v'and keywords__c != 'clinical_initial_cta__c' and id in (select id from event_clinical_studies__vr where clinical_study__v='\" & study_id & \"') and state__v != 'inactive_state__c' and state__v != 'cancelled_state__c'\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3410,
        "y": 880,
        "wires": [
            [
                "6d26ea123b445cc9"
            ]
        ]
    },
    {
        "id": "6d26ea123b445cc9",
        "type": "brave-vql-query",
        "z": "2c4527dad914ec1c",
        "g": "0cad5663dc4721fe",
        "name": "",
        "x": 3590,
        "y": 900,
        "wires": [
            [
                "70be352a47eee3c5"
            ],
            [
                "e2bbf68093902dd8"
            ]
        ]
    },
    {
        "id": "8985a769a95830ae",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "0cad5663dc4721fe",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "events",
                "pt": "msg",
                "to": "payload.data",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "event",
                "pt": "msg",
                "to": "payload.data.{\t    \"event_id\": id,\t   \"event_name\": name__v,\t   \"rec\": `brave_event_code__cr.name__v` != null ? `brave_event_code__cr.name__v` : \"N/A\",\t   \"event_description\": event_description__c,\t   \"keyword\": $reduce(keywords__c[]@$kw.[$$.event_keyword[Name=$kw].Title],function($i,$j){$i & \",\" & $j}) != null ? $reduce(keywords__c[]@$kw.[$$.event_keyword[Name=$kw].Title],function($i,$j){$i & \",\" & $j}) : \"N/A\"\t\t}\t",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 4060,
        "y": 900,
        "wires": [
            [
                "a1def3152347a0c1",
                "26a7680b9a307992"
            ]
        ]
    },
    {
        "id": "a1def3152347a0c1",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "0cad5663dc4721fe",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 4230,
        "y": 900,
        "wires": []
    },
    {
        "id": "26a7680b9a307992",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "0cad5663dc4721fe",
        "name": "set fields for input form",
        "rules": [
            {
                "t": "set",
                "p": "title",
                "pt": "msg",
                "to": "\"Creating records for Study \" & study.name__v & \" \" & study.study_alias__c",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "type",
                "pt": "msg",
                "to": "radio",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "description",
                "pt": "msg",
                "to": "Please select the Event for which records would be created",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "tableheader",
                "pt": "msg",
                "to": "{\"columns\":[\"Event Name\",\"Regulatory Event Code\",\"Keywords\",\"Description\"]}",
                "tot": "json"
            },
            {
                "t": "set",
                "p": "dataarray",
                "pt": "msg",
                "to": "event.{\t   \"selection\": $string(),\t   \"columns\": \t   [\t       event_name,\t       rec,\t       keyword,\t       event_description\t    ]\t}",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "flow",
                "pt": "msg",
                "to": "nodes/cta/ro_type",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "hiddenfields",
                "pt": "msg",
                "to": "[\t   {\t       \"name\": \"study_id\",\t       \"value\": study_id\t    },\t    {\t        \"name\": \"job_type\",\t        \"value\": job.job_type\t    },\t    {\t        \"name\": \"job_scope\",\t        \"value\": job.job_scope\t    },\t    {\t        \"name\": \"created_event_id\",\t        \"value\": created_event_id\t    },\t    {\t        \"name\": \"created_application_ids\",\t        \"value\": created_application_ids\t    }\t\t]\t",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3300,
        "y": 980,
        "wires": [
            [
                "b6c6c4bc76a4ba53"
            ]
        ]
    },
    {
        "id": "e2bbf68093902dd8",
        "type": "link out",
        "z": "2c4527dad914ec1c",
        "g": "0cad5663dc4721fe",
        "name": "",
        "mode": "link",
        "links": [
            "0b4394d395558302"
        ],
        "x": 4255,
        "y": 980,
        "wires": []
    },
    {
        "id": "70be352a47eee3c5",
        "type": "switch",
        "z": "2c4527dad914ec1c",
        "g": "0cad5663dc4721fe",
        "name": "If any event exists",
        "property": "$count(payload.data)!=0",
        "propertyType": "jsonata",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 3830,
        "y": 900,
        "wires": [
            [
                "8985a769a95830ae"
            ],
            [
                "6134dde92e85f832"
            ]
        ]
    },
    {
        "id": "6134dde92e85f832",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "0cad5663dc4721fe",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload.errors",
                "pt": "msg",
                "to": "[\t   {\t       \"type\":\"Incomplete Data\",\t       \"message\":\"The study has no existing Event. Please confirm.\"\t   }\t]",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 4080,
        "y": 980,
        "wires": [
            [
                "e2bbf68093902dd8"
            ]
        ]
    },
    {
        "id": "6e512e1221e08cb3",
        "type": "switch",
        "z": "2c4527dad914ec1c",
        "g": "0cad5663dc4721fe",
        "name": "",
        "property": "job.job_type",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "2",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 3250,
        "y": 900,
        "wires": [
            [
                "0181e70f2a18599b"
            ],
            [
                "55f7361f6ff3d3c0"
            ]
        ]
    },
    {
        "id": "55f7361f6ff3d3c0",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "0cad5663dc4721fe",
        "name": "query event",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"select id, name__v, brave_event_code__cr.name__v, event_description__c, keywords__c from event__rim where object_type__vr.api_name__v = 'clinical_study_event__c' and applicable_product_type__v = 'drug__v'and keywords__c = 'clinical_initial_cta__c' and id in (select id from event_clinical_studies__vr where clinical_study__v='\" & study_id & \"')\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3410,
        "y": 920,
        "wires": [
            [
                "6d26ea123b445cc9"
            ]
        ]
    },
    {
        "id": "f41e2e7c203bbd25",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "0cad5663dc4721fe",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "event_keyword",
                "pt": "msg",
                "to": "payload[0].event_keywords",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3850,
        "y": 820,
        "wires": [
            [
                "6e512e1221e08cb3",
                "be3c6ef4855d08d7"
            ]
        ]
    },
    {
        "id": "574a5630803b0224",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "0cad5663dc4721fe",
        "name": "Retrieve configs in BRAVE",
        "rules": [
            {
                "t": "set",
                "p": "args",
                "pt": "msg",
                "to": "{\t    \"settings_name\":\"cta_record_creation\",\t    \"attachment_name\":\"cta_creation_config.json\"\t}",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3320,
        "y": 820,
        "wires": [
            [
                "aa6b891b0c5003f6"
            ]
        ]
    },
    {
        "id": "aa6b891b0c5003f6",
        "type": "subflow:fca036ab5aa23301",
        "z": "2c4527dad914ec1c",
        "g": "0cad5663dc4721fe",
        "name": "",
        "x": 3610,
        "y": 820,
        "wires": [
            [
                "f41e2e7c203bbd25"
            ],
            []
        ]
    },
    {
        "id": "be3c6ef4855d08d7",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "0cad5663dc4721fe",
        "name": "debug 427",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 4210,
        "y": 820,
        "wires": []
    },
    {
        "id": "8de992bdd38f4d75",
        "type": "http response",
        "z": "2c4527dad914ec1c",
        "g": "2258a8ecc4d06406",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 3850,
        "y": 1280,
        "wires": []
    },
    {
        "id": "ea2ff3f91e64e1c8",
        "type": "brave-input-form",
        "z": "2c4527dad914ec1c",
        "g": "2258a8ecc4d06406",
        "name": "",
        "x": 3450,
        "y": 1280,
        "wires": [
            [
                "8de992bdd38f4d75"
            ]
        ]
    },
    {
        "id": "322b77670ebfbc73",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "2258a8ecc4d06406",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 4110,
        "y": 1280,
        "wires": []
    },
    {
        "id": "6dae2eeabda1866b",
        "type": "http in",
        "z": "2c4527dad914ec1c",
        "g": "2258a8ecc4d06406",
        "name": "",
        "url": "/cta/ro_type",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 3190,
        "y": 1100,
        "wires": [
            [
                "35a584fdbbbf184c"
            ]
        ]
    },
    {
        "id": "e18582e1e6af8a27",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "2258a8ecc4d06406",
        "name": "set fields for input form",
        "rules": [
            {
                "t": "set",
                "p": "title",
                "pt": "msg",
                "to": "Please define the Regulatory Objective Type",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "type",
                "pt": "msg",
                "to": "radio",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "description",
                "pt": "msg",
                "to": "\"for Study \" & study.name__v & \" \" & study.study_alias__c",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "tableheader",
                "pt": "msg",
                "to": "{\"columns\":[\"Type\",\"Applicable region\"]}",
                "tot": "json"
            },
            {
                "t": "set",
                "p": "dataarray",
                "pt": "msg",
                "to": "RO_type.{\t   \"selection\": $string(),\t   \"columns\": [\t       Type,\t       Region\t   ]\t}",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "flow",
                "pt": "msg",
                "to": "nodes/cta/app_for_records",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "hiddenfields",
                "pt": "msg",
                "to": "[\t   {\t       \"name\": \"study_id\",\t       \"value\": study_id\t    },\t    {\t       \"name\": \"lead_country\",\t       \"value\": $string(lead_country)\t    },\t    {\t        \"name\": \"job_type\",\t        \"value\": job.job_type\t    },\t    {\t        \"name\": \"job_scope\",\t        \"value\": job.job_scope\t    },\t    {\t        \"name\": \"created_event_id\",\t        \"value\": created_event_id\t    },\t    {\t        \"name\": \"created_application_ids\",\t        \"value\": created_application_ids\t    },\t    {\t        \"name\": \"event_id\",\t        \"value\": event_id\t    }\t\t]",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3180,
        "y": 1280,
        "wires": [
            [
                "ea2ff3f91e64e1c8",
                "322b77670ebfbc73"
            ]
        ]
    },
    {
        "id": "48df2f80a99d8b29",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "2258a8ecc4d06406",
        "name": "parse Event",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "event",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3870,
        "y": 1100,
        "wires": [
            [
                "4034cdfe618d83a5",
                "d4315b2a2c87f603"
            ]
        ]
    },
    {
        "id": "35a584fdbbbf184c",
        "type": "json",
        "z": "2c4527dad914ec1c",
        "g": "2258a8ecc4d06406",
        "name": "resp_full",
        "property": "payload.response_full",
        "action": "obj",
        "pretty": false,
        "x": 3440,
        "y": 1100,
        "wires": [
            [
                "bdd066564c6ce95f"
            ]
        ]
    },
    {
        "id": "bdd066564c6ce95f",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "2258a8ecc4d06406",
        "name": "Store parameters",
        "rules": [
            {
                "t": "set",
                "p": "study_id",
                "pt": "msg",
                "to": "payload.study_id",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "client_id",
                "pt": "msg",
                "to": "cta-automation",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "event_id",
                "pt": "msg",
                "to": "payload.event_id",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "job.job_type",
                "pt": "msg",
                "to": "payload.job_type",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "job.job_scope",
                "pt": "msg",
                "to": "payload.job_scope",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "event",
                "pt": "msg",
                "to": "payload.response_full[0]",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "created_event_id",
                "pt": "msg",
                "to": "payload.created_event_id",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "created_application_ids",
                "pt": "msg",
                "to": "payload.created_application_ids",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3650,
        "y": 1100,
        "wires": [
            [
                "48df2f80a99d8b29"
            ]
        ]
    },
    {
        "id": "627236e68743463c",
        "type": "json",
        "z": "2c4527dad914ec1c",
        "g": "2258a8ecc4d06406",
        "name": "json to object",
        "property": "payload",
        "action": "obj",
        "pretty": false,
        "x": 3450,
        "y": 1160,
        "wires": [
            [
                "e7d6e3c82350409a"
            ]
        ]
    },
    {
        "id": "4034cdfe618d83a5",
        "type": "split",
        "z": "2c4527dad914ec1c",
        "g": "2258a8ecc4d06406",
        "name": "Event",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 3130,
        "y": 1160,
        "wires": [
            [
                "627236e68743463c"
            ]
        ]
    },
    {
        "id": "e7d6e3c82350409a",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "2258a8ecc4d06406",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "event",
                "pt": "msg",
                "to": "payload",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "event_id",
                "pt": "msg",
                "to": "payload.event_id",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3640,
        "y": 1160,
        "wires": [
            [
                "364df53d72877480"
            ]
        ]
    },
    {
        "id": "d4315b2a2c87f603",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "2258a8ecc4d06406",
        "name": "debug 407",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 4130,
        "y": 1100,
        "wires": []
    },
    {
        "id": "364df53d72877480",
        "type": "brave-login",
        "z": "2c4527dad914ec1c",
        "g": "2258a8ecc4d06406",
        "name": "",
        "x": 3850,
        "y": 1160,
        "wires": [
            [
                "0d1633a753414cdd"
            ],
            []
        ]
    },
    {
        "id": "0d1633a753414cdd",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "2258a8ecc4d06406",
        "name": "Retrieve configs in BRAVE",
        "rules": [
            {
                "t": "set",
                "p": "args",
                "pt": "msg",
                "to": "{\t    \"settings_name\":\"cta_record_creation\",\t    \"attachment_name\":\"cta_creation_config.json\"\t}",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3200,
        "y": 1220,
        "wires": [
            [
                "816f8fd43db06c24"
            ]
        ]
    },
    {
        "id": "816f8fd43db06c24",
        "type": "subflow:fca036ab5aa23301",
        "z": "2c4527dad914ec1c",
        "g": "2258a8ecc4d06406",
        "name": "",
        "x": 3470,
        "y": 1220,
        "wires": [
            [
                "2d01b3958155921c"
            ],
            [
                "e2bbf68093902dd8"
            ]
        ]
    },
    {
        "id": "2d01b3958155921c",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "2258a8ecc4d06406",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "RO_type",
                "pt": "msg",
                "to": "payload[0].ro_type",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3890,
        "y": 1220,
        "wires": [
            [
                "e18582e1e6af8a27",
                "9828977331cdadbe"
            ]
        ]
    },
    {
        "id": "9828977331cdadbe",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "2258a8ecc4d06406",
        "name": "debug 425",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 4130,
        "y": 1220,
        "wires": []
    },
    {
        "id": "ea8fd3395ae5fd49",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "7dbb9c6933b0187b",
        "name": "create ros",
        "rules": [
            {
                "t": "set",
                "p": "args",
                "pt": "msg",
                "to": "{\t   \"object_name\": \"regulatory_objective__rim\",\t   \"keep\": \"false\"\t}",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "applications.{\t   \"name__v\": $$.event.name__v & ' - ' & $substringBefore(name__v, \" -\"),\t   \"description_of_change__rim\": $$.event.event_description__c,\t   \"application__rim\": id,\t   \"object_type__vr.api_name__v\": \"investigational_regulatory_objective__c\",\t   \"safetyrelated__c\": \"no__c\",\t   \"regulatory_objective_type_global__c\": $$.ro_type\t}[]",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3160,
        "y": 2800,
        "wires": [
            [
                "d054a08aba76294a"
            ]
        ]
    },
    {
        "id": "ea3dfeb51546e24a",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "7dbb9c6933b0187b",
        "name": "store result",
        "rules": [
            {
                "t": "set",
                "p": "ro_ids",
                "pt": "msg",
                "to": "payload.data[responseStatus=\"SUCCESS\"].data.id[]",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3650,
        "y": 2800,
        "wires": [
            [
                "449abf85b0dfeb5a",
                "f36d5ec80cec5d8f"
            ]
        ]
    },
    {
        "id": "7282d98b9aebfd65",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "7dbb9c6933b0187b",
        "name": "link to products",
        "rules": [
            {
                "t": "set",
                "p": "args",
                "pt": "msg",
                "to": "{\t   \"object_name\": \"regulatory_objective_drug_product__v\",\t   \"keep\": \"false\"\t}",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "[\t    ros ~> $map(\t       function($ro) {\t           study.clinical_study_products__cr.data.{\t               \"regulatory_objective__v\": $ro.id,\t               \"drug_product__v\": product__c,\t               \"product_detail__v\": product_variant__c\t        }\t    }\t    ) ~> $reduce(\t       function($accumulator, $value) {$append($accumulator, $value)}\t    )\t]",
                "tot": "jsonata",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3180,
        "y": 2920,
        "wires": [
            [
                "f44a6fefd13d1c10"
            ]
        ]
    },
    {
        "id": "449abf85b0dfeb5a",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "7dbb9c6933b0187b",
        "name": "query ros",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"select id, name__v from regulatory_objective__rim where \" & (ro_ids ~> $map(function($v) {\"id='\" & $v & \"'\"}) ~> $join(\" OR \"))",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3160,
        "y": 2860,
        "wires": [
            [
                "33574cd26d86b730"
            ]
        ]
    },
    {
        "id": "4f666270c6fff25d",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "7dbb9c6933b0187b",
        "name": "store result",
        "rules": [
            {
                "t": "set",
                "p": "ros",
                "pt": "msg",
                "to": "payload.data",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3650,
        "y": 2860,
        "wires": [
            [
                "7282d98b9aebfd65",
                "9104486cb4f058e0"
            ]
        ]
    },
    {
        "id": "dda0db44b7fc76a2",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "7dbb9c6933b0187b",
        "name": "link to study",
        "rules": [
            {
                "t": "set",
                "p": "args",
                "pt": "msg",
                "to": "{\t   \"object_name\": \"regulatory_objective_clinical_study__v\",\t   \"keep\": \"false\"\t}",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "ros.{\t   \"regulatory_objective__v\": id,\t   \"clinical_study__v\": $$.study_id,\t   \"impd_version_nonquality_part__c\": $$.event.event_clinical_studies__vr.data.impd_version_nonquality_part__c,\t   \"impd_version_quality_part__c\": $$.event.event_clinical_studies__vr.data.impd_version_quality_part__c,\t   \"protocol_version__c\": $$.event.event_clinical_studies__vr.data.protocol_version__c,\t   \"ib_version__c\": $$.event.event_clinical_studies__vr.data.ib_version__c\t}[]",
                "tot": "jsonata",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3170,
        "y": 3040,
        "wires": [
            [
                "dd1397594a408f05"
            ]
        ]
    },
    {
        "id": "92ab0d09bc0a2257",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "7dbb9c6933b0187b",
        "name": "link to submissions",
        "rules": [
            {
                "t": "set",
                "p": "args",
                "pt": "msg",
                "to": "{\t   \"object_name\": \"submission_regulatory_objective__v\",\t   \"keep\": \"false\"\t}",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "submissions#$i.{\t   \"regulatory_objective__v\": $$.ros[$i].id,\t   \"submission__v\": id\t}[]",
                "tot": "jsonata",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3190,
        "y": 3100,
        "wires": [
            [
                "ac4deb9539f1fb55"
            ]
        ]
    },
    {
        "id": "50129e1a7a69e488",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "7dbb9c6933b0187b",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3850,
        "y": 2740,
        "wires": []
    },
    {
        "id": "f36d5ec80cec5d8f",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "7dbb9c6933b0187b",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3850,
        "y": 2800,
        "wires": []
    },
    {
        "id": "9104486cb4f058e0",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "7dbb9c6933b0187b",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3850,
        "y": 2860,
        "wires": []
    },
    {
        "id": "acaa1af7a2c60d83",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "7dbb9c6933b0187b",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3850,
        "y": 2920,
        "wires": []
    },
    {
        "id": "1a0e3c813639d7e8",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "7dbb9c6933b0187b",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3850,
        "y": 3040,
        "wires": []
    },
    {
        "id": "38c9f670c6aad425",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "7dbb9c6933b0187b",
        "name": "query ro type",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "select id from controlled_vocabulary__rim where controlled_vocabulary_type__rim = 'regulatory_objective_type_global__c' and name__v = 'New Clinical Trial' and status__v = 'active__v'",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3170,
        "y": 2740,
        "wires": [
            [
                "9e0fbc59446d769b"
            ]
        ]
    },
    {
        "id": "be244ca4d55bdd38",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "7dbb9c6933b0187b",
        "name": "store result",
        "rules": [
            {
                "t": "set",
                "p": "ro_type",
                "pt": "msg",
                "to": "payload.data[0].id",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3650,
        "y": 2740,
        "wires": [
            [
                "ea8fd3395ae5fd49",
                "50129e1a7a69e488"
            ]
        ]
    },
    {
        "id": "2e6605503e1d4370",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "7dbb9c6933b0187b",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3850,
        "y": 3100,
        "wires": []
    },
    {
        "id": "9e0fbc59446d769b",
        "type": "brave-vql-query",
        "z": "2c4527dad914ec1c",
        "g": "7dbb9c6933b0187b",
        "name": "",
        "x": 3410,
        "y": 2740,
        "wires": [
            [
                "be244ca4d55bdd38"
            ],
            [
                "275cac78bf29b682"
            ]
        ]
    },
    {
        "id": "d054a08aba76294a",
        "type": "brave-create-vobject",
        "z": "2c4527dad914ec1c",
        "g": "7dbb9c6933b0187b",
        "name": "",
        "x": 3420,
        "y": 2800,
        "wires": [
            [
                "ea3dfeb51546e24a"
            ],
            [
                "275cac78bf29b682"
            ]
        ]
    },
    {
        "id": "33574cd26d86b730",
        "type": "brave-vql-query",
        "z": "2c4527dad914ec1c",
        "g": "7dbb9c6933b0187b",
        "name": "",
        "x": 3410,
        "y": 2860,
        "wires": [
            [
                "4f666270c6fff25d"
            ],
            [
                "275cac78bf29b682"
            ]
        ]
    },
    {
        "id": "f44a6fefd13d1c10",
        "type": "brave-create-vobject",
        "z": "2c4527dad914ec1c",
        "g": "7dbb9c6933b0187b",
        "name": "",
        "x": 3420,
        "y": 2920,
        "wires": [
            [
                "acaa1af7a2c60d83",
                "2fee73769422c35f"
            ],
            [
                "275cac78bf29b682"
            ]
        ]
    },
    {
        "id": "dd1397594a408f05",
        "type": "brave-create-vobject",
        "z": "2c4527dad914ec1c",
        "g": "7dbb9c6933b0187b",
        "name": "",
        "x": 3420,
        "y": 3040,
        "wires": [
            [
                "92ab0d09bc0a2257",
                "1a0e3c813639d7e8"
            ],
            [
                "275cac78bf29b682"
            ]
        ]
    },
    {
        "id": "275cac78bf29b682",
        "type": "link out",
        "z": "2c4527dad914ec1c",
        "g": "7dbb9c6933b0187b",
        "name": "",
        "mode": "link",
        "links": [
            "0b4394d395558302"
        ],
        "x": 3605,
        "y": 2940,
        "wires": []
    },
    {
        "id": "ac4deb9539f1fb55",
        "type": "brave-create-vobject",
        "z": "2c4527dad914ec1c",
        "g": "7dbb9c6933b0187b",
        "name": "",
        "x": 3420,
        "y": 3100,
        "wires": [
            [
                "2e6605503e1d4370",
                "aa47eed378c684f0"
            ],
            [
                "275cac78bf29b682"
            ]
        ]
    },
    {
        "id": "aa47eed378c684f0",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "7dbb9c6933b0187b",
        "name": "link to indications",
        "rules": [
            {
                "t": "set",
                "p": "args",
                "pt": "msg",
                "to": "{\t   \"object_name\": \"regulatory_objective_indication__v\",\t   \"keep\": \"false\"\t}",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "[\t    ros ~> $map(function($ro) {\t       study.therapeutic_indication_clinical_studies__cr.data.{\t           \"indication__v\": therapeutic_indication__c,\t           \"regulatory_objective__v\": $ro.id\t        }\t    }) ~> $reduce(function($accumulator, $value) {$append($accumulator, $value)})\t]",
                "tot": "jsonata",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3190,
        "y": 3160,
        "wires": [
            [
                "991415f1a79cd20a"
            ]
        ]
    },
    {
        "id": "991415f1a79cd20a",
        "type": "brave-create-vobject",
        "z": "2c4527dad914ec1c",
        "g": "7dbb9c6933b0187b",
        "name": "",
        "x": 3420,
        "y": 3160,
        "wires": [
            [
                "f6465cef2e0631c0",
                "1ad0402c6eac4a81"
            ],
            [
                "275cac78bf29b682"
            ]
        ]
    },
    {
        "id": "f6465cef2e0631c0",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "7dbb9c6933b0187b",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3850,
        "y": 3160,
        "wires": []
    },
    {
        "id": "2fee73769422c35f",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "7dbb9c6933b0187b",
        "name": "link to event",
        "rules": [
            {
                "t": "set",
                "p": "args",
                "pt": "msg",
                "to": "{\t   \"object_name\": \"event_regulatory_objective__v\",\t   \"keep\": \"false\"\t}",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "ros.{\t   \"regulatory_objective__v\": id,\t   \"event__v\": $$.event.id\t}[]\t\t",
                "tot": "jsonata",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3170,
        "y": 2980,
        "wires": [
            [
                "a539cc3ec7312d9d"
            ]
        ]
    },
    {
        "id": "a539cc3ec7312d9d",
        "type": "brave-create-vobject",
        "z": "2c4527dad914ec1c",
        "g": "7dbb9c6933b0187b",
        "name": "",
        "x": 3420,
        "y": 2980,
        "wires": [
            [
                "dda0db44b7fc76a2",
                "3d776d3161996ac6"
            ],
            [
                "275cac78bf29b682"
            ]
        ]
    },
    {
        "id": "3d776d3161996ac6",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "7dbb9c6933b0187b",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3850,
        "y": 2980,
        "wires": []
    },
    {
        "id": "1ad0402c6eac4a81",
        "type": "link out",
        "z": "2c4527dad914ec1c",
        "g": "5e4f497cc3eacc9e",
        "name": "link out 10",
        "mode": "link",
        "links": [
            "c3df4ccf459db19f"
        ],
        "x": 3825,
        "y": 3240,
        "wires": []
    },
    {
        "id": "147046e7feeea1d8",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "fa41432bb855af38",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"select id, name__v, application__c, application__cr.application_type__rim from application_clinical_study__c where application__cr.application_type__rim='A0V000000004004'\" & \"and clinical_study__c='\" & study_id & \"'\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1420,
        "y": 1020,
        "wires": [
            [
                "181528ce036da672"
            ]
        ]
    },
    {
        "id": "181528ce036da672",
        "type": "brave-vql-query",
        "z": "2c4527dad914ec1c",
        "g": "fa41432bb855af38",
        "name": "",
        "x": 1610,
        "y": 1020,
        "wires": [
            [
                "14f990ede77e57be",
                "0979b10c1cae59a9"
            ],
            [
                "ec46849d03dc97ee"
            ]
        ]
    },
    {
        "id": "14f990ede77e57be",
        "type": "switch",
        "z": "2c4527dad914ec1c",
        "g": "fa41432bb855af38",
        "name": "Check if CTR exists",
        "property": "$count(payload.data)",
        "propertyType": "jsonata",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1630,
        "y": 1100,
        "wires": [
            [
                "877d493c814eb116"
            ],
            [
                "bc0df4977aee6128"
            ]
        ]
    },
    {
        "id": "bc0df4977aee6128",
        "type": "change",
        "z": "2c4527dad914ec1c",
        "g": "fa41432bb855af38",
        "name": "Select non-CTR directly",
        "rules": [
            {
                "t": "set",
                "p": "headers",
                "pt": "msg",
                "to": "{\t   \"location\":\"/nodes/cta/ctd?study_id=\" & study_id & \"&created_event_id=\" & event_id & \"&job_type=\" & job.job_type & \"&job_scope=\" & job.job_scope\t}",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "statusCode",
                "pt": "msg",
                "to": "303",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1850,
        "y": 1140,
        "wires": [
            [
                "ac5f910b06d8544b"
            ]
        ]
    },
    {
        "id": "ac5f910b06d8544b",
        "type": "http response",
        "z": "2c4527dad914ec1c",
        "g": "fa41432bb855af38",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 2070,
        "y": 1140,
        "wires": []
    },
    {
        "id": "db236dd4e340124a",
        "type": "http in",
        "z": "2c4527dad914ec1c",
        "g": "23b14172f95f39ef",
        "name": "",
        "url": "cta/ctd",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 1350,
        "y": 1920,
        "wires": [
            [
                "959da61bde9bb8b0"
            ]
        ]
    },
    {
        "id": "0979b10c1cae59a9",
        "type": "debug",
        "z": "2c4527dad914ec1c",
        "g": "fa41432bb855af38",
        "name": "debug 477",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2090,
        "y": 1000,
        "wires": []
    },
    {
        "id": "85640bd8837293e1",
        "type": "e-mail",
        "z": "b0c6d4cf1e903799",
        "server": "ebr.bayer.com",
        "port": "2525",
        "authtype": "BASIC",
        "saslformat": false,
        "token": "token",
        "secure": false,
        "tls": true,
        "name": "di.wang3@bayer.com",
        "dname": "test mail",
        "x": 580,
        "y": 480,
        "wires": []
    },
    {
        "id": "ae865b4436f4ee7c",
        "type": "inject",
        "z": "b0c6d4cf1e903799",
        "name": "",
        "props": [],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 130,
        "y": 460,
        "wires": [
            [
                "9a28dcc04200b78e"
            ]
        ]
    },
    {
        "id": "c250552ef17f95cf",
        "type": "debug",
        "z": "b0c6d4cf1e903799",
        "name": "debug 476",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 570,
        "y": 400,
        "wires": []
    },
    {
        "id": "9a28dcc04200b78e",
        "type": "change",
        "z": "b0c6d4cf1e903799",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "<html xmlns:v=\"urn:schemas-microsoft-com:vml\" xmlns:o=\"urn:schemas-microsoft-com:office:office\" xmlns:w=\"urn:schemas-microsoft-com:office:word\" xmlns:dt=\"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882\" xmlns:m=\"http://schemas.microsoft.com/office/2004/12/omml\" xmlns=\"http://www.w3.org/TR/REC-html40\">  <head> <meta http-equiv=Content-Type content=\"text/html; charset=windows-1252\"> <meta name=ProgId content=Word.Document> <meta name=Generator content=\"Microsoft Word 15\"> <meta name=Originator content=\"Microsoft Word 15\"> <link rel=File-List href=\"BRAVE%20records%20created%20for%20CMC%20REC%20xxxxx%20CA%20xxxxx%20-%20product%20names_files/filelist.xml\"> <!--[if gte mso 9]><xml>  <o:OfficeDocumentSettings>   <o:AllowPNG/>  </o:OfficeDocumentSettings> </xml><![endif]--> <link rel=themeData href=\"BRAVE%20records%20created%20for%20CMC%20REC%20xxxxx%20CA%20xxxxx%20-%20product%20names_files/themedata.thmx\"> <link rel=colorSchemeMapping href=\"BRAVE%20records%20created%20for%20CMC%20REC%20xxxxx%20CA%20xxxxx%20-%20product%20names_files/colorschememapping.xml\"> <!--[if gte mso 9]><xml>  <w:WordDocument>   <w:View>Print</w:View>   <w:Zoom>170</w:Zoom>   <w:SpellingState>Clean</w:SpellingState>   <w:GrammarState>Clean</w:GrammarState>   <w:DocumentKind>DocumentEmail</w:DocumentKind>   <w:TrackMoves>false</w:TrackMoves>   <w:TrackFormatting/>   <w:HyphenationZone>21</w:HyphenationZone>   <w:PunctuationKerning/>   <w:ValidateAgainstSchemas/>   <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>   <w:IgnoreMixedContent>false</w:IgnoreMixedContent>   <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>   <w:DoNotPromoteQF/>   <w:LidThemeOther>EN-US</w:LidThemeOther>   <w:LidThemeAsian>ZH-CN</w:LidThemeAsian>   <w:LidThemeComplexScript>X-NONE</w:LidThemeComplexScript>   <w:Compatibility>    <w:DoNotExpandShiftReturn/>    <w:BreakWrappedTables/>    <w:SnapToGridInCell/>    <w:WrapTextWithPunct/>    <w:UseAsianBreakRules/>    <w:DontGrowAutofit/>    <w:SplitPgBreakAndParaMark/>    <w:EnableOpenTypeKerning/>    <w:DontFlipMirrorIndents/>    <w:OverrideTableStyleHps/>    <w:UseFELayout/>   </w:Compatibility>   <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>   <m:mathPr>    <m:mathFont m:val=\"Cambria Math\"/>    <m:brkBin m:val=\"before\"/>    <m:brkBinSub m:val=\"&#45;-\"/>    <m:smallFrac m:val=\"off\"/>    <m:dispDef/>    <m:lMargin m:val=\"0\"/>    <m:rMargin m:val=\"0\"/>    <m:defJc m:val=\"centerGroup\"/>    <m:wrapIndent m:val=\"1440\"/>    <m:intLim m:val=\"subSup\"/>    <m:naryLim m:val=\"undOvr\"/>   </m:mathPr></w:WordDocument> </xml><![endif]--><!--[if gte mso 9]><xml>  <w:LatentStyles DefLockedState=\"false\" DefUnhideWhenUsed=\"false\"   DefSemiHidden=\"false\" DefQFormat=\"false\" DefPriority=\"99\"   LatentStyleCount=\"376\">   <w:LsdException Locked=\"false\" Priority=\"0\" QFormat=\"true\" Name=\"Normal\"/>   <w:LsdException Locked=\"false\" Priority=\"9\" QFormat=\"true\" Name=\"heading 1\"/>   <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"    UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 2\"/>   <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"    UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 3\"/>   <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"    UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 4\"/>   <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"    UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 5\"/>   <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"    UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 6\"/>   <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"    UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 7\"/>   <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"    UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 8\"/>   <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"    UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 9\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"index 1\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"index 2\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"index 3\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"index 4\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"index 5\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"index 6\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"index 7\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"index 8\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"index 9\"/>   <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"    UnhideWhenUsed=\"true\" Name=\"toc 1\"/>   <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"    UnhideWhenUsed=\"true\" Name=\"toc 2\"/>   <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"    UnhideWhenUsed=\"true\" Name=\"toc 3\"/>   <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"    UnhideWhenUsed=\"true\" Name=\"toc 4\"/>   <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"    UnhideWhenUsed=\"true\" Name=\"toc 5\"/>   <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"    UnhideWhenUsed=\"true\" Name=\"toc 6\"/>   <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"    UnhideWhenUsed=\"true\" Name=\"toc 7\"/>   <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"    UnhideWhenUsed=\"true\" Name=\"toc 8\"/>   <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"    UnhideWhenUsed=\"true\" Name=\"toc 9\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Normal Indent\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"footnote text\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"annotation text\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"header\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"footer\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"index heading\"/>   <w:LsdException Locked=\"false\" Priority=\"35\" SemiHidden=\"true\"    UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"caption\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"table of figures\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"envelope address\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"envelope return\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"footnote reference\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"annotation reference\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"line number\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"page number\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"endnote reference\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"endnote text\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"table of authorities\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"macro\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"toa heading\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"List\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"List Bullet\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"List Number\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"List 2\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"List 3\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"List 4\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"List 5\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"List Bullet 2\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"List Bullet 3\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"List Bullet 4\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"List Bullet 5\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"List Number 2\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"List Number 3\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"List Number 4\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"List Number 5\"/>   <w:LsdException Locked=\"false\" Priority=\"10\" QFormat=\"true\" Name=\"Title\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Closing\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Signature\"/>   <w:LsdException Locked=\"false\" Priority=\"1\" SemiHidden=\"true\"    UnhideWhenUsed=\"true\" Name=\"Default Paragraph Font\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Body Text\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Body Text Indent\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"List Continue\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"List Continue 2\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"List Continue 3\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"List Continue 4\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"List Continue 5\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Message Header\"/>   <w:LsdException Locked=\"false\" Priority=\"11\" QFormat=\"true\" Name=\"Subtitle\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Salutation\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Date\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Body Text First Indent\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Body Text First Indent 2\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Note Heading\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Body Text 2\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Body Text 3\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Body Text Indent 2\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Body Text Indent 3\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Block Text\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Hyperlink\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"FollowedHyperlink\"/>   <w:LsdException Locked=\"false\" Priority=\"22\" QFormat=\"true\" Name=\"Strong\"/>   <w:LsdException Locked=\"false\" Priority=\"20\" QFormat=\"true\" Name=\"Emphasis\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Document Map\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Plain Text\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"E-mail Signature\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"HTML Top of Form\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"HTML Bottom of Form\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Normal (Web)\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"HTML Acronym\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"HTML Address\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"HTML Cite\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"HTML Code\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"HTML Definition\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"HTML Keyboard\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"HTML Preformatted\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"HTML Sample\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"HTML Typewriter\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"HTML Variable\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Normal Table\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"annotation subject\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"No List\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Outline List 1\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Outline List 2\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Outline List 3\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Simple 1\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Simple 2\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Simple 3\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Classic 1\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Classic 2\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Classic 3\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Classic 4\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Colorful 1\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Colorful 2\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Colorful 3\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Columns 1\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Columns 2\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Columns 3\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Columns 4\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Columns 5\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Grid 1\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Grid 2\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Grid 3\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Grid 4\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Grid 5\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Grid 6\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Grid 7\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Grid 8\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table List 1\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table List 2\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table List 3\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table List 4\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table List 5\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table List 6\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table List 7\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table List 8\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table 3D effects 1\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table 3D effects 2\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table 3D effects 3\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Contemporary\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Elegant\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Professional\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Subtle 1\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Subtle 2\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Web 1\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Web 2\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Web 3\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Balloon Text\"/>   <w:LsdException Locked=\"false\" Priority=\"39\" Name=\"Table Grid\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Theme\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" Name=\"Placeholder Text\"/>   <w:LsdException Locked=\"false\" Priority=\"1\" QFormat=\"true\" Name=\"No Spacing\"/>   <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading\"/>   <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List\"/>   <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid\"/>   <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1\"/>   <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2\"/>   <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1\"/>   <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2\"/>   <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1\"/>   <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2\"/>   <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3\"/>   <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List\"/>   <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading\"/>   <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List\"/>   <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid\"/>   <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1 Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2 Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1 Accent 1\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" Name=\"Revision\"/>   <w:LsdException Locked=\"false\" Priority=\"34\" QFormat=\"true\"    Name=\"List Paragraph\"/>   <w:LsdException Locked=\"false\" Priority=\"29\" QFormat=\"true\" Name=\"Quote\"/>   <w:LsdException Locked=\"false\" Priority=\"30\" QFormat=\"true\"    Name=\"Intense Quote\"/>   <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2 Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1 Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2 Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3 Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1 Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2 Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1 Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2 Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1 Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2 Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3 Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1 Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2 Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1 Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2 Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1 Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2 Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3 Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1 Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2 Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1 Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2 Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1 Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2 Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3 Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1 Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2 Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1 Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2 Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1 Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2 Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3 Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1 Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2 Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1 Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2 Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1 Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2 Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3 Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"19\" QFormat=\"true\"    Name=\"Subtle Emphasis\"/>   <w:LsdException Locked=\"false\" Priority=\"21\" QFormat=\"true\"    Name=\"Intense Emphasis\"/>   <w:LsdException Locked=\"false\" Priority=\"31\" QFormat=\"true\"    Name=\"Subtle Reference\"/>   <w:LsdException Locked=\"false\" Priority=\"32\" QFormat=\"true\"    Name=\"Intense Reference\"/>   <w:LsdException Locked=\"false\" Priority=\"33\" QFormat=\"true\" Name=\"Book Title\"/>   <w:LsdException Locked=\"false\" Priority=\"37\" SemiHidden=\"true\"    UnhideWhenUsed=\"true\" Name=\"Bibliography\"/>   <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"    UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"TOC Heading\"/>   <w:LsdException Locked=\"false\" Priority=\"41\" Name=\"Plain Table 1\"/>   <w:LsdException Locked=\"false\" Priority=\"42\" Name=\"Plain Table 2\"/>   <w:LsdException Locked=\"false\" Priority=\"43\" Name=\"Plain Table 3\"/>   <w:LsdException Locked=\"false\" Priority=\"44\" Name=\"Plain Table 4\"/>   <w:LsdException Locked=\"false\" Priority=\"45\" Name=\"Plain Table 5\"/>   <w:LsdException Locked=\"false\" Priority=\"40\" Name=\"Grid Table Light\"/>   <w:LsdException Locked=\"false\" Priority=\"46\" Name=\"Grid Table 1 Light\"/>   <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2\"/>   <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3\"/>   <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4\"/>   <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark\"/>   <w:LsdException Locked=\"false\" Priority=\"51\" Name=\"Grid Table 6 Colorful\"/>   <w:LsdException Locked=\"false\" Priority=\"52\" Name=\"Grid Table 7 Colorful\"/>   <w:LsdException Locked=\"false\" Priority=\"46\"    Name=\"Grid Table 1 Light Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2 Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3 Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4 Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"51\"    Name=\"Grid Table 6 Colorful Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"52\"    Name=\"Grid Table 7 Colorful Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"46\"    Name=\"Grid Table 1 Light Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2 Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3 Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4 Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"51\"    Name=\"Grid Table 6 Colorful Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"52\"    Name=\"Grid Table 7 Colorful Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"46\"    Name=\"Grid Table 1 Light Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2 Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3 Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4 Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"51\"    Name=\"Grid Table 6 Colorful Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"52\"    Name=\"Grid Table 7 Colorful Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"46\"    Name=\"Grid Table 1 Light Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2 Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3 Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4 Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"51\"    Name=\"Grid Table 6 Colorful Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"52\"    Name=\"Grid Table 7 Colorful Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"46\"    Name=\"Grid Table 1 Light Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2 Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3 Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4 Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"51\"    Name=\"Grid Table 6 Colorful Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"52\"    Name=\"Grid Table 7 Colorful Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"46\"    Name=\"Grid Table 1 Light Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2 Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3 Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4 Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"51\"    Name=\"Grid Table 6 Colorful Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"52\"    Name=\"Grid Table 7 Colorful Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"46\" Name=\"List Table 1 Light\"/>   <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2\"/>   <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3\"/>   <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4\"/>   <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark\"/>   <w:LsdException Locked=\"false\" Priority=\"51\" Name=\"List Table 6 Colorful\"/>   <w:LsdException Locked=\"false\" Priority=\"52\" Name=\"List Table 7 Colorful\"/>   <w:LsdException Locked=\"false\" Priority=\"46\"    Name=\"List Table 1 Light Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2 Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3 Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4 Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"51\"    Name=\"List Table 6 Colorful Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"52\"    Name=\"List Table 7 Colorful Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"46\"    Name=\"List Table 1 Light Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2 Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3 Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4 Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"51\"    Name=\"List Table 6 Colorful Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"52\"    Name=\"List Table 7 Colorful Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"46\"    Name=\"List Table 1 Light Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2 Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3 Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4 Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"51\"    Name=\"List Table 6 Colorful Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"52\"    Name=\"List Table 7 Colorful Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"46\"    Name=\"List Table 1 Light Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2 Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3 Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4 Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"51\"    Name=\"List Table 6 Colorful Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"52\"    Name=\"List Table 7 Colorful Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"46\"    Name=\"List Table 1 Light Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2 Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3 Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4 Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"51\"    Name=\"List Table 6 Colorful Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"52\"    Name=\"List Table 7 Colorful Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"46\"    Name=\"List Table 1 Light Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2 Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3 Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4 Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"51\"    Name=\"List Table 6 Colorful Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"52\"    Name=\"List Table 7 Colorful Accent 6\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Mention\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Smart Hyperlink\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Hashtag\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Unresolved Mention\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Smart Link\"/>  </w:LatentStyles> </xml><![endif]--> <style> <!--  /* Font Definitions */  @font-face \t{font-family:Wingdings; \tpanose-1:5 0 0 0 0 0 0 0 0 0; \tmso-font-charset:2; \tmso-generic-font-family:auto; \tmso-font-pitch:variable; \tmso-font-signature:0 268435456 0 0 -2147483648 0;} @font-face \t{font-family:\"Cambria Math\"; \tpanose-1:2 4 5 3 5 4 6 3 2 4; \tmso-font-charset:0; \tmso-generic-font-family:roman; \tmso-font-pitch:variable; \tmso-font-signature:3 0 0 0 1 0;} @font-face \t{font-family:DengXian; \tpanose-1:2 1 6 0 3 1 1 1 1 1; \tmso-font-alt:\\7B49\\7EBF; \tmso-font-charset:134; \tmso-generic-font-family:auto; \tmso-font-pitch:variable; \tmso-font-signature:-1610612033 953122042 22 0 262159 0;} @font-face \t{font-family:Calibri; \tpanose-1:2 15 5 2 2 2 4 3 2 4; \tmso-font-charset:0; \tmso-generic-font-family:swiss; \tmso-font-pitch:variable; \tmso-font-signature:-469750017 -1073732485 9 0 511 0;} @font-face \t{font-family:\"\\@DengXian\"; \tpanose-1:2 1 6 0 3 1 1 1 1 1; \tmso-font-charset:134; \tmso-generic-font-family:auto; \tmso-font-pitch:variable; \tmso-font-signature:-1610612033 953122042 22 0 262159 0;} @font-face \t{font-family:Consolas; \tpanose-1:2 11 6 9 2 2 4 3 2 4; \tmso-font-charset:0; \tmso-generic-font-family:modern; \tmso-font-pitch:fixed; \tmso-font-signature:-536869121 64767 1 0 415 0;}  /* Style Definitions */  p.MsoNormal, li.MsoNormal, div.MsoNormal \t{mso-style-unhide:no; \tmso-style-qformat:yes; \tmso-style-parent:\"\"; \tmargin:0in; \tmso-pagination:widow-orphan; \tfont-size:11.0pt; \tfont-family:\"Calibri\",sans-serif; \tmso-ascii-font-family:Calibri; \tmso-ascii-theme-font:minor-latin; \tmso-fareast-font-family:\"Times New Roman\"; \tmso-fareast-theme-font:minor-fareast; \tmso-hansi-font-family:Calibri; \tmso-hansi-theme-font:minor-latin; \tmso-bidi-font-family:\"Times New Roman\"; \tmso-bidi-theme-font:minor-bidi;} a:link, span.MsoHyperlink \t{mso-style-noshow:yes; \tmso-style-priority:99; \tcolor:#0563C1; \tmso-themecolor:hyperlink; \ttext-decoration:underline; \ttext-underline:single;} a:visited, span.MsoHyperlinkFollowed \t{mso-style-noshow:yes; \tmso-style-priority:99; \tcolor:#954F72; \tmso-themecolor:followedhyperlink; \ttext-decoration:underline; \ttext-underline:single;} p.MsoPlainText, li.MsoPlainText, div.MsoPlainText \t{mso-style-noshow:yes; \tmso-style-priority:99; \tmso-style-link:\"Plain Text Char\"; \tmargin:0in; \tmso-pagination:widow-orphan; \tfont-size:11.0pt; \tfont-family:\"Calibri\",sans-serif; \tmso-ascii-font-family:Calibri; \tmso-ascii-theme-font:minor-latin; \tmso-fareast-font-family:\"Times New Roman\"; \tmso-fareast-theme-font:minor-fareast; \tmso-hansi-font-family:Calibri; \tmso-hansi-theme-font:minor-latin; \tmso-bidi-font-family:\"Times New Roman\"; \tmso-bidi-theme-font:minor-bidi;} p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph \t{mso-style-priority:34; \tmso-style-unhide:no; \tmso-style-qformat:yes; \tmargin-top:0in; \tmargin-right:0in; \tmargin-bottom:0in; \tmargin-left:.5in; \tmso-pagination:widow-orphan; \tfont-size:11.0pt; \tfont-family:\"Calibri\",sans-serif; \tmso-fareast-font-family:Calibri; \tmso-fareast-theme-font:minor-latin;} p.msonormal0, li.msonormal0, div.msonormal0 \t{mso-style-name:msonormal; \tmso-style-unhide:no; \tmso-margin-top-alt:auto; \tmargin-right:0in; \tmso-margin-bottom-alt:auto; \tmargin-left:0in; \tmso-pagination:widow-orphan; \tfont-size:11.0pt; \tfont-family:\"Calibri\",sans-serif; \tmso-fareast-font-family:\"Times New Roman\"; \tmso-fareast-theme-font:minor-fareast;} span.PlainTextChar \t{mso-style-name:\"Plain Text Char\"; \tmso-style-noshow:yes; \tmso-style-priority:99; \tmso-style-unhide:no; \tmso-style-locked:yes; \tmso-style-link:\"Plain Text\"; \tfont-family:\"Calibri\",sans-serif; \tmso-ascii-font-family:Calibri; \tmso-hansi-font-family:Calibri; \tmso-bidi-font-family:Calibri;} span.NurTextZchn \t{mso-style-name:\"Nur Text Zchn\"; \tmso-style-noshow:yes; \tmso-style-priority:99; \tmso-style-unhide:no; \tmso-style-locked:yes; \tmso-style-link:\"Nur Text\"; \tmso-ansi-font-size:10.5pt; \tmso-bidi-font-size:10.5pt; \tfont-family:Consolas; \tmso-ascii-font-family:Consolas; \tmso-hansi-font-family:Consolas;} p.NurText, li.NurText, div.NurText \t{mso-style-name:\"Nur Text\"; \tmso-style-unhide:no; \tmso-style-link:\"Nur Text Zchn\"; \tmargin:0in; \tmso-pagination:widow-orphan; \tfont-size:11.0pt; \tfont-family:\"Calibri\",sans-serif; \tmso-ascii-font-family:Calibri; \tmso-ascii-theme-font:minor-latin; \tmso-fareast-font-family:\"Times New Roman\"; \tmso-fareast-theme-font:minor-fareast; \tmso-hansi-font-family:Calibri; \tmso-hansi-theme-font:minor-latin; \tmso-bidi-font-family:\"Times New Roman\"; \tmso-bidi-theme-font:minor-bidi;} span.emailstyle23 \t{mso-style-name:emailstyle23; \tmso-style-noshow:yes; \tmso-style-unhide:no; \tmso-ansi-font-size:11.0pt; \tmso-bidi-font-size:11.0pt; \tfont-family:\"Calibri\",sans-serif; \tmso-ascii-font-family:Calibri; \tmso-ascii-theme-font:minor-latin; \tmso-fareast-font-family:\"Times New Roman\"; \tmso-fareast-theme-font:minor-fareast; \tmso-hansi-font-family:Calibri; \tmso-hansi-theme-font:minor-latin; \tmso-bidi-font-family:\"Times New Roman\"; \tmso-bidi-theme-font:minor-bidi; \tcolor:windowtext;} span.emailstyle24 \t{mso-style-name:emailstyle24; \tmso-style-noshow:yes; \tmso-style-unhide:no; \tmso-ansi-font-size:11.0pt; \tmso-bidi-font-size:11.0pt; \tfont-family:\"Calibri\",sans-serif; \tmso-ascii-font-family:Calibri; \tmso-ascii-theme-font:minor-latin; \tmso-fareast-font-family:\"Times New Roman\"; \tmso-fareast-theme-font:minor-fareast; \tmso-hansi-font-family:Calibri; \tmso-hansi-theme-font:minor-latin; \tmso-bidi-font-family:\"Times New Roman\"; \tmso-bidi-theme-font:minor-bidi; \tcolor:windowtext;} span.emailstyle25 \t{mso-style-name:emailstyle25; \tmso-style-noshow:yes; \tmso-style-unhide:no; \tmso-ansi-font-size:11.0pt; \tmso-bidi-font-size:11.0pt; \tfont-family:\"Calibri\",sans-serif; \tmso-ascii-font-family:Calibri; \tmso-ascii-theme-font:minor-latin; \tmso-fareast-font-family:Calibri; \tmso-fareast-theme-font:minor-latin; \tmso-hansi-font-family:Calibri; \tmso-hansi-theme-font:minor-latin; \tmso-bidi-font-family:\"Times New Roman\"; \tmso-bidi-theme-font:minor-bidi; \tcolor:windowtext;} span.ui-provider \t{mso-style-name:ui-provider; \tmso-style-unhide:no;} span.SpellE \t{mso-style-name:\"\"; \tmso-spl-e:yes;} span.GramE \t{mso-style-name:\"\"; \tmso-gram-e:yes;} .MsoChpDefault \t{mso-style-type:export-only; \tmso-default-props:yes; \tfont-size:10.0pt; \tmso-ansi-font-size:10.0pt; \tmso-bidi-font-size:10.0pt; \tfont-family:\"Calibri\",sans-serif; \tmso-ascii-font-family:Calibri; \tmso-ascii-theme-font:minor-latin; \tmso-fareast-font-family:\"Times New Roman\"; \tmso-fareast-theme-font:minor-fareast; \tmso-hansi-font-family:Calibri; \tmso-hansi-theme-font:minor-latin; \tmso-bidi-font-family:\"Times New Roman\"; \tmso-bidi-theme-font:minor-bidi;} @page WordSection1 \t{size:8.5in 11.0in; \tmargin:1.0in 1.25in 1.0in 1.25in; \tmso-header-margin:.5in; \tmso-footer-margin:.5in; \tmso-paper-source:0;} div.WordSection1 \t{page:WordSection1;}  /* List Definitions */  @list l0 \t{mso-list-id:285697380; \tmso-list-template-ids:-593693194;} @list l0:level1 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0B7; \tmso-level-tab-stop:.5in; \tmso-level-number-position:left; \ttext-indent:-.25in; \tmso-ansi-font-size:10.0pt; \tfont-family:Symbol;} @list l0:level2 \t{mso-level-number-format:bullet; \tmso-level-text:o; \tmso-level-tab-stop:1.0in; \tmso-level-number-position:left; \ttext-indent:-.25in; \tmso-ansi-font-size:10.0pt; \tfont-family:\"Courier New\"; \tmso-bidi-font-family:\"Times New Roman\";} @list l0:level3 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0A7; \tmso-level-tab-stop:1.5in; \tmso-level-number-position:left; \ttext-indent:-.25in; \tmso-ansi-font-size:10.0pt; \tfont-family:Wingdings;} @list l0:level4 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0A7; \tmso-level-tab-stop:2.0in; \tmso-level-number-position:left; \ttext-indent:-.25in; \tmso-ansi-font-size:10.0pt; \tfont-family:Wingdings;} @list l0:level5 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0A7; \tmso-level-tab-stop:2.5in; \tmso-level-number-position:left; \ttext-indent:-.25in; \tmso-ansi-font-size:10.0pt; \tfont-family:Wingdings;} @list l0:level6 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0A7; \tmso-level-tab-stop:3.0in; \tmso-level-number-position:left; \ttext-indent:-.25in; \tmso-ansi-font-size:10.0pt; \tfont-family:Wingdings;} @list l0:level7 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0A7; \tmso-level-tab-stop:3.5in; \tmso-level-number-position:left; \ttext-indent:-.25in; \tmso-ansi-font-size:10.0pt; \tfont-family:Wingdings;} @list l0:level8 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0A7; \tmso-level-tab-stop:4.0in; \tmso-level-number-position:left; \ttext-indent:-.25in; \tmso-ansi-font-size:10.0pt; \tfont-family:Wingdings;} @list l0:level9 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0A7; \tmso-level-tab-stop:4.5in; \tmso-level-number-position:left; \ttext-indent:-.25in; \tmso-ansi-font-size:10.0pt; \tfont-family:Wingdings;} @list l1 \t{mso-list-id:547961514; \tmso-list-template-ids:-1160759322;} @list l1:level1 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0B7; \tmso-level-tab-stop:.5in; \tmso-level-number-position:left; \ttext-indent:-.25in; \tmso-ansi-font-size:10.0pt; \tfont-family:Symbol;} @list l1:level2 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0B7; \tmso-level-tab-stop:1.0in; \tmso-level-number-position:left; \ttext-indent:-.25in; \tmso-ansi-font-size:10.0pt; \tfont-family:Symbol;} @list l1:level3 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0B7; \tmso-level-tab-stop:1.5in; \tmso-level-number-position:left; \ttext-indent:-.25in; \tmso-ansi-font-size:10.0pt; \tfont-family:Symbol;} @list l1:level4 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0B7; \tmso-level-tab-stop:2.0in; \tmso-level-number-position:left; \ttext-indent:-.25in; \tmso-ansi-font-size:10.0pt; \tfont-family:Symbol;} @list l1:level5 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0B7; \tmso-level-tab-stop:2.5in; \tmso-level-number-position:left; \ttext-indent:-.25in; \tmso-ansi-font-size:10.0pt; \tfont-family:Symbol;} @list l1:level6 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0B7; \tmso-level-tab-stop:3.0in; \tmso-level-number-position:left; \ttext-indent:-.25in; \tmso-ansi-font-size:10.0pt; \tfont-family:Symbol;} @list l1:level7 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0B7; \tmso-level-tab-stop:3.5in; \tmso-level-number-position:left; \ttext-indent:-.25in; \tmso-ansi-font-size:10.0pt; \tfont-family:Symbol;} @list l1:level8 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0B7; \tmso-level-tab-stop:4.0in; \tmso-level-number-position:left; \ttext-indent:-.25in; \tmso-ansi-font-size:10.0pt; \tfont-family:Symbol;} @list l1:level9 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0B7; \tmso-level-tab-stop:4.5in; \tmso-level-number-position:left; \ttext-indent:-.25in; \tmso-ansi-font-size:10.0pt; \tfont-family:Symbol;} @list l2 \t{mso-list-id:1280641743; \tmso-list-template-ids:-1063386642;} @list l2:level1 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0B7; \tmso-level-tab-stop:.5in; \tmso-level-number-position:left; \ttext-indent:-.25in; \tmso-ansi-font-size:10.0pt; \tfont-family:Symbol;} @list l2:level2 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0B7; \tmso-level-tab-stop:1.0in; \tmso-level-number-position:left; \ttext-indent:-.25in; \tmso-ansi-font-size:10.0pt; \tfont-family:Symbol;} @list l2:level3 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0B7; \tmso-level-tab-stop:1.5in; \tmso-level-number-position:left; \ttext-indent:-.25in; \tmso-ansi-font-size:10.0pt; \tfont-family:Symbol;} @list l2:level4 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0B7; \tmso-level-tab-stop:2.0in; \tmso-level-number-position:left; \ttext-indent:-.25in; \tmso-ansi-font-size:10.0pt; \tfont-family:Symbol;} @list l2:level5 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0B7; \tmso-level-tab-stop:2.5in; \tmso-level-number-position:left; \ttext-indent:-.25in; \tmso-ansi-font-size:10.0pt; \tfont-family:Symbol;} @list l2:level6 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0B7; \tmso-level-tab-stop:3.0in; \tmso-level-number-position:left; \ttext-indent:-.25in; \tmso-ansi-font-size:10.0pt; \tfont-family:Symbol;} @list l2:level7 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0B7; \tmso-level-tab-stop:3.5in; \tmso-level-number-position:left; \ttext-indent:-.25in; \tmso-ansi-font-size:10.0pt; \tfont-family:Symbol;} @list l2:level8 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0B7; \tmso-level-tab-stop:4.0in; \tmso-level-number-position:left; \ttext-indent:-.25in; \tmso-ansi-font-size:10.0pt; \tfont-family:Symbol;} @list l2:level9 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0B7; \tmso-level-tab-stop:4.5in; \tmso-level-number-position:left; \ttext-indent:-.25in; \tmso-ansi-font-size:10.0pt; \tfont-family:Symbol;} @list l3 \t{mso-list-id:1918980828; \tmso-list-type:hybrid; \tmso-list-template-ids:546440888 1171011986 67567619 67567621 67567617 67567619 67567621 67567617 67567619 67567621;} @list l3:level1 \t{mso-level-start-at:0; \tmso-level-number-format:bullet; \tmso-level-text:-; \tmso-level-tab-stop:none; \tmso-level-number-position:left; \ttext-indent:-.25in; \tfont-family:\"Calibri\",sans-serif; \tmso-fareast-font-family:DengXian;} @list l3:level2 \t{mso-level-number-format:bullet; \tmso-level-text:o; \tmso-level-tab-stop:none; \tmso-level-number-position:left; \ttext-indent:-.25in; \tfont-family:\"Courier New\";} @list l3:level3 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0A7; \tmso-level-tab-stop:none; \tmso-level-number-position:left; \ttext-indent:-.25in; \tfont-family:Wingdings;} @list l3:level4 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0B7; \tmso-level-tab-stop:none; \tmso-level-number-position:left; \ttext-indent:-.25in; \tfont-family:Symbol;} @list l3:level5 \t{mso-level-number-format:bullet; \tmso-level-text:o; \tmso-level-tab-stop:none; \tmso-level-number-position:left; \ttext-indent:-.25in; \tfont-family:\"Courier New\";} @list l3:level6 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0A7; \tmso-level-tab-stop:none; \tmso-level-number-position:left; \ttext-indent:-.25in; \tfont-family:Wingdings;} @list l3:level7 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0B7; \tmso-level-tab-stop:none; \tmso-level-number-position:left; \ttext-indent:-.25in; \tfont-family:Symbol;} @list l3:level8 \t{mso-level-number-format:bullet; \tmso-level-text:o; \tmso-level-tab-stop:none; \tmso-level-number-position:left; \ttext-indent:-.25in; \tfont-family:\"Courier New\";} @list l3:level9 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0A7; \tmso-level-tab-stop:none; \tmso-level-number-position:left; \ttext-indent:-.25in; \tfont-family:Wingdings;} ol \t{margin-bottom:0in;} ul \t{margin-bottom:0in;} --> </style> <!--[if gte mso 10]> <style>  /* Style Definitions */  table.MsoNormalTable \t{mso-style-name:\"Table Normal\"; \tmso-tstyle-rowband-size:0; \tmso-tstyle-colband-size:0; \tmso-style-noshow:yes; \tmso-style-priority:99; \tmso-style-parent:\"\"; \tmso-padding-alt:0in 5.4pt 0in 5.4pt; \tmso-para-margin:0in; \tmso-pagination:widow-orphan; \tfont-size:10.0pt; \tfont-family:\"Calibri\",sans-serif; \tmso-ascii-font-family:Calibri; \tmso-ascii-theme-font:minor-latin; \tmso-hansi-font-family:Calibri; \tmso-hansi-theme-font:minor-latin; \tmso-bidi-font-family:\"Times New Roman\"; \tmso-bidi-theme-font:minor-bidi;} table.NormaleTabelle \t{mso-style-name:\"Normale Tabelle\"; \tmso-tstyle-rowband-size:0; \tmso-tstyle-colband-size:0; \tmso-style-noshow:yes; \tmso-style-priority:99; \tmso-style-unhide:no; \tmso-style-parent:\"\"; \tmso-padding-alt:0in 5.4pt 0in 5.4pt; \tmso-para-margin:0in; \tmso-pagination:widow-orphan; \tfont-size:10.0pt; \tfont-family:\"Calibri\",sans-serif; \tmso-ascii-font-family:Calibri; \tmso-ascii-theme-font:minor-latin; \tmso-hansi-font-family:Calibri; \tmso-hansi-theme-font:minor-latin; \tmso-bidi-font-family:\"Times New Roman\"; \tmso-bidi-theme-font:minor-bidi;} table.Tabellenraster \t{mso-style-name:Tabellenraster; \tmso-tstyle-rowband-size:0; \tmso-tstyle-colband-size:0; \tmso-style-priority:39; \tmso-style-unhide:no; \tborder:solid windowtext 1.0pt; \tmso-border-alt:solid windowtext .5pt; \tmso-padding-alt:0in 5.4pt 0in 5.4pt; \tmso-border-insideh:.5pt solid windowtext; \tmso-border-insidev:.5pt solid windowtext; \tmso-para-margin:0in; \tmso-pagination:widow-orphan; \tfont-size:10.0pt; \tfont-family:\"Calibri\",sans-serif; \tmso-ascii-font-family:Calibri; \tmso-ascii-theme-font:minor-latin; \tmso-hansi-font-family:Calibri; \tmso-hansi-theme-font:minor-latin; \tmso-bidi-font-family:\"Times New Roman\"; \tmso-bidi-theme-font:minor-bidi;} </style> <![endif]--><!--[if gte mso 9]><xml>  <o:shapedefaults v:ext=\"edit\" spidmax=\"1026\"/> </xml><![endif]--><!--[if gte mso 9]><xml>  <o:shapelayout v:ext=\"edit\">   <o:idmap v:ext=\"edit\" data=\"1\"/>  </o:shapelayout></xml><![endif]--> </head>  <body lang=EN-US link=\"#0563C1\" vlink=\"#954F72\" style='tab-interval:.5in; word-wrap:break-word'>  <div class=WordSection1>  <p class=MsoPlainText><b><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family: Calibri;mso-bidi-font-family:Calibri;color:red'>Country recipients: &lt;emails&gt;<o:p></o:p></span></b></p>  <p class=MsoPlainText><b><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family: Calibri;mso-bidi-font-family:Calibri;color:red'><o:p>&nbsp;</o:p></span></b></p>  <p class=MsoPlainText><b><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family: Calibri;mso-bidi-font-family:Calibri;color:red'>RA CM</span></b><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri;mso-bidi-font-family: Calibri;color:red'> please always copy in Japan in case affected by CA even if no records will be <span class=GramE>created</span> <o:p></o:p></span></p>  <p class=MsoPlainText><b><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family: Calibri;mso-bidi-font-family:Calibri;color:red'>RA CM</span></b><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri;mso-bidi-font-family: Calibri;color:red'> â€“ please include further relevant change specific info <span class=GramE>e.g.</span> only 1 country RA action, all others no action <o:p></o:p></span></p>  <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family: Calibri;mso-bidi-font-family:Calibri'><o:p>&nbsp;</o:p></span></p>  <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family: Calibri;mso-bidi-font-family:Calibri'>Dear colleagues,<o:p></o:p></span></p>  <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family: Calibri;mso-bidi-font-family:Calibri'><o:p>&nbsp;</o:p></span></p>  <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family: Calibri;mso-bidi-font-family:Calibri;mso-fareast-language:KO'>We would like to inform you that Global RA has assessed the following change application relevant for your country. </span><span style='mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri;mso-bidi-font-family:Calibri;color:black'>The respective records in BRAVE are now available i</span><span style='mso-ascii-font-family: Calibri;mso-hansi-font-family:Calibri;mso-bidi-font-family:Calibri'>n status â€œimpact identifiedâ€<span style='color:black'>. Affected product/country records should be visible on your BRAVE homepage.<span style='mso-spacerun:yes'>Â  </span><o:p></o:p></span></span></p>  <p class=MsoPlainText><span class=ui-provider><span style='mso-ascii-font-family: Calibri;mso-hansi-font-family:Calibri;mso-bidi-font-family:Calibri'>The regulatory action for your country as proposed by CAT is given in the â€˜Regulatory assessment per countryâ€™ field.&nbsp;</span></span><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri;mso-bidi-font-family: Calibri;mso-fareast-language:KO'><o:p></o:p></span></p>  <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family: Calibri;mso-bidi-font-family:Calibri;mso-fareast-language:KO'><o:p>&nbsp;</o:p></span></p>  <p class=MsoPlainText><b><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family: Calibri;mso-bidi-font-family:Calibri;mso-fareast-language:KO'>Please note the required dispatch of this variation will follow later via BRAVE GCP/SCP once documentation has been created.<span style='mso-spacerun:yes'>Â  </span></span></b><b><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri;mso-bidi-font-family: Calibri'><o:p></o:p></span></b></p>  <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family: Calibri;mso-bidi-font-family:Calibri'><o:p>&nbsp;</o:p></span></p>  <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family: Calibri;mso-bidi-font-family:Calibri'><o:p>&nbsp;</o:p></span></p>  <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family: Calibri;mso-bidi-font-family:Calibri'>Record details are as follows:<o:p></o:p></span></p>  <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family: Calibri;mso-bidi-font-family:Calibri'><o:p>&nbsp;</o:p></span></p>  <table class=Tabellenraster border=1 cellspacing=0 cellpadding=0  style='margin-left:.5in;border-collapse:collapse;border:none;mso-border-alt:  solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0in 5.4pt 0in 5.4pt'>  <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>   <td width=226 valign=top style='width:169.3pt;border:solid windowtext 1.0pt;   mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>   <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family:   Calibri;mso-bidi-font-family:Calibri'>Regulatory Event   Code:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   <span style='color:#2E75B6'><o:p></o:p></span></span></p>   </td>   <td width=331 valign=top style='width:248.05pt;border:solid windowtext 1.0pt;   border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:   solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>   <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-fareast-font-family:   DengXian;mso-hansi-font-family:Calibri;mso-bidi-font-family:Calibri'>&lt;rec&gt;<o:p></o:p></span></p>   </td>  </tr>  <tr style='mso-yfti-irow:1'>   <td width=226 valign=top style='width:169.3pt;border:solid windowtext 1.0pt;   border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;   padding:0in 5.4pt 0in 5.4pt'>   <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family:   Calibri;mso-bidi-font-family:Calibri'>CA Number:<span style='color:#2E75B6'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   <o:p></o:p></span></span></p>   </td>   <td width=331 valign=top style='width:248.05pt;border-top:none;border-left:   none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;   mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;   mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>   <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family:   Calibri;mso-bidi-font-family:Calibri;color:#4472C4;mso-themecolor:accent1'>&lt;<span   class=SpellE>ca_number</span>&gt;</span><span style='mso-ascii-font-family:   Calibri;mso-hansi-font-family:Calibri;mso-bidi-font-family:Calibri'><o:p></o:p></span></p>   </td>  </tr>  <tr style='mso-yfti-irow:2'>   <td width=226 valign=top style='width:169.3pt;border:solid windowtext 1.0pt;   border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;   padding:0in 5.4pt 0in 5.4pt'>   <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family:   Calibri;mso-bidi-font-family:Calibri'>Products Concerned:<span   style='color:#2E75B6'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <o:p></o:p></span></span></p>   </td>   <td width=331 valign=top style='width:248.05pt;border-top:none;border-left:   none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;   mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;   mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>   <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family:   Calibri;mso-bidi-font-family:Calibri;color:#4472C4;mso-themecolor:accent1'>&lt;products&gt;</span><span   style='mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri;   mso-bidi-font-family:Calibri'><o:p></o:p></span></p>   </td>  </tr>  <tr style='mso-yfti-irow:3;mso-yfti-lastrow:yes'>   <td width=226 valign=top style='width:169.3pt;border:solid windowtext 1.0pt;   border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;   padding:0in 5.4pt 0in 5.4pt'>   <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family:   Calibri;mso-bidi-font-family:Calibri'>Description:<span style='color:#2E75B6'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   <o:p></o:p></span></span></p>   </td>   <td width=331 valign=top style='width:248.05pt;border-top:none;border-left:   none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;   mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;   mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>   <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family:   Calibri;mso-bidi-font-family:Calibri;color:#4472C4;mso-themecolor:accent1'>&lt;<span   class=SpellE>event_description</span>&gt;<o:p></o:p></span></p>   <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family:   Calibri;mso-bidi-font-family:Calibri'><o:p>&nbsp;</o:p></span></p>   <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family:   Calibri;mso-bidi-font-family:Calibri'><o:p>&nbsp;</o:p></span></p>   <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family:   Calibri;mso-bidi-font-family:Calibri'><o:p>&nbsp;</o:p></span></p>   <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family:   Calibri;mso-bidi-font-family:Calibri'><o:p>&nbsp;</o:p></span></p>   <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family:   Calibri;mso-bidi-font-family:Calibri'><o:p>&nbsp;</o:p></span></p>   <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family:   Calibri;mso-bidi-font-family:Calibri'><o:p>&nbsp;</o:p></span></p>   <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family:   Calibri;mso-bidi-font-family:Calibri'><o:p>&nbsp;</o:p></span></p>   <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family:   Calibri;mso-bidi-font-family:Calibri'><o:p>&nbsp;</o:p></span></p>   <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family:   Calibri;mso-bidi-font-family:Calibri'><o:p>&nbsp;</o:p></span></p>   </td>  </tr> </table>  <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family: Calibri;mso-bidi-font-family:Calibri'><o:p>&nbsp;</o:p></span></p>  <p class=MsoNormal><span style='mso-fareast-font-family:\"Times New Roman\"'><o:p>&nbsp;</o:p></span></p>  <p class=MsoNormal><span class=ui-provider>In case the regulatory action as proposed per CATWEB is:</span><span style='mso-fareast-font-family:\"Times New Roman\"'> </span><span style='mso-fareast-font-family:Calibri;mso-fareast-theme-font: minor-latin'><o:p></o:p></span></p>  <p class=MsoNormal style='mso-margin-top-alt:auto;margin-bottom:12.0pt; margin-left:.5in;text-indent:-.25in;mso-list:l3 level1 lfo3'><![if !supportLists]><span style='mso-ascii-font-family:Calibri;mso-fareast-font-family:Calibri; mso-hansi-font-family:Calibri;mso-bidi-font-family:Calibri'><span style='mso-list:Ignore'>-<span style='font:7.0pt \"Times New Roman\"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><span style='mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri;mso-bidi-font-family:Calibri'>â€œDo and Tellâ€ <span class=GramE>( e.g.</span> annual report)&nbsp; - please update BRAVE and set the respective records to â€œgreen lightâ€ if you agree. If the information provided in the description is too limited, please wait until the variation package including the Country Information Letter has been dispatched to your country to set the respective records to â€œgreen lightâ€ in case of agreement.&nbsp;</span><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family: Calibri;mso-bidi-font-family:Calibri;mso-fareast-language:KO'>&quot;Green light&quot; will indicate to product supply that the change can be implemented directly.</span><span style='mso-ascii-font-family:Calibri;mso-fareast-font-family: Calibri;mso-fareast-theme-font:minor-latin;mso-hansi-font-family:Calibri; mso-bidi-font-family:Calibri'><o:p></o:p></span></p>  <ul type=disc>  <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;      mso-list:l0 level1 lfo6;tab-stops:list .5in'><span style='mso-fareast-font-family:      \"Times New Roman\";mso-fareast-language:KO'>â€œno submission/internal      agreementâ€<i> </i><span class=GramE>-&nbsp; <span style='mso-fareast-language:      ZH-CN'>In</span></span></span><span style='mso-fareast-font-family:\"Times New Roman\"'>      that case the variation will not be dispatched to your country. If you      agree to &quot;no action&quot; assessment, the activity lifecycle will be      promoted to â€œgreen lightâ€; Regulatory Objective and Submission object      lifecycle state will be changed to â€œinactiveâ€ <u>centrally</u>. (If the CA      has potential effect on <span class=GramE>labeling</span> please update      the records locally). </span><span style='mso-fareast-font-family:Calibri;      mso-fareast-theme-font:minor-latin'><o:p></o:p></span></li> </ul>  <p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto; margin-left:.5in'>In case you do not agree to the &quot;no action&quot; evaluation, please inform within 5 working days via using the BRAVE workflow.&nbsp;<span style='mso-fareast-font-family:Calibri;mso-fareast-theme-font: minor-latin'><o:p></o:p></span></p>  <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family: Calibri;mso-bidi-font-family:Calibri'><o:p>&nbsp;</o:p></span></p>  <p class=MsoNormal>If you have any further questions, please contact responsible <b><span style='color:#0070C0'>CMC Manager XXXXXXXX</span></b></p>  <p class=MsoNormal><o:p>&nbsp;</o:p></p>  <p class=MsoNormal>Regards</p>  </div>  </body>  </html>",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "test topic",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "token",
                "pt": "msg",
                "to": "eyJ0eXAiOiJKV1QiLCJub25jZSI6ImJBLXkwTkhOd0gzWmxxMlg2LV9HdWNnYWx1eS1JcEpaWS1hNFlsNkhrcTgiLCJhbGciOiJSUzI1NiIsIng1dCI6Ii1LSTNROW5OUjdiUm9meG1lWm9YcWJIWkdldyIsImtpZCI6Ii1LSTNROW5OUjdiUm9meG1lWm9YcWJIWkdldyJ9",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "from",
                "pt": "msg",
                "to": "xiaoli.huang@bayer.com",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 340,
        "y": 480,
        "wires": [
            [
                "85640bd8837293e1",
                "c250552ef17f95cf"
            ]
        ]
    },
    {
        "id": "91a2d84cc573d554",
        "type": "function",
        "z": "b0c6d4cf1e903799",
        "name": "function1",
        "func": "let jsonstring1 = msg.payload.replace(/([0-9]{2}):([0-9]{2}):([0-9]{2})/g, \"$1h$2m$3s\");\nlet jsonstring2 = jsonstring1.replace(/\"(\\w+)\\s?:\\s?(\\w+)\"/g, \"\\\"$1_$2\\\"\");\n\nlet jsonstring3 = jsonstring2.replace(/(?:\\s*['\"]*)?([a-zA-Z0-9_]+)(?:['\"]*\\s*)?:/g, \"\\\"$1\\\":\");\n\nmsg.payload = jsonstring3;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 640,
        "wires": [
            [
                "3f5117f4e3dde220"
            ]
        ]
    },
    {
        "id": "3f5117f4e3dde220",
        "type": "debug",
        "z": "b0c6d4cf1e903799",
        "name": "debug 478",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 690,
        "y": 660,
        "wires": []
    },
    {
        "id": "d84d8a08b55efcfc",
        "type": "inject",
        "z": "b0c6d4cf1e903799",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{ca_id: \"0022485C10641EDCB8C609730D8D177F\", ca_no: \"0202200246\", change_type: \"CMC\", phase: \"INREV\", created_at: \"20220602045559 \", changed_at: \"20230309085426 \", created_by: \"EIHTO\", changed_by: \"EFIZF\", chg_reason: \"TEST\", chg_descr: \"TEST\", short_text: \"00001\", applicant: \"EIHTO\", tec_writer: \"EIHTO\", department: \"Ext: Capgemini\", classification: \"\", responsible: \"USEIHTO\", impl_date: \"00000000\", statm_required: \"X\", last_phase_chg: \"20220602053515 \", resp_gcm: \"EIHTO\", resp_lcm: \"EIHTO\", brain_evtc1: \"00000\", brain_evtc2: \"00000\", brain_evtc3: \"00000\", brain_evtc4: \"00000\", version: \"3\", sc_lcm: \"0087 - Bayer Philippines, Inc., Philippi\", division: \"PH\", confidential: \"N\", proj_txt: \"\", ltext_desc_text: \"\", ltext_reason_text: \"\", ltext_ca_text: \"0022485C10641EDCB8C609730D95B77F\", c_ca_doc: [], c_ca_overview_zip: [             \"504B03041400000008004C451C574645C149BA2D00005E9F00000B00000043415F4F76657276696577ED7D093C54EDDB7FFB428A921232D992C29C7366CECCA81466C62E4444926542F6255152A41221DA6479145A542A592A294AB44885B2564AB4595A5594BCE79C99C18C99D2F37B9EF7FF7BFF1FFA7466CE7DCE7DDDD77DDDD7759DFBCCF97EEF236F4CA52B032A9090807CD38BFB55C887E972334BA410C219DBF9D8B933FC183EBE6A382A5AEA8C1CA532FCFD02BD1838E40C732D1CF247F7F4F0C3E9D00C56D0D03D7B4F37479C819D87138E66845BEEE0E3E2E5A786C3E171CAEAAA5A783C202400223B9EF6EB8404162D121250354345A9A222A80C5FEC6C4F1FA458C3D78181482501646447CBCE4B87E1E2E4CCDE47CF448F2A837812B24B77B373F2C54120FA1591A3A9E91980B3560648489B2048C601783C84A3C0A00DEBB811D2259CAA0EC3CD9FE1E7E260A7AC89288C1CD2F5B3737371D0F0707263E0F0C8FE723F86FB0AA4325148405D5D4880E1E188290DB1B557B570F1D0F0F075A17938783ABA7838F59F42E0D34154E87A7BCC765829620B554D3B5F0666BFC10A31F564DA4C95DD0A0E6DDF146BDDD1CFD95748C01A870749441C1E82902304F41B9148606DC864320E4F0201E41488CC3A85B9410F10C9D0C0BAD8379053C05037FD9231A1FD1B188F34444185626A706D6098C43A85D4774ABF06CC53D0A3645432B31A7A14AB867C1312182CA76F974200D907FA8EF6F77380AE7DFA63DFB0F3B8BE6147B15D6CC36528EC1B66E9FE53FA374C4B734A61F68ECBD2783CEB649044E91F20CC675D7C7CFDB49CED7C982E6E60C7DA034098E5D1FD91830399EE31D0637F17B01E9E3EEE766EFC43166994F8BF14B2308C862C110D593C8E02017C4276E8D10AFF67A138300AC1A14421D3B9388383E91BA8130214F0DF8CC2017539A3103D0AE001D2C080184A14A23E891D65F6E31F8AC27E35B10D81040C8AC2FE90E0EADD805D4C4D74839D877D237309E0CC4FCCF3FAA5A0BBA43E01FD1BE63810C9FD59E28FA39038380A491C9E48777143AEAA3832CB8D0C181E4E7ECE384A7F355F3F1F869DBB904040528B89C974DA9C0950A8C8EE35636467864CA0E24689EC5E1A46B31C2323FCDCDB77514CF74889DD26E62B0FD156E0A43FD1942A0F55888BCD2EB924B41C10AD2227BFFA30CB229D9AE0BDD0130669592B77539B7DF3ABF64915C44E3F44574CF9A0443AB9DA3F51F8E4D21CC1B5B36F684C1B7F6A5FAEF141E16A3B9B13BE2F6F9EDCB56AC2D1AEC8E0115152A745E4835A6F596E3AED4BB52DCA862F9EDDBDF9A5BA45E6A665EF9B6C3EDF127B5D7995A6AABFC6C20FCE8FF4CDE81AE9DF2A0F65A7C44F5C589B9DB49D5AAD568EEFDAB3FEFD4812585497593BAA7BCDE1B62BEB4B6C6354BF421AFB334305CD36AA3EBBFE68A1C7A842FB0BE61F2CABE3BF5FC92BB1CD4B3F9EE2F0CC49AB951473BF5EE8ECBB9D4DAB9A7BF032935EC49BC4B46A96AEBAE67BD8BC3DF878C2EBBF2EB6CDDB589171E56373E11369F3A5DFBD30C3B38DC81E030A7B0C2000EC2F25B34B91304613931F83CA40C29C61D37F0A80E791472C97D9AF633870A4125D773B2746FFF00200E7F802ACECCC4A2A78EC0FC0B3F3080EA4A0AEC5CA9B10404493928B9FAF31C347CBD3DDCBD3034DA05872F574F3F459EE65E7C0C059238D7A383202188E3824C7FABB38304CB53571209188431DCED486DB9BDA6DBE6B4968071F04C695D1AB05A4AEE75C39A52F21FDA664FD02D113DB25EC72E8A3766F5D385E3A6B521ECD6DF48E1BF2DFD61B26FBC6B54ADDEEECE8BE08B713DF7CEFF936E372CCA12787EA0E3DEAB8B7A1F3DCAB4F9151B3B32F4B6F6EFC947C88AAA9F1677F213762FF4ABB72B37BD567E9854FABAA3A12DF4E92DB64F4F96BB2A44EB2DEF1AA8C7D741CA3204E9DB807A8DDB8FEB69A4F4EA1277EAFA1AB55F5948403D5E3C615027E3FF6CBBE75B65D8B6B08934AC870F35873AED7FCF9BC407BC54D4A5249B3E332FCD69DFB7AF455C6F15E4795E9BBA477FBF97BBDA65E9696A57F9E2221A0A0253CF5F8AA63EF8EEE3BD65CF17CF9881F6B122AEB8EC8B607CBAD91949AA5132212E67CE7AFB62DBB9CDF962F3D117F50DEFDB06A5D87D3680D1F45B15061C337D7AADA8397BA7C9EC438B27FF75197F70197A54D056EC7AE0A029BEDDF5B5E96268071731D1E8202561DCE97A5E1A9713D1AE22058EB071F2C73DCA16D643FC96987EF25DBECF30D6B1C26F9DBADA95B22DCFC3C2727362BFA73670AF949D55E83A9466F753EEA2CBB7FB6B79454D899E8143C5FD8C4CA3FBD4C26A4AA5C1C54DF5336494AE8FD9AB4C29E856793CB375F0E9CBC48B4775BC89CBA9A3617D3BAE7579FE2576F72FBDCD9D8734FE2D50F173DA7FCD2059D6B7F3CD95C1FBE6793CC982D0E69851B7E964333820267856C4922EFF9B069DC8B2B7BC10F06C105EFAB0F9DAE9570BEA4127E60634FC1CA756BA8EAFBC493E317F57E77528D50D9AB56F7A6EBF6E1980947778408389664ECD2DFF23E2FFCA8D9B134DA9BB0948512222266092F8FF8D57D3585183D7A46B86C2BE91F691A763A0BB40ECDC91A7777C5C945664ABE9F822DAC155F5B343E7BA5F6E6F9E4CC6BF2DAD48E058B1FBC73921573D55FF5F0642EA3717EF499D78D3D4F8B684FE5C7AB81DBA7ED88B2CAABE94D94893638F0F247A15A5E6A6BCD378BCDE33B2A0E7BADC251AD8E15D65994488ACB75E9C7C9EB777FBDE7EDA8DB4AEE55C0D3ACF69C879A4E948E88CDA96F6B5D3EF64A90FA0B866E999F98EEA88329B326F924C2DA0B68F1E9252F47EF6EDDD8155173D365B494599AC1C7BD5394D774879113AE1875FD7CD720F74869245DF18CF8822B651FBCA51C2E6D0283E6AD5B172E2CAC7D3AF0AA5DACE8D23A839902C76D377F0F7D353BE162E48A39875E08542C7D263CD6D72CDD76756683E4FED028FBF0B8E0F256EB6D3F8DB39A08B6E19A17578FD43E58ECBD6F26919A11E49B6CA7DBBA35B572D7C8BF84B72B354FF07397DD7DE6103E332EB87581BE69837CC6CEB95A6FBC8E4C6C7AFD25B95421E4AB66ADDB6EF16DE91F6DAA95720FC95D4DDD5E304F52DA5CD1ACDDE214E9FAA4FD2419BD9EA79BBBFD4DDDCD2FCC8E4EDD1EA317D4E426BBEEE3B2DEC5F104DA1B05653D7773D2645A46C883B46F2D32B9AD76DAD0283DD9857611FAED917B03B6EF9A7054C2363AA1C575F5EE0439F78A63D6AECB93F635CBE1DE289AB69F727DF420745FAD4A62B7FF8E7BCFEA2107B0697FAA73448C3B6C63AF35D13A7356705101ADD230227DD5C2A98F8FE4EC4C0DCFEEB8F5F5DDA25AF92C4BAD0F151E6173048F5DB5B19EBBE52A6C3632A03335DC250FB763C11C0D813DDF366539C57DFEB959F361EE35E70D33A40A8A144FDE11F41191CDC86D69DDA6B82D2124EEE71E998C1268A4AEAA56452451265ACFBCB5B35B9A3EEB914C8641FE05B19DBADB566F92BAF2977CD3EBFCF28AE05B8A538B4D2F7C14AF5C9D77FE65F5BBCC2EDD6F2B4216EBB5DD7A6D354ABCE3E3CEB04D65D4C2DBE7C8939D220D70D1625356485FB2546EAF0DCEF45FF8B1484CB77B67C7947AB5CBC99FD371090FDB8025EA279BBE39AB7D2CA251A77AA765465C58763EE1C081C4B28F91D9B2257B2697FA25CA593C09B5D03EFAA0CC54AED5ACC73776F4A12317DCE3EE912F3C9EE5DE6A575693E0662BEAF67499C3B5A6D759FAA6F9D34BE4628E6D57DD8117F6726C9679F4765ADDB5B90BE2EEBC7A7C39DAB6213AB092F0C655BD252F2A9EBEA923FA87907556FA6A2FD90EBB2E20712B63C29A71AE0E8722C7DF8747769062151BE42E29C8747825B6C7B737FB2B8699347834FAC81E08983F427BE5BC3898AE5C74D1306EB9D2AEBA0B816B3317E6D8EE2EFDCBB0D24652E1E88B057AE703ADBEBFFA3A6A8EA76F7AEF88C6E0A4D01B7A2665652B44ECB475BB0F401FC46CF59A56368D38E372D042B9884C18B517D6B59082661DAC5B2BDBA6B3177795BCD43727F64E76F0CCECD1237A621E343BBA254F3D3DF39A8543D299C2A2CDC21A2141893F45368E13EA1E052F6A9FF2CCFCCA36817B9A093955F4AD360A1565B7E44A446BB276CDFA61EEBFCEE8E438159D1306A98DD7C5E6459F90EFBAB97B6648E2956D278B4D2E7AC42EB5D4923B72DE71414FC3EE99D724DCC0DEB3E63262DD25B764B3335F248D097699D7FAF0D9DE3DA3CD92F6C7077E1E0B375C684B92DB71267D833350F9ECB2B9475A3751A973C9F8C2AD46AED6621B83F2EE4D91B66B30CA5C91F8F46C4973BD714E5499DC3C67D78AFB06EF8A232B26570384CE8B633AEA2535F2D7CEBDF0E083D48BAA679915418FC452DE50453A23C3DEDD5BB743DCA0F25CA6FBB956F96555D3EB67460846C2D0C2D22DC7DDF39FD94824785675C628672B2F5EA9B1EDCDCD88F28C95D3A2377C79E1EFDE6D28F4B8071293785C4F31CA5CDB93E526683AFD71EE74407B8A727672E882D8CF55D513AECAB71DB6CF06DD7B7257C694E51AAE89EB58F7A023E5CDE4ED3157BD222728492ADF6CA9F7A299AA5A8BCD133A989325BE24402D3CC96AFDE89E27274A5BEA57E0759710C64EC47F77BA53FBFE83ACCFBACE19DFB6DB50A75E744DBC2E69933F4542A622C36A561049A1ED219C64D1F1D0C1C73DFA7BCD92ACD9E394C275C1AA9AA5C5F9F15A654EFE29CFB6A7A6DC4B6D167A9C4B59D17047A7685D9ED6E7F3A3BC2217DB3E57BE1B9D81BB1445396F23B12F72ADC2EC6BFA39D4AED895FBDCE34F683FB0F0DD97B966ADFBACBB5578C17345DBD2B4CD2FE4BD7C73366483BBD1E9CC2DC7425C68AA34918293CAD537244BD6C4265936DCAB5F53A9B4F6CE84FA53FB7F284614E752EEAC9DDE5029ACA5E0E23BE6AF7BF7EA006283B9EB17E712599D33E79349B2E2E17A9653DA1F1D266DDF14F6961EF99761EAEC874DB7EB57DD5F6B9417B248D82664CC59C9236A13CE06456D6C38629328417FBBA4728D66BB88DAAD7133636F28E97DEB0DFBB43A636A8CABB52F5969D5ADB5BE23EAE64A496AD46C3539569A7230F3A643AC9864B45F55F51D0BB737D431F59F0E9E261E496D3FAF579D98FB76796DE44B9BE8E02091A6D86893978A63DDA2CFDC5F69D9ACAFE7207EE5C9D62BEBEA9EBF8E13914ED9373BC6A81AB7EF428F97509CB8CCEDB993FDFC1E2A976FFE19EF43D9E82B75D85147DED5E64194D498308D8D01B6EA497653EB3B5EA7B90B1C4CBBB924F6DD79BB038BFC9FEF78BFE8A2497AB0E15E18F7F9B4895BFB09E5717639162A7AC70FE758178B34BF1C39E3E7F4EEC0EF5AE9D29EFB1E90BAF652BF81F2ADEDDA3F22EBBD0A73EE041E94FAF9A045A7503179E183BDB5964AFAA136014B52A69FB57A7CAE70F991EB252DF72B48C7298DCE661516A75B5213BF23D5A4BDAF7EB68FFD94A5C748B19A40D2F3FAACA5AC9C21F5B02D6D5A5CF09C135D33812C9CA481DBBDD4D4F5C9FBF2669C282A7DF2BAE84CC233EA51A0F5C2AACA2ED30FF03B87D2A8F2A9898A3122924FF2E30F9CAAA92C49133D931B4E3E5FFFE09BC687BD4AAB371BB667551675FE94BA4F3AE63DD2456D4E79ACF9FC0D8C45EFE8F5DD47D7DF76D9922F5879A87BBAAF63C4980DF747BD92C855CABDF841646DA861DD64E32ADB4E8D51A1B2BE72C76F99AEF2A66CFC11EB584ABF6FBFB0B4FCA0EC0F63D1B69704C14912120109E1ABD51A4EA4D5646DBDED6B96B89E1A14679C9718C780F349ADA2C522CBD7945C7E5F4DD1B77F4BB5F5DE1FDC0BC7A5AB316E4B3A84D996487A47E4A797974A9A4817AB52968C7EFEA33345EF4C575A76B0D38E2F82ABE84F36DF2FE9907C5AF77CF97DB2A565DB57F15C4D86CC1D391BED1B97E863BCCD36E9AD9E563CDDE686897B754F6DC74775D7CFA513A3CFBC6C8EB0F723854D73DB7CEDDD946099B79974A3CC1DB527AA421E2ABDACDE5C69BE6AB5AFF50861EDF2BC479A921502BD234F4EB03837E6BEB0E4F48EB2B1B13F842B9F8747957B5429DC18F9D6EBF499D42D8D2FAE180A086D54389FBF83D2B472E1A878D9FC22EBF3678DAF910CF6C974DE7CD54CEE5E1E217B7C967C93B3F86DCAC2BB5355AC5EA8A8AF7DF2733481123AD66D72CF95DEEB3DBB45B5BFFC2CD2BFF7F482A3704661968AB95497F8ED586BF16B924088B4C7971FEA90C0DB8BB0E295DDF9CE96DA4BF46F0B1D38A5D625A1E31D76A0F53D255FE166C5FD79D149E451BE8414E78B8A6754367687BB09B74791F6E08090979F66894CB2292D754EF83121AFAEAC990814485698A5B6A84D97CC77DF2BF9C4FAA040CE96E7F7453608FEB48AAA488F3A79EA50C072377FF5D72362CDE6CB477C0F57B5AAC56B2F325B1577CE36D17AFD07C7945DB9CED1777C249FA4927D94DC8C826EA4853FDA61E8B47FDB44C27A1B27D731B575EF6C4B4BC33F441B058986CB2AA8DB5F913B74EE4DBEA4F614DF60496F934486A6CEE33CCF86D085D3CFB8420F479A646FCB5EB58356484E2C167977EF4BB2E576835A3F1B646ABED3A9D837A7F8C4ACF32AB551AA1FA7831545DFCF1E694CCA3CAFE34B0DABDBF5C3212EED7E3A592969627985E9FE1553DB1EBE87CE0AAC928896A8F814A0495B197D628E4BF4EAEFD0BCE8ABC54FB6993AC604FC9CB0E196DAE525329137F2E19B2DD69E1B499F3E656BA7F8B6893C829CABDD6E5D4EA56C6CBDCF202BF56E9FA2BD6365B26CD66B326C1FB62CF65097FEABFD8121AEC547D218FB0A3AA7B7D5F87BDC0D7CF67344B46D9AC47CD75CC61DBD4AC92BBDFAE2D1025B5A5ABF1F0A6AEF5AFEFD8052476B6DC6A35DA5A99BAF9A1891DDB73C16DBE5D565E5FEE190F751A7B26F6623141CD3820AAF76D6941F124E7BCFB81723FBC5E4A5C9AD25ED0560FB43F982FD0231AEC50AB7A785254C10774A8B516E32DBE3619FBAB9577E5E63E1799A4FF36D9A65F49E87C2859D5763469F0E147D3BB95BDDF325CE4AE5FCAECE42A3434B94665494995EBAF5D4A14952E0C2EAB94D131EE15645877F4C9BB1BAE68BA4F78D85090AF657E118A9892D636746D73E09D3B233EC95B88EA374AA89685711E9350782ECC3E4C145792261B2677798BE6FCEB96CD9A033F6AF51CDCE92AA3BB28BAA630E389F6A287A443F6EF04274C7458D518949E39B6E79196F28F04A0E23BD6BBC962D704375A38EAFE8FED98282DD8D7173C73F3BE81D64D6325BF9C5B7E0B687EBD68B8506C98ED06EF38661F5AFCF4F98DCBCD012D14EC669A7ADB096A71F0E149179A96D6FF6C492014435E9D0BD43BD6E5C49775A1D266AE21617AEF27262445AA8A8365D326B765C9A55E7BC9F57CECDF41E577AC1F0725E0059B3441C1C699946B6DA55B43B12D8D432F1E584B39D5F5E9C508B4C9160AC7B2C74CE24E490B73BE0BDEF629442AA5280FAA69826671901E2E48F8C1E8B31DAE425625E8EB35EBC8D9EF6597665DD2B77B586A520FD72DE45F2BAB62A93A915A51EF60A320B272EAABD79A6C27F2AFC50B42D4484FA4E6DCAE228B59D5DF7368EBEA2BFB8ECD3E6D647023169E552D76899ADF91B0A2C3BA313C92752CBEA7C128F2B561E4F357E61BF4CF5B2BCDCDCF0A09C80C49D97C653B7FEB0AFFBF940728B6C71A9506B3B6D9DEB8B292FDB66049E929E55F623D20A770798D236273EF081CBE796E3623D7EF9C75E157FD2BCEE35821A98BEFD95D20D01B5B087F2C83DC2AE94FCBF3225FCDF0B857A1B478B9D483E6EBD315C77B7E511C538C198B6E677733DC21E02AFC6958588A5116F5744306C0A9BFE3AF960E4CE2B9A5B5FBE36F6BF186A744CF663EB32B5917E0CAAF45EA9FB6DDF7C36F538505EB73F5BA91BE624FF4C5E5BECB55BE68237DDED46C9354D8B03ECAB8F67C4BB5F1E31528A7156C73CC6207ECE9B0D52EFA6E47F12DDD128BEC0648AD8A7D1D31865096D61EE8D8FD38E37E175325F86EFC21D35CC538EA7CE9CB7E4F0786C5FDB8EEE57AC53F4E492644E82AC5AE8BEF96B1BCE49B634DA31221DF419D7BA5C572C037ED0EB4F53E2E69F13D17AEAAB993EB3D22A28BAB1E078BAEB8867166B8BE2D3BCC381CC84E4693225E7DE5AFACD763438ECBAE7FC76118903BB2EBF0C8003DEA9AA5910141E88DE56E881176CF39BA8BAB4F2D9952DAE14FBA9B18BE34D32AF5E9476C99A67EDBA3EEACBBAF3EBAD26B9C64657894F945EE79078A5FBF1B6B267E7CDD3E78502DA966AC9961241D2636E54C439C11756EFDCD02348A02D3DB9E3F4E3085F70865FC7BB24A3E243EF473456C77C58376257B8D0A615559471E337664FF04E12BA2F02C9CAD8CEB8766EBFBBE05CF707FB7B57F8DC685E27AC911795FAE4430F9CA75364DE8E1459B68DBD18DB7EFDC9CD4B01A7F36CAFC28D3F5AED8A2CDDE247548E8BB89C14AC5C3B4FAEB9C6DF9F64D9D6314AD2583FF4CC52CD7D35B55965B772477A6EADCD9F19A7EBD4E97EEB5AECEE9FA362F78D5BBC2C63BD2400C04925795BE98B4F953CFB697DE02C9091E0B82C6ABC73D556D5ACDE9DA2E907BC734ABDE41667D147CF78F7344A638FD551578749349F7657C9C333AF164C4EE97991944778F7E492F36CAFC9715974B58B8F9B6E3559CC281A3BF16CF78BA36E5B895BAA678DB4769B46CE59DAB5E4D9985DCB8C046F8BCCA78FF0A52F38877B6E0E7B95F456DF95CA9AE33FC9BEF9989AADCD987BF556C5225A226623E3767CD2C2B94B6CFDD8ABFCDC39F488A218E0A33C556DFECCBB6E4BA65F8832A344CACB86747EF7B6949D76CF5ECA6F63C638C73CD2819280A22717172C8AFF98E637255D38DAE91B35F268AD98F4DA991187F57A565F1CF57D7462BA874BCCDD6CD1909DB52A921A4A8E39330574B38E14F98C49CA88F5DA1273EA924A255C7DFCDA678DF0A549B6F634DD0C8F5AE34443CDCF37B3569F79DDF1D5A746EF31E1DBDE75D74CD65222E483FC347E287C21DC5E7AF3DDFBFBF99B6B95F27AA797AD28C814D29F72A9F5C9D21B451F09770B2AE6E88B3C2E489B1026A1DCB89392F869DE860FAB73AD125F64760A4E8C01226AD634E03EBE3ADFF29850479F6A72556151A2FC9888D90EA2D66186A127043CEB0E2536BB90AF27896D959B42FB40AB150D17540F537CDCDDD2F358D92D745BE6C76DF7B7872FBDD78C5CA0A7C877ADD73188BB1B62FC62764451775442C86EEB772B6F16E8656A5F7F75BA3CEEC48B27C97239E5FA260515B213D705FE302FF328CBD17D1618FB2A718C8AEA8BC5863231652B9C3A6B4FD21719077EAEDEAA304361E2CB9A0315FE6926FBA3921FD758377D195BA39A54952EA78B5F7639E24B5E64EDEAE2D8D4DAD16EB3CC946CE032DD0A890B63259F67BAA76D6F909C176AB9789AC067B747DAE05B8507B96F12C6684BCE5B67E2480D3D63FD8428282FF248C8F773E8C6DCB00DBD3160627B46F95BE5DC9A99063D9F7E6C6C161EF135CBA4E427A5E07B4B709848A068AE6240FA35E71F07C5954FB5A44E6ABEB1E7697BD2C16F9B6A0921C73B9CD78077926F6F9B931154BAC0907EE252D74B19114D1D7FFB466A5993ABD869BBA01A0383EBD29DAFAA3619B8054A8906CEA601E577C68D94682B2C3C43ABF52C3E0E5F9F8DAB906C786A60EBFF425DF79CDCFEFB8780A5B7C0AD738F97883E2ABED0FBE1F4FA4DF39AD2A36A7C120E086E7093BBE7F25524A94752AB86F6F1AFFADC5D9AADA36567CD96F679D3365639C94453F2C9D5AA73E7EB4A95D42317B775953A2C5A5C257D41ADE0CB75EBAD17FD6DF59D34094F039ADC9CA49F7A19956F9A2B75D8192EB8B0E29BD7E2DD8A819F728572521CE2959AF39CAEE743A2E5E35E7DBDBCBFCB4AF0F1A45BB75D3E543F7B54D4AE1D34A752B0DD82205130E6E3FC62FFF1A2F293B513BFE1A27AD6F46837242DC457945E0C1F7B5CF8C80CF5DB9BA5DABCA6AD7697DBA77B6793FE77D8DEEDC8C4988AC2578F9F579747D6EB6C5D70D07AC9C629AE0D9DC71A539EE743570C5D4E4F0910DF6A57906D4B4A296DA9A97D2F2EF248413F3B1074937D59BD73C2B3B2EFC51B7C677C4FBC3535256D8ABFB1E2A5E2C6BB8F4A15BF5EC80A4EB9E7E54C0838D0F0F0E2FCBA2DEF1B85758C4F293F5F9CE739A19022EFA8D3D82ABA932EAB7A5E70C94FFF2F52D22BA766965F3F3E3D3C357D5E30D5F1489541AC60EC968AC6DE9BDF1B85BB2F4AB9DA16DE497D7550FBE6368B9FBB9657DE1354CE0D015FCB18AF99F0B9BCA83A51BA277B69CB8A57D2E2F15F77440AB50A3DB56E70559FF46653B273C42AAFF9ABE28FCDBFA41E4E7F9C9A32E1CDE1C82F0EA32E846EFBF0DE56BDB5A7A5F0CEA414DB67D54BF2E9E16EBBBBE34D474BF736146EF9B444A6729FB4ED8719473C846524EC4F859DEBACBEB0516B191465044BE4392C569F423BB2CDD7FB4DB5452FC55F4E7CEB49FB60BF6B3574877D0B55CF7FD966DBA6B9A6F5ED96F2829F8DBDB2F6771C9DECCF6704CFD9BD2146780EC19C2CB0FD766E6F3225A8A737EFE6A405772567472F333A30DAC7412BF87B93FF1A9987D01DBBB37BD3E84B9AC79668789DF63B3827D5A4D9F08A569AF00BBD53D5388FA80657ADFB93C81182EA5DBB1628E43F9A1C88AF97DB121E517CE63343F3EE52C1E581991253B3F7CC94DA99F6E643FDC332794D958F780F8F7747E56FD1B73E7C62B155C055759BB46B4493193573FE6965BFCD8AA2A3BADA8BBDAE9EC1ABEFDF728968B0356BFB2ECDBD777357A9B495174C7DDBB2B3E9CBC3E7DF6ED4D7EBD931C6B63F72F971FCDC853C583D1BDFBD4E2066026D5AE0B4EADEFACD0B05FEE4EFFDB72D0ADAF6423C9FE6007D40121802C903CA81213CD081381EE8B09FCF10063F80434A9C709A663802A842C4E38844820A85883373448ACD3630D11938B20A1ED95B8BC3639F1B708B08104C86019806936022882700243C090F6BC1141882011201F9A4C334A49C4E8261220944B614E493A46EB60E4733E36A0FF9E06A0FE4D51E0100A9041A8908536110950969704A0340920A91C82DAE4F00848740EC3FBA453F911E200290DE0F5208C2F394408048685790C6611A8900E28978D404240826F253859F200A814604094422CCD31E0099672D221E699A82360DD3114510050804CCD67C9BE72908E9F022962520908A7C92912D886C51AB90210DC42E886951FB203D447C8100B1847BE3F0D83F1F271C4454C113B11D88A442C6E390C1C011410ACEC1BDFF891F8EEA8933616B44A2A840441C224B85C4ED59009EE750B33B0770768D2508A0700B02F90B1AE033DC030E12282A8441F27EE73383F5C11355405E038D0402EAFA888F6001C15997DD389FCA2CF70211DD791A01A2E079288D0E2F11F109188D4F1A331E612D642849A8F7A0DE825961B01ABCC5217D2022EE4A46FC800EE2413201554903110580A85008734534B835410A4F2549306FCB70240CD4A9792BC5B33ADAC7FF502D18E0DD59D43E78D4EA88A5A8CC40E7AD183F0144129944803410B74313211E4D8F88200A3A143C15219078DB8723BD1209240A228BC894D09FB0D9CAF01542A022D18C1F288CA71210C8BB339C4AA07B74D432A84230D651DEB6E1278E8A8D341186914F884440B32966191288472304754E100FF35316E9364B5D24AFFDDE66D85042483BA8DBE3D99724DE0AF311887817910811093C6D8687866233F462815E22F836CD47CCE0A691EEF7350E9229BC2D4047D29C061AFCE820A1170AC49E20668D016AC1BC878DAF501A4827F0CC40882BF0561E0D6CB4311ADA18D23805A662C14E64C714C71C817515E3AD14BB09CCE987A8168CE7DD112D742838AFDCBF0A0EB60A7CC4A1170490866C6164CBBA4C601751E47A0C41D8168078C61B72E9E793B999E903CDD1884258DEE6726A1A4CE7AD244F91BFB41204F0767AD46549203A30680A65CD7508A80BF31D243EA27ED138000F50171DDB01390B427C1FCD5AA80FA1CA68A1CAB0663F7490771C710A1C920A78906FFF112FC1A3CE895DB741D4711175602473D1D0C8FA4526E12B74E01509DF7FB5E24EE84CD50032894F5C2175E8FD01FECB2CCC4F087F8B00048E04C07F7AF6FB34CBF4D4C151CD6A083FD05F38479F5FF6FCB5442234942B02BF9B144EC1EC79AEA9360E9B116D606B4DC2B476C7217EA042EEDB77C32D47E6B97C2B81106725E63EAB1236F0BCAA91881CB598BB7C5BC2A3E720FE89EEBAB37741F416806F159888CD5BFBEAB0F67F5D098FDE9E70D421F5C9F84D254C707F1D663B48F7970FB847C0935560F48A881EFBCDDD2092C001E6A042C80C1F194618F986E40CF41FFF616436305017AE3EF769825A70B022836E83B194FDB76E8411E78611D591CBC72F15EE1F4977C4C7C9E89701FAF2FEC9A08F9A41C0838401E5BC00EEC64C2CA721C3D1C54ED3334048C01AD5804C0071440A1185041BDBF9A0884C36C8D394E1EBB9DEC781E1CB9262ECE3E9B09CE187FE08614CA5E354CD18017E2C88A82E1BD8CE3A15B31FEBC707E6A8C2B8BE5F22FA81A6D8B97DF790182895750E769E16221051C8170740B841F86380130ACF46A892709C0855326E1882FC6F4290813EB431070619E88387FFE2372B0A0F27FD3D0819C4730E31C8F6570E1032E5DF0121635E378C421E46210FA3908751C8C328E46114F2300A7918853C8C421E46210FA3908751C8C328E46114F2300A7918853C8C421E46210FA3908751C8C328E46114F2300A791885FC7F0A850CF6A18D3951C820FEF74F74FEEECA5C006B652E0869E67F6B35BD7F7C692E70082BE981FFE1527A03D7EF8206AEDF05F258C00BC696BBFAEFDD0C58B88ED7E25F448E85E648D8827F7D4B6B61CB80F51F2012117904E6FA5A78146831605132AC016C952CAE3503B10DE76A60FD1BE68A77FD0B7D0DDE608E3370A530CE0DD7AA6020D79A81D82E8F0DD63112D7C95C4B9BF5AD3C36D86E68DFB9566AE35A768CD7F26A7FB8481B9E6FF31CADE1F19CEB8C01683AE95F680C2412792CF7C763BD3F9013CCC07EEC0B0F7EB2CFC6740C731B86B90DFF14B781C2C16D00F0D880120824144EF407783B029E32B0066FBC1D06311A04960749248805D004602D12B1DF2F79330548DC0DF1A64B9098803B020BB60B70430B59E2C844DE3DE5AE0F92F87002201EF5B9B154BFD40006F868C0557F90067D6407DE83F54B4C2F08513017E20D82E56D95FF84AAD0C781E065AEDFE28F09C8160FF1672FF0B4DF7F46AA8008285EEDB7B04E02C4F211124A27C0D8317CDC172460498653F04042010120D008040280AA4C0489BCD502F0036BF385B53241EA183381530C6260341170C919C8B7C150CA30331AB1F409C368D77ECFBC0029F050221304092842958C5D6E9051E6A91F97AC0109881B33CE2611007CFA83688D62F5018C3F84D233A8A803C0280E1731119A9F514558A50013A94EA26043C8641B51997909D9E740FA2365E81F865E66DA6311371781DD179EBAFDA22F30AF7866F585CE04FD63587294918012B2907D908E2608941F83E888EA4B819988732DEEB1622BC5B3915F2845047977820999A6204E81F93B3673EF1FF5451A787629CF2C4D462306BB50B2B21BCFFA48DFF94A80B1AE12FFBC6DCE01E43776FCBACDCF4C10994F321AD018854945C0A0F9108B248472DC34B929426C25F809E5A70408F1561A9D0FA10E8302EF69FDF41518737D8C278029488278DB829F587E6A704E097EC90C81D1291BE608A85A68B619DAF0F06C82BF4A00854FF225B1060464667394C3855906C4BC0B093112055189278B93A50A5FD11CAA0C243E01643C6FE5B5B0CBC9508785AF187E368089BC15D5428C4F62C5631FD572280AF013C8AD401FE90D20F2B964A3A43A0D3419FC8D70E67B7562ABC9AF517E7682607E97142A937BC5745402D36790E659240F089B091086E8C2BC9BF9855A20C8C776C8CC590B1DBA7E0222965D86A4043FA1FC87104FE2A93672AF85F14FB0CC4261FA10369326A1EA6196C2723DABB46FA281588DCFB0F169889F7D28FCE6E34400BDB5C02EE430F7ED2F323F2492D0E3283395CABE6F1CE852206588A6E4D93E7F754964DE66644E2535FF340ED08E62CE0931AF2EBC79BF2C55F9B43D40557E4C200284C5521FA787B5FFFF98D4833AE73F4DEBF907483DE0FF0AA9873547FAC77E01FAF7483D601FB3854022130794732EB9FFDF43EA6106203860B111DE141F0A0E18F046004E8A0FC8E315032019C783E203B264B07F088406D08686293EFF02C507EA7BF2C341F101FBE83BFC1F0841000F97FD3DC50702B98698FD746320C50702FE1D8A0FE675C3149F618ACF30C56798E2334CF119A6F80C537C86293EC3149F618ACF30C56798E2334CF119A6F80C537C86293EC3149F618ACF30C56798E2334CF119A6F80C537C86293EFFA7283E501F538593E203814378A2C3C960613FA0210E7E06C77E163B0CC61F06E3FF43607C086082F1914A2A64F4D9E2802D2280BD742B89B9F82A418584C70104B4F73E0CDC5AFEF5903EA32DF755C4FA39848A2802110254607C5F550052210CAD4D0281885A8E551102000CCB33848A6C901AC4043BFD7127D915FF46275955FFBC93CC8A7FDE4926228DDD49109535B44EB22B323BF9FB8A033AC9AACAEAE410DA6477925991DDC9215464A31C29A807C08823206681E001C6E12490103916FDE607F32342043A110FA2C06D361E135D679F86E1EE98902780C4CD94E887D272B5F25B781681C06761710803831159C0D0DF8324F909E2DB30C86B0D700CC7C67C75010969968D59434913E85B1AFAE1EBD86AF08832201B8307F7A1143158209DC80BD44EEF47733301ED3416529E8689A2C35ABCFBC653D75FF40DE0B5B038B36F487FD09784A0885B36F3E66FA22D41721F71015B6C9DC47A910813CEB408834023A6E2A67FB0FBC45347FE7D4249383C9739C77AC44213F7612207C3FAD0DEFF19C0F50FE1B1F0DF83D5125000E1003C30E6214CFC246FBC263F43F0879222D74F3E318606396B82840D3EE957104E3AE2100001F9877E83D133094C6EC46F92439FE27CD4E03BE23099CFDB2E9059CAEFD0BFFD19899F18BECD22134DDEEFF718FC9E9C21E4257EE2F8360F92B8D3F490797E3C397EBF5E0B1FC2F360FB0D9EE6F64DE9B0F9D860269916F67E010A8A86659DC3E49541C89688CCE8D0E3440C330B6289B48F3AF6ABB7A6A0BC1E6830FE92470C01583603B0E1610172B98783CDB2E1C3CA4189111089D88F4D26A0999E3AE81D16C84C04C6F317C3456A8407C70244C05EFD304401FD9CC601F74378A20AF40B1DB09B1AC42FB86C4A20915500FE2DF7DF36F07E0909C84D8BE399CC78D057D92623F023FA0CAEC2EE21BBCA905EE7C2EEDF1FB4C3A6D1107ECFACC52DE2BE9DEC67D61259F42C74D8B0D714719990CC9CDBF3A491B0261C5CF5FBA3897561A392F05C56053010305F6ECA6FDE980511F02AC02FA82D3C5E7EC3656D22844E347FC18D61429C7957477ACD320A27B5859F5FFD9DB7E7B02DC4873CF3EB97AC70DB891F038782E5D7FEA0E5414B655B8A2D62B0336342B037C970FE1EC18F1C00416CF43D931CC0DAFFF5BB45D077470D6414B0F6795442D4DAD0477483392AB1F6FF3E0D81D73B4CFE2BDE2EF20FD010A0DFD2103096F3BFF47691FF3E1A02D4B7EC061109D401E59C2FDEF83F4743406EBE2100C78786000DA8DDD7614EDE85C67A3F674F1F9CA2B6AE8999296E1E5A1B319C9F8BA707D5CE8F8153A4AA21CE03E1C920198FF41F24F49D8156A27BFAB8E354353556E2558D756C97D36DB5346C97ADA099AED0A559D822FDA219CD635AC371BD0303397FB98631CE88E167C1B0F3477649043CDAA03C52EAE2B1D673B99F9D8F1FCE6C99862D55C3540329A79B1B6999E92E335AAC88AEB6849E69A86144D53032C30AD07D2ACD0039D98CC63C837D1622CF7699A61E4DCBACBF9C7944C394CF0166A9AD2E75E081A1FEA102E8CB4C0DFFA83ABB9286A9968EEE0AB41E5A624A5B8E588FF64B31E87946CBCC74ADFE8EAE834529FF7F2785E54F340FC701DEC4F1B21D3E218F84AFAABE8B23B6DE14C07A06800359EFE0C141ACC0B4C1226C3D12FE1057649179C8D5B2F3B373F374C27206D2425FCA40F70C3D1D9133CC7D19469E1E0C4E59013E8CB54202E8FD35B2EDFBC3C1E8ED096E2DAB0CB9F986211CF38847DF7900FAE665AE32249F0E2E4333016719802752069521B7B783CAC89441654892185C069207B50B42D0A036C894C13A93B1E59EB8CF23709701E8BC6B70D9A07E00104886079591903DEE3298C46D1700FD2981AB0C7D7D17775D94593AF83C02C03D46C8558EC2AD1FFAD31B773F4080401C240F1E6C67107DF035A88C080F6A03A69007E9825C7807F58384B2DB38CB90792D85BB2E5236A80D0899150F2A2393406E9B22654460501985C2ED0710854C1CA09F9F8F9D8B1BC3871562CB5D3632B0105135F5F444E291F57A2C555D24FC71100937E0291E726D61C61484B4012359429EB68C2E24F03F504B010213001400000008004C451C574645C149BA2D00005E9F00000B000000000000000000000000000000000043415F4F76657276696577504B0506000000000100010039000000E32D00000000\"         ], c_mdt_data: [             {rel_guid: \"0022485C10641EDCB8C63C96B863D7CB\", parent_rel_guid: \"\", parent_mat_guid: \"\", mat_guid: \"0022485C10641EDCB8C63C96B86317CB\", mdt_level: \"000\", freeze: \"\", appl_id: \"BL0000000223\", country_code: \"FR\", aff_country: \"France\", matnr: \"\", short_text_m: \"\", mat_type: \"\", identifier: \"Product Query/EIHTO/20220602\", rec_desc: \"\", rec_status_light: \"\", rec_status_desc: \"Not linked to REC\", rec_status_date: \"00000000\", ra_status: \"Active\", ctbs_3: \"\", ctbs_4: \"\", ctbs_6: \"\", ctbs_1: \"\", ctbs_8: \"\", tom: \"\", class_of_goods: \"\", prod_hierachy: \"\", comp_id: \"\", clim_zone: \"2\", next_step_init: \"\", add_aft_review: \"\", dc_nrc_avlbl: \"\", lbl_affect_stmt: \"\", lvl_affect: \"\", ra_name: \"\", not_concerned: \"\", cave_flag: \"\", inactive: \"\", xplant_status: \"\", prod_level6_d: \"\", action_type: \"\", notes: \"\"             },             {rel_guid: \"0022485C10641EDCB8C63C96B863F7CB\", parent_rel_guid: \"0022485C10641EDCB8C63C96B863D7CB\", parent_mat_guid: \"0022485C10641EDCB8C63C96B86317CB\", mat_guid: \"0022485C10641EDCB8C63C96B86337CB\", mdt_level: \"001\", freeze: \"\", appl_id: \"BL0000000223\", country_code: \"FR\", aff_country: \"France\", matnr: \"000000000000820431\", short_text_m: \"Lisuride hydrogenmaleate, micro (bought)\", mat_type: \"YV\", identifier: \"Product Query/EIHTO/20220602\", rec_desc: \"\", rec_status_light: \"\", rec_status_desc: \"Not linked to REC\", rec_status_date: \"00000000\", ra_status: \"Active\", ctbs_3: \"FR\", ctbs_4: \"\", ctbs_6: \"\", ctbs_1: \"\", ctbs_8: \"\", tom: \"A\", class_of_goods: \"\", prod_hierachy: \"0878A30C370000OXND\", comp_id: \"\", clim_zone: \"2\", next_step_init: \"\", add_aft_review: \"\", dc_nrc_avlbl: \"N\", lbl_affect_stmt: \"\", lvl_affect: \"\", ra_name: \"\", not_concerned: \"\", cave_flag: \"\", inactive: \"\", xplant_status: \"4\", prod_level6_d: \"Lisuridhydr.-Mal.M20\", action_type: \"\", notes: \"\"             },             {rel_guid: \"0022485C10641EDCB8C6405E6F3557CB\", parent_rel_guid: \"\", parent_mat_guid: \"\", mat_guid: \"0022485C10641EDCB8C6405E6F3537CB\", mdt_level: \"000\", freeze: \"\", appl_id: \"BL0000005670\", country_code: \"FR\", aff_country: \"France\", matnr: \"\", short_text_m: \"\", mat_type: \"\", identifier: \"Add Material/EIHTO/20220602\", rec_desc: \"\", rec_status_light: \"\", rec_status_desc: \"Not linked to REC\", rec_status_date: \"00000000\", ra_status: \"Active\", ctbs_3: \"\", ctbs_4: \"\", ctbs_6: \"\", ctbs_1: \"\", ctbs_8: \"\", tom: \"\", class_of_goods: \"\", prod_hierachy: \"\", comp_id: \"\", clim_zone: \"2\", next_step_init: \"\", add_aft_review: \"\", dc_nrc_avlbl: \"\", lbl_affect_stmt: \"NO\", lvl_affect: \"\", ra_name: \"\", not_concerned: \"\", cave_flag: \"\", inactive: \"\", xplant_status: \"\", prod_level6_d: \"\", action_type: \"\", notes: \"\"             },             {rel_guid: \"0022485C10641EDCB8C6405E6F3597CB\", parent_rel_guid: \"0022485C10641EDCB8C6405E6F3557CB\", parent_mat_guid: \"0022485C10641EDCB8C6405E6F3537CB\", mat_guid: \"0022485C10641EDCB8C6405E6F3577CB\", mdt_level: \"001\", freeze: \"\", appl_id: \"BL0000005670\", country_code: \"FR\", aff_country: \"France\", matnr: \"000000000003352483\", short_text_m: \"LEVITRA TABL 10 MG        2 ST\", mat_type: \"YK\", identifier: \"Add Material/EIHTO/20220602\", rec_desc: \"\", rec_status_light: \"\", rec_status_desc: \"Not linked to REC\", rec_status_date: \"00000000\", ra_status: \"Active\", ctbs_3: \"DE,FR\", ctbs_4: \"BB,BH,BM,ES,IS,LT,LV\", ctbs_6: \"EE\", ctbs_1: \"AR\", ctbs_8: \"\", tom: \"S\", class_of_goods: \"SG\", prod_hierachy: \"0810A202110810TANM\", comp_id: \"\", clim_zone: \"2\", next_step_init: \"\", add_aft_review: \"\", dc_nrc_avlbl: \"Y\", lbl_affect_stmt: \"\", lvl_affect: \"\", ra_name: \"\", not_concerned: \"\", cave_flag: \"\", inactive: \"\", xplant_status: \"4\", prod_level6_d: \"zz_invalid Levitra Ta 10 Mg\", action_type: \"\", notes: \"\"             },             {rel_guid: \"0022485C10641EDCB8C63C96B86417CB\", parent_rel_guid: \"\", parent_mat_guid: \"\", mat_guid: \"0022485C10641EDCB8C63C96B86357CB\", mdt_level: \"000\", freeze: \"\", appl_id: \"BL9990000016\", country_code: \"..\", aff_country: \"\", matnr: \"\", short_text_m: \"\", mat_type: \"\", identifier: \"Product Query/EIHTO/20220602\", rec_desc: \"\", rec_status_light: \"\", rec_status_desc: \"Not linked to REC\", rec_status_date: \"00000000\", ra_status: \"Active\", ctbs_3: \"\", ctbs_4: \"\", ctbs_6: \"\", ctbs_1: \"\", ctbs_8: \"\", tom: \"\", class_of_goods: \"\", prod_hierachy: \"\", comp_id: \"\", clim_zone: \"\", next_step_init: \"\", add_aft_review: \"\", dc_nrc_avlbl: \"\", lbl_affect_stmt: \"\", lvl_affect: \"\", ra_name: \"\", not_concerned: \"\", cave_flag: \"\", inactive: \"\", xplant_status: \"\", prod_level6_d: \"\", action_type: \"\", notes: \"\"             },             {rel_guid: \"0022485C10641EDCB8C63C96B86437CB\", parent_rel_guid: \"0022485C10641EDCB8C63C96B86417CB\", parent_mat_guid: \"0022485C10641EDCB8C63C96B86357CB\", mat_guid: \"0022485C10641EDCB8C63C96B86377CB\", mdt_level: \"001\", freeze: \"\", appl_id: \"BL9990000016\", country_code: \"..\", aff_country: \"\", matnr: \"000000000000057950\", short_text_m: \"Lormetazepam, micro 20\", mat_type: \"YV\", identifier: \"Product Query/EIHTO/20220602\", rec_desc: \"\", rec_status_light: \"\", rec_status_desc: \"Not linked to REC\", rec_status_date: \"00000000\", ra_status: \"Active\", ctbs_3: \"\", ctbs_4: \"AR,FR,US\", ctbs_6: \"BE\", ctbs_1: \"\", ctbs_8: \"KR\", tom: \"A\", class_of_goods: \"\", prod_hierachy: \"0874H20B44\", comp_id: \"\", clim_zone: \"\", next_step_init: \"\", add_aft_review: \"\", dc_nrc_avlbl: \"N\", lbl_affect_stmt: \"\", lvl_affect: \"\", ra_name: \"\", not_concerned: \"\", cave_flag: \"\", inactive: \"\", xplant_status: \"4\", prod_level6_d: \"Noctamid\", action_type: \"\", notes: \"\"             },             {rel_guid: \"0022485C10641EDCB8C63C96B86457CB\", parent_rel_guid: \"\", parent_mat_guid: \"\", mat_guid: \"0022485C10641EDCB8C63C96B86397CB\", mdt_level: \"000\", freeze: \"\", appl_id: \"BL9999999999\", country_code: \"\", aff_country: \"\", matnr: \"\", short_text_m: \"\", mat_type: \"\", identifier: \"Product Query/EIHTO/20220602\", rec_desc: \"\", rec_status_light: \"\", rec_status_desc: \"Not linked to REC\", rec_status_date: \"00000000\", ra_status: \"Active\", ctbs_3: \"\", ctbs_4: \"\", ctbs_6: \"\", ctbs_1: \"\", ctbs_8: \"\", tom: \"\", class_of_goods: \"\", prod_hierachy: \"\", comp_id: \"\", clim_zone: \"\", next_step_init: \"\", add_aft_review: \"\", dc_nrc_avlbl: \"\", lbl_affect_stmt: \"\", lvl_affect: \"\", ra_name: \"\", not_concerned: \"\", cave_flag: \"\", inactive: \"\", xplant_status: \"\", prod_level6_d: \"\", action_type: \"\", notes: \"\"             },             {rel_guid: \"0022485C10641EDCB8C63C96B86477CB\", parent_rel_guid: \"0022485C10641EDCB8C63C96B86457CB\", parent_mat_guid: \"0022485C10641EDCB8C63C96B86397CB\", mat_guid: \"0022485C10641EDCB8C63C96B863B7CB\", mdt_level: \"001\", freeze: \"\", appl_id: \"BL9999999999\", country_code: \"\", aff_country: \"\", matnr: \"000000000044284466\", short_text_m: \"REGSMP Combination 3 SCT 100x28 FPL SL3\", mat_type: \"YK\", identifier: \"Product Query/EIHTO/20220602\", rec_desc: \"\", rec_status_light: \"\", rec_status_desc: \"Not linked to REC\", rec_status_date: \"00000000\", ra_status: \"Active\", ctbs_3: \"CK\", ctbs_4: \"\", ctbs_6: \"\", ctbs_1: \"\", ctbs_8: \"\", tom: \"S\", class_of_goods: \"RS\", prod_hierachy: \"0871D10A390100C322\", comp_id: \"\", clim_zone: \"\", next_step_init: \"\", add_aft_review: \"\", dc_nrc_avlbl: \"N\", lbl_affect_stmt: \"\", lvl_affect: \"\", ra_name: \"\", not_concerned: \"\", cave_flag: \"\", inactive: \"\", xplant_status: \"3\", prod_level6_d: \"Microgynon 30, 21+7 Ctb\", action_type: \"\", notes: \"\"             }         ], c_st_data: [             {process_id: \"0022485C10641EDCB8C609730D8D177F\", statement_id: \"0022485C10641EDCB8C6A068665FD883\", pa_statement_id: \"\", statement_num: \"000000001\", statm_descr: \"\", statm_type: \"Applicant's Evaluation\", function: \"APPLICANT'S EVALUATION\", statm_status: \"Finalized\", resp_function: \"\", due_date: \"\", owner: \"Souvik Hazra (User EIHTO)\", current_user: \"\", predecessors: \"\", cons1: \"\", cons2: \"\", deletion_flag: \"\", phase: \"\", brain_evtc: \"00000\", brain_evtc2: \"00000\", brain_evtc3: \"00000\", brain_evtc4: \"00000\", duration: \"000\", labeling_prio: \"\", regulatory_prio: \"\", imm_impl: \"\", flag_labpot_affe: \"\", ra_manager: \"\", costs: \"0 \", cmc_prio: \"\", estim_avail: \"00000000\", change_category: \"MANDATORY\", created_at: \"02.06.2022 05:29:45\", changed_at: \"02.06.2022 05:34:04\", created_by: \"EIHTO (Hazra, Souvik)\", changed_by: \"EIHTO (Hazra, Souvik)\", notes: \"TEST\", items: \"\", tt_app_data: [                     {statement_id: \"0022485C10641EDCB8C6A068665FD883\", measure_text: \"\\\"Others\\\"\", req_for_change: \"\", not_req_change: \"X\", comment1: \"\"                     },                     {statement_id: \"0022485C10641EDCB8C6A068665FD883\", measure_text: \"Cleaning-, computer-, analytical-validation affected\", req_for_change: \"\", not_req_change: \"X\", comment1: \"\"                     },                     {statement_id: \"0022485C10641EDCB8C6A068665FD883\", measure_text: \"Cost benefit / BC available\", req_for_change: \"\", not_req_change: \"X\", comment1: \"\"                     },                     {statement_id: \"0022485C10641EDCB8C6A068665FD883\", measure_text: \"DesignÂ HistoryÂ FileÂ affected\", req_for_change: \"\", not_req_change: \"X\", comment1: \"\"                     },                     {statement_id: \"0022485C10641EDCB8C6A068665FD883\", measure_text: \"Effectiveness check\", req_for_change: \"\", not_req_change: \"X\", comment1: \"\"                     },                     {statement_id: \"0022485C10641EDCB8C6A068665FD883\", measure_text: \"Environmental aspects\", req_for_change: \"\", not_req_change: \"X\", comment1: \"\"                     },                     {statement_id: \"0022485C10641EDCB8C6A068665FD883\", measure_text: \"External customer affected\", req_for_change: \"\", not_req_change: \"X\", comment1: \"\"                     },                     {statement_id: \"0022485C10641EDCB8C6A068665FD883\", measure_text: \"Generate stability data\", req_for_change: \"\", not_req_change: \"X\", comment1: \"\"                     },                     {statement_id: \"0022485C10641EDCB8C6A068665FD883\", measure_text: \"Legal aspects\", req_for_change: \"\", not_req_change: \"X\", comment1: \"\"                     },                     {statement_id: \"0022485C10641EDCB8C6A068665FD883\", measure_text: \"Logistical aspects\", req_for_change: \"\", not_req_change: \"X\", comment1: \"\"                     },                     {statement_id: \"0022485C10641EDCB8C6A068665FD883\", measure_text: \"MajorÂ change\", req_for_change: \"\", not_req_change: \"X\", comment1: \"\"                     },                     {statement_id: \"0022485C10641EDCB8C6A068665FD883\", measure_text: \"Master Batch Record affected\", req_for_change: \"\", not_req_change: \"X\", comment1: \"\"                     },                     {statement_id: \"0022485C10641EDCB8C6A068665FD883\", measure_text: \"Multi sites affected\", req_for_change: \"\", not_req_change: \"X\", comment1: \"\"                     },                     {statement_id: \"0022485C10641EDCB8C6A068665FD883\", measure_text: \"Potential regulatory relevance\", req_for_change: \"\", not_req_change: \"X\", comment1: \"\"                     },                     {statement_id: \"0022485C10641EDCB8C6A068665FD883\", measure_text: \"Qualification (Equipment change) affected\", req_for_change: \"\", not_req_change: \"X\", comment1: \"\"                     },                     {statement_id: \"0022485C10641EDCB8C6A068665FD883\", measure_text: \"RiskÂ assessment\", req_for_change: \"\", not_req_change: \"X\", comment1: \"\"                     },                     {statement_id: \"0022485C10641EDCB8C6A068665FD883\", measure_text: \"SOP update necessary\", req_for_change: \"\", not_req_change: \"X\", comment1: \"\"                     },                     {statement_id: \"0022485C10641EDCB8C6A068665FD883\", measure_text: \"Safety aspects\", req_for_change: \"\", not_req_change: \"X\", comment1: \"\"                     },                     {statement_id: \"0022485C10641EDCB8C6A068665FD883\", measure_text: \"Show equiv.: Analyse trial batches/Validation/Design control\", req_for_change: \"\", not_req_change: \"X\", comment1: \"\"                     },                     {statement_id: \"0022485C10641EDCB8C6A068665FD883\", measure_text: \"Submitted Master Batch Record affected(for Biotech only)\", req_for_change: \"\", not_req_change: \"X\", comment1: \"\"                     },                     {statement_id: \"0022485C10641EDCB8C6A068665FD883\", measure_text: \"SubstantialÂ changeÂ forÂ Medical Device\", req_for_change: \"\", not_req_change: \"X\", comment1: \"\"                     },                     {statement_id: \"0022485C10641EDCB8C6A068665FD883\", measure_text: \"Supplier qualification / QAA/ audit necessary\", req_for_change: \"\", not_req_change: \"X\", comment1: \"\"                     },                     {statement_id: \"0022485C10641EDCB8C6A068665FD883\", measure_text: \"TRD affected\", req_for_change: \"\", not_req_change: \"X\", comment1: \"\"                     },                     {statement_id: \"0022485C10641EDCB8C6A068665FD883\", measure_text: \"Technical aspects\", req_for_change: \"\", not_req_change: \"X\", comment1: \"\"                     }                 ], tt_ra_data: [], tt_trd_data: [], tt_st_doc: []             },             {process_id: \"0022485C10641EDCB8C609730D8D177F\", statement_id: \"0022485C10641EDCB8C749EA494DD9AE\", pa_statement_id: \"\", statement_num: \"000000006\", statm_descr: \"\", statm_type: \"Development / Drug Discovery\", function: \"GLOBAL REGULATORY AFFAIRS\", statm_status: \"Finalized\", resp_function: \"Souvik Hazra (User EIHTO)\", due_date: \"03.06.2022\", owner: \"Souvik Hazra (User EIHTO)\", current_user: \"EIHTO (Hazra, Souvik)\", predecessors: \"\", cons1: \"\", cons2: \"\", deletion_flag: \"\", phase: \"In Review\", brain_evtc: \"00000\", brain_evtc2: \"00000\", brain_evtc3: \"00000\", brain_evtc4: \"00000\", duration: \"000\", labeling_prio: \"\", regulatory_prio: \"CMC_1\", imm_impl: \"NO\", flag_labpot_affe: \"NO\", ra_manager: \"\", costs: \"0 \", cmc_prio: \"\", estim_avail: \"00000000\", change_category: \"\", created_at: \"02.06.2022 06:07:41\", changed_at: \"02.06.2022 06:29:04\", created_by: \"EIHTO (Hazra, Souvik)\", changed_by: \"EIHTO (Hazra, Souvik)\", notes: \"\", items: \"\", tt_app_data: [], tt_ra_data: [                     {mandt: \"508\", statement_id: \"0022485C10641EDCB8C749EA494DD9AE\", item_id: \"0022485C10641EDCB8C749EA494E19AE\", dummy_icon: \"@3Z@\", sku: \"\", sku_bom_alt: \"00\", bom_alt2: \"\", app_id: \"\", prod_hierachy: \"\", prod_level4_d: \"\", prod_level5_d: \"\", prod_level6_d: \"\", pcn: \"\", ppnf: \"\", country: \"\", country_iso: \"\", ctbs_status: \"\", item_status: \"\", markt_based_on: \"\", flag_lisc_conc: \"\", flag_imm_impl: \"\", flag_pr_da_compl: \"\", grace_period: \"\", action_type: \"\", brain_evc: \"\", dossier_type: \"OTHERS\", req_documents: \"@0W@\", req_doc_region: \"\", del_agreed: \"\", comments: \"@0K@\", linecolor: \"C300\", dummy: \"X\", dummy2: \"\", sorting: \"1 \", short_text_m: \"\", short_text_m_u: \"\", prod_level4_d_u: \"\", prod_level5_d_u: \"\", prod_level6_d_u: \"\"                     },                     {mandt: \"508\", statement_id: \"0022485C10641EDCB8C749EA494DD9AE\", item_id: \"0022485C10641EDCB8C749EA494DF9AE\", dummy_icon: \"\", sku: \"000000000002321289\", sku_bom_alt: \"01\", bom_alt2: \"01\", app_id: \"\", prod_hierachy: \"0871D30Z40\", prod_level4_d: \"OthWomensHealth(WHC)\", prod_level5_d: \"OthWomensHealth(WHC)\", prod_level6_d: \"OthWomensHealth(WHC)\", pcn: \"\", ppnf: \"\", country: \"\", country_iso: \"\", ctbs_status: \"\", item_status: \"\", markt_based_on: \"\", flag_lisc_conc: \"\", flag_imm_impl: \"\", flag_pr_da_compl: \"\", grace_period: \"\", action_type: \"\", brain_evc: \"\", dossier_type: \"OTHERS\", req_documents: \"@0W@\", req_doc_region: \"\", del_agreed: \"\", comments: \"@0K@\", linecolor: \"C800\", dummy: \"\", dummy2: \"\", sorting: \"2 \", short_text_m: \"Ethylene oxide ster LCS IUS 16\", short_text_m_u: \"ETHYLENE OXIDE STER LCS IUS 16\", prod_level4_d_u: \"OTHWOMENSHEALTH(WHC)\", prod_level5_d_u: \"OTHWOMENSHEALTH(WHC)\", prod_level6_d_u: \"OTHWOMENSHEALTH(WHC)\"                     }                 ], tt_trd_data: [], tt_st_doc: []             },             {process_id: \"0022485C10641EDCB8C609730D8D177F\", statement_id: \"0022485C10641EDCB8C7630ECC8A59DF\", pa_statement_id: \"\", statement_num: \"000000007\", statm_descr: \"\", statm_type: \"Development / Drug Discovery\", function: \"GLOBAL REGULATORY AFFAIRS\", statm_status: \"Finalized\", resp_function: \"Souvik Hazra (User EIHTO)\", due_date: \"03.06.2022\", owner: \"Souvik Hazra (User EIHTO)\", current_user: \"EIHTO (Hazra, Souvik)\", predecessors: \"\", cons1: \"\", cons2: \"\", deletion_flag: \"\", phase: \"In Review\", brain_evtc: \"00000\", brain_evtc2: \"00000\", brain_evtc3: \"00000\", brain_evtc4: \"00000\", duration: \"000\", labeling_prio: \"\", regulatory_prio: \"CMC_1\", imm_impl: \"NO\", flag_labpot_affe: \"NO\", ra_manager: \"\", costs: \"0 \", cmc_prio: \"\", estim_avail: \"00000000\", change_category: \"\", created_at: \"02.06.2022 06:13:18\", changed_at: \"02.06.2022 06:32:46\", created_by: \"EIHTO (Hazra, Souvik)\", changed_by: \"EIHTO (Hazra, Souvik)\", notes: \"\", items: \"\", tt_app_data: [], tt_ra_data: [                     {mandt: \"508\", statement_id: \"0022485C10641EDCB8C7630ECC8A59DF\", item_id: \"0022485C10641EDCB8C7630ECC8A99DF\", dummy_icon: \"@3Z@\", sku: \"\", sku_bom_alt: \"00\", bom_alt2: \"\", app_id: \"\", prod_hierachy: \"\", prod_level4_d: \"\", prod_level5_d: \"\", prod_level6_d: \"\", pcn: \"\", ppnf: \"\", country: \"\", country_iso: \"\", ctbs_status: \"\", item_status: \"\", markt_based_on: \"\", flag_lisc_conc: \"\", flag_imm_impl: \"\", flag_pr_da_compl: \"\", grace_period: \"\", action_type: \"\", brain_evc: \"\", dossier_type: \"OTHERS\", req_documents: \"@0W@\", req_doc_region: \"\", del_agreed: \"\", comments: \"@0K@\", linecolor: \"C300\", dummy: \"X\", dummy2: \"\", sorting: \"1 \", short_text_m: \"\", short_text_m_u: \"\", prod_level4_d_u: \"\", prod_level5_d_u: \"\", prod_level6_d_u: \"\"                     },                     {mandt: \"508\", statement_id: \"0022485C10641EDCB8C7630ECC8A59DF\", item_id: \"0022485C10641EDCB8C7630ECC8A79DF\", dummy_icon: \"\", sku: \"000000000002321289\", sku_bom_alt: \"01\", bom_alt2: \"01\", app_id: \"\", prod_hierachy: \"0871D30Z40\", prod_level4_d: \"OthWomensHealth(WHC)\", prod_level5_d: \"OthWomensHealth(WHC)\", prod_level6_d: \"OthWomensHealth(WHC)\", pcn: \"\", ppnf: \"\", country: \"\", country_iso: \"\", ctbs_status: \"\", item_status: \"\", markt_based_on: \"\", flag_lisc_conc: \"\", flag_imm_impl: \"\", flag_pr_da_compl: \"\", grace_period: \"\", action_type: \"\", brain_evc: \"\", dossier_type: \"OTHERS\", req_documents: \"@0W@\", req_doc_region: \"\", del_agreed: \"\", comments: \"@0K@\", linecolor: \"C800\", dummy: \"\", dummy2: \"\", sorting: \"2 \", short_text_m: \"Ethylene oxide ster LCS IUS 16\", short_text_m_u: \"ETHYLENE OXIDE STER LCS IUS 16\", prod_level4_d_u: \"OTHWOMENSHEALTH(WHC)\", prod_level5_d_u: \"OTHWOMENSHEALTH(WHC)\", prod_level6_d_u: \"OTHWOMENSHEALTH(WHC)\"                     }                 ], tt_trd_data: [], tt_st_doc: []             },             {process_id: \"0022485C10641EDCB8C609730D8D177F\", statement_id: \"0022485C10641EDCB8C797F6041FDA38\", pa_statement_id: \"\", statement_num: \"000000008\", statm_descr: \"\", statm_type: \"Development / Drug Discovery\", function: \"ACTIVE TOLL MANUFACTURING\", statm_status: \"Finalized\", resp_function: \"Souvik Hazra (User EIHTO)\", due_date: \"03.06.2022\", owner: \"Souvik Hazra (User EIHTO)\", current_user: \"EIHTO (Hazra, Souvik)\", predecessors: \"\", cons1: \"\", cons2: \"\", deletion_flag: \"\", phase: \"In Review\", brain_evtc: \"00000\", brain_evtc2: \"00000\", brain_evtc3: \"00000\", brain_evtc4: \"00000\", duration: \"000\", labeling_prio: \"\", regulatory_prio: \"\", imm_impl: \"NO\", flag_labpot_affe: \"NO\", ra_manager: \"\", costs: \"0 \", cmc_prio: \"\", estim_avail: \"00000000\", change_category: \"\", created_at: \"02.06.2022 06:25:09\", changed_at: \"02.06.2022 06:34:32\", created_by: \"EIHTO (Hazra, Souvik)\", changed_by: \"EIHTO (Hazra, Souvik)\", notes: \"\", items: \"\", tt_app_data: [], tt_ra_data: [                     {mandt: \"508\", statement_id: \"0022485C10641EDCB8C797F6041FDA38\", item_id: \"0022485C10641EDCB8C797F604201A38\", dummy_icon: \"@3Z@\", sku: \"\", sku_bom_alt: \"00\", bom_alt2: \"\", app_id: \"\", prod_hierachy: \"\", prod_level4_d: \"\", prod_level5_d: \"\", prod_level6_d: \"\", pcn: \"\", ppnf: \"\", country: \"\", country_iso: \"\", ctbs_status: \"\", item_status: \"\", markt_based_on: \"\", flag_lisc_conc: \"\", flag_imm_impl: \"\", flag_pr_da_compl: \"\", grace_period: \"\", action_type: \"\", brain_evc: \"\", dossier_type: \"ICH EU\", req_documents: \"@0W@\", req_doc_region: \"\", del_agreed: \"\", comments: \"@0K@\", linecolor: \"C300\", dummy: \"X\", dummy2: \"\", sorting: \"1 \", short_text_m: \"\", short_text_m_u: \"\", prod_level4_d_u: \"\", prod_level5_d_u: \"\", prod_level6_d_u: \"\"                     },                     {mandt: \"508\", statement_id: \"0022485C10641EDCB8C797F6041FDA38\", item_id: \"0022485C10641EDCB8C797F604203A38\", dummy_icon: \"@PN@\", sku: \"\", sku_bom_alt: \"00\", bom_alt2: \"\", app_id: \"\", prod_hierachy: \"0810A20211\", prod_level4_d: \"zz_invalid Levitra\", prod_level5_d: \"zz_invalid Levitra\", prod_level6_d: \"zz_invalid Levitra\", pcn: \"\", ppnf: \"\", country: \"FR\", country_iso: \"FR\", ctbs_status: \"\", item_status: \"\", markt_based_on: \"\", flag_lisc_conc: \"\", flag_imm_impl: \"\", flag_pr_da_compl: \"\", grace_period: \"\", action_type: \"\", brain_evc: \"\", dossier_type: \"ICH EU\", req_documents: \"@0W@\", req_doc_region: \"\", del_agreed: \"\", comments: \"@0K@\", linecolor: \"C300\", dummy: \"\", dummy2: \"X\", sorting: \"2 \", short_text_m: \"\", short_text_m_u: \"\", prod_level4_d_u: \"ZZ_INVALID LEVITRA\", prod_level5_d_u: \"ZZ_INVALID LEVITRA\", prod_level6_d_u: \"ZZ_INVALID LEVITRA\"                     },                     {mandt: \"508\", statement_id: \"0022485C10641EDCB8C797F6041FDA38\", item_id: \"0022485C10641EDCB8C797F6041FFA38\", dummy_icon: \"\", sku: \"000000000003352483\", sku_bom_alt: \"00\", bom_alt2: \"\", app_id: \"BL0000005670\", prod_hierachy: \"0810A202110810TANM\", prod_level4_d: \"zz_invalid Levitra\", prod_level5_d: \"zz_invalid Levitra Tablets\", prod_level6_d: \"zz_invalid Levitra Ta 10 Mg\", pcn: \"\", ppnf: \"\", country: \"FR\", country_iso: \"FR\", ctbs_status: \"3\", item_status: \"\", markt_based_on: \"\", flag_lisc_conc: \"\", flag_imm_impl: \"\", flag_pr_da_compl: \"\", grace_period: \"\", action_type: \"\", brain_evc: \"\", dossier_type: \"ICH EU\", req_documents: \"@0W@\", req_doc_region: \"\", del_agreed: \"\", comments: \"@0K@\", linecolor: \"C800\", dummy: \"\", dummy2: \"\", sorting: \"3 \", short_text_m: \"LEVITRA TABL 10 MG        2 ST\", short_text_m_u: \"LEVITRA TABL 10 MG        2 ST\", prod_level4_d_u: \"ZZ_INVALID LEVITRA\", prod_level5_d_u: \"ZZ_INVALID LEVITRA TABLETS\", prod_level6_d_u: \"ZZ_INVALID LEVITRA TA 10 MG\"                     }                 ], tt_trd_data: [], tt_st_doc: []             },             {process_id: \"0022485C10641EDCB8C609730D8D177F\", statement_id: \"0022485C10641EDCB8C797F604205A38\", pa_statement_id: \"\", statement_num: \"000000009\", statm_descr: \"\", statm_type: \"Development / Drug Discovery\", function: \"ACTIVE TOLL MANUFACTURING\", statm_status: \"Finalized\", resp_function: \"Souvik Hazra (User EIHTO)\", due_date: \"03.06.2022\", owner: \"Souvik Hazra (User EIHTO)\", current_user: \"EIHTO (Hazra, Souvik)\", predecessors: \"\", cons1: \"\", cons2: \"\", deletion_flag: \"\", phase: \"In Review\", brain_evtc: \"00000\", brain_evtc2: \"00000\", brain_evtc3: \"00000\", brain_evtc4: \"00000\", duration: \"000\", labeling_prio: \"\", regulatory_prio: \"\", imm_impl: \"NO\", flag_labpot_affe: \"NO\", ra_manager: \"\", costs: \"0 \", cmc_prio: \"\", estim_avail: \"00000000\", change_category: \"\", created_at: \"02.06.2022 06:25:09\", changed_at: \"02.06.2022 06:35:22\", created_by: \"EIHTO (Hazra, Souvik)\", changed_by: \"EIHTO (Hazra, Souvik)\", notes: \"\", items: \"\", tt_app_data: [], tt_ra_data: [                     {mandt: \"508\", statement_id: \"0022485C10641EDCB8C797F604205A38\", item_id: \"0022485C10641EDCB8C797F60420BA38\", dummy_icon: \"@3Z@\", sku: \"\", sku_bom_alt: \"00\", bom_alt2: \"\", app_id: \"\", prod_hierachy: \"\", prod_level4_d: \"\", prod_level5_d: \"\", prod_level6_d: \"\", pcn: \"\", ppnf: \"\", country: \"\", country_iso: \"\", ctbs_status: \"\", item_status: \"\", markt_based_on: \"\", flag_lisc_conc: \"\", flag_imm_impl: \"\", flag_pr_da_compl: \"\", grace_period: \"\", action_type: \"\", brain_evc: \"\", dossier_type: \"OTHERS\", req_documents: \"@0W@\", req_doc_region: \"\", del_agreed: \"\", comments: \"@0K@\", linecolor: \"C300\", dummy: \"X\", dummy2: \"\", sorting: \"1 \", short_text_m: \"\", short_text_m_u: \"\", prod_level4_d_u: \"\", prod_level5_d_u: \"\", prod_level6_d_u: \"\"                     },                     {mandt: \"508\", statement_id: \"0022485C10641EDCB8C797F604205A38\", item_id: \"0022485C10641EDCB8C797F60420DA38\", dummy_icon: \"@PN@\", sku: \"\", sku_bom_alt: \"00\", bom_alt2: \"\", app_id: \"\", prod_hierachy: \"0871D20A33\", prod_level4_d: \"Jadelle\", prod_level5_d: \"Jadelle\", prod_level6_d: \"Jadelle\", pcn: \"\", ppnf: \"\", country: \"AQ\", country_iso: \"AQ\", ctbs_status: \"\", item_status: \"\", markt_based_on: \"\", flag_lisc_conc: \"\", flag_imm_impl: \"\", flag_pr_da_compl: \"\", grace_period: \"\", action_type: \"\", brain_evc: \"\", dossier_type: \"OTHERS\", req_documents: \"@0W@\", req_doc_region: \"\", del_agreed: \"\", comments: \"@0K@\", linecolor: \"C300\", dummy: \"\", dummy2: \"X\", sorting: \"2 \", short_text_m: \"\", short_text_m_u: \"\", prod_level4_d_u: \"JADELLE\", prod_level5_d_u: \"JADELLE\", prod_level6_d_u: \"JADELLE\"                     },                     {mandt: \"508\", statement_id: \"0022485C10641EDCB8C797F604205A38\", item_id: \"0022485C10641EDCB8C797F604209A38\", dummy_icon: \"\", sku: \"000000000082437569\", sku_bom_alt: \"01\", bom_alt2: \"01\", app_id: \"\", prod_hierachy: \"0871D20A330104IMCS\", prod_level4_d: \"Jadelle\", prod_level5_d: \"Jadelle, Implant\", prod_level6_d: \"Jadelle Implants\", pcn: \"\", ppnf: \"\", country: \"AQ\", country_iso: \"AQ\", ctbs_status: \"8\", item_status: \"\", markt_based_on: \"\", flag_lisc_conc: \"\", flag_imm_impl: \"\", flag_pr_da_compl: \"\", grace_period: \"\", action_type: \"\", brain_evc: \"\", dossier_type: \"OTHERS\", req_documents: \"@0W@\", req_doc_region: \"\", del_agreed: \"\", comments: \"@0K@\", linecolor: \"C800\", dummy: \"\", dummy2: \"\", sorting: \"3 \", short_text_m: \"JADELLE 2x75 mg 100 UNFPA\", short_text_m_u: \"JADELLE 2X75 MG 100 UNFPA\", prod_level4_d_u: \"JADELLE\", prod_level5_d_u: \"JADELLE, IMPLANT\", prod_level6_d_u: \"JADELLE IMPLANTS\"                     },                     {mandt: \"508\", statement_id: \"0022485C10641EDCB8C797F604205A38\", item_id: \"0022485C10641EDCB8C797F60420FA38\", dummy_icon: \"@PN@\", sku: \"\", sku_bom_alt: \"00\", bom_alt2: \"\", app_id: \"\", prod_hierachy: \"0871D20A33\", prod_level4_d: \"Jadelle\", prod_level5_d: \"Jadelle\", prod_level6_d: \"Jadelle\", pcn: \"\", ppnf: \"\", country: \"UN\", country_iso: \"UN\", ctbs_status: \"\", item_status: \"\", markt_based_on: \"\", flag_lisc_conc: \"\", flag_imm_impl: \"\", flag_pr_da_compl: \"\", grace_period: \"\", action_type: \"\", brain_evc: \"\", dossier_type: \"OTHERS\", req_documents: \"@0W@\", req_doc_region: \"\", del_agreed: \"\", comments: \"@0K@\", linecolor: \"C300\", dummy: \"\", dummy2: \"X\", sorting: \"4 \", short_text_m: \"\", short_text_m_u: \"\", prod_level4_d_u: \"JADELLE\", prod_level5_d_u: \"JADELLE\", prod_level6_d_u: \"JADELLE\"                     },                     {mandt: \"508\", statement_id: \"0022485C10641EDCB8C797F604205A38\", item_id: \"0022485C10641EDCB8C797F604207A38\", dummy_icon: \"\", sku: \"000000000082437569\", sku_bom_alt: \"01\", bom_alt2: \"01\", app_id: \"\", prod_hierachy: \"0871D20A330104IMCS\", prod_level4_d: \"Jadelle\", prod_level5_d: \"Jadelle, Implant\", prod_level6_d: \"Jadelle Implants\", pcn: \"\", ppnf: \"\", country: \"UN\", country_iso: \"UN\", ctbs_status: \"4\", item_status: \"\", markt_based_on: \"\", flag_lisc_conc: \"\", flag_imm_impl: \"\", flag_pr_da_compl: \"\", grace_period: \"\", action_type: \"\", brain_evc: \"\", dossier_type: \"OTHERS\", req_documents: \"@0W@\", req_doc_region: \"\", del_agreed: \"\", comments: \"@0K@\", linecolor: \"C800\", dummy: \"\", dummy2: \"\", sorting: \"5 \", short_text_m: \"JADELLE 2x75 mg 100 UNFPA\", short_text_m_u: \"JADELLE 2X75 MG 100 UNFPA\", prod_level4_d_u: \"JADELLE\", prod_level5_d_u: \"JADELLE, IMPLANT\", prod_level6_d_u: \"JADELLE IMPLANTS\"                     }                 ], tt_trd_data: [], tt_st_doc: []             }         ]     }",
        "payloadType": "str",
        "x": 90,
        "y": 640,
        "wires": [
            [
                "91a2d84cc573d554"
            ]
        ]
    },
    {
        "id": "bc82e96b083734a2",
        "type": "json",
        "z": "b0c6d4cf1e903799",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 530,
        "y": 740,
        "wires": [
            [
                "3f5117f4e3dde220"
            ]
        ]
    },
    {
        "id": "21f94f1b917ef214",
        "type": "split",
        "z": "32ccf302392ab325",
        "name": "Split Instruction Job",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 530,
        "y": 600,
        "wires": [
            [
                "125e3939a8087b54"
            ]
        ]
    },
    {
        "id": "7c61b420098faa39",
        "type": "change",
        "z": "32ccf302392ab325",
        "name": "nothing to process",
        "rules": [],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 190,
        "y": 1200,
        "wires": [
            [
                "cf3b63f7cf60b221"
            ]
        ]
    },
    {
        "id": "6bbb6dabce62d008",
        "type": "switch",
        "z": "32ccf302392ab325",
        "name": "instructions found?",
        "property": "$count(payload)",
        "propertyType": "jsonata",
        "rules": [
            {
                "t": "gt",
                "v": "0",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 210,
        "y": 600,
        "wires": [
            [
                "21f94f1b917ef214"
            ],
            [
                "8241817e88ece79e"
            ]
        ]
    },
    {
        "id": "a4a654ba0fa1d4aa",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "429ca0f28c6eb552",
        "name": "get automation configuration XLink Instruction objects",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"SELECT id, name__v \"&\t\"FROM automation_configuration__c \"&\t\"WHERE automation__c = 'Create XLink Instruction \" & flow.login.instruction.subset & \"' AND status__v = 'active__v'\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 900,
        "y": 540,
        "wires": [
            [
                "5d4e65bff3be5948"
            ]
        ]
    },
    {
        "id": "4fa716b595bc5a73",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "429ca0f28c6eb552",
        "name": "Set payload to aray of XLink instructions",
        "rules": [
            {
                "t": "set",
                "p": "flow.instructions",
                "pt": "msg",
                "to": "payload.data",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "flow.instructions[]",
                "tot": "jsonata",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1760,
        "y": 540,
        "wires": [
            [
                "6bbb6dabce62d008",
                "a6173c01ed59b86f"
            ]
        ]
    },
    {
        "id": "c2f38571712ac056",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "81e9aec5f845a51a",
        "name": "Set New Doc/Vers Query",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "$join(\t    [\t        \"SELECT\", \t        (\t            $join(\t                $distinct(\t                    $append(\t                        [\t                            \"id\",\t                            \"name__v\",\t                            \"title__v\",\t                            \"version_id\",\t                            \"major_version_number__v\",\t                            \"minor_version_number__v\",\t                            \"version_modified_date__v\",\t                            \"subtype__v\",\t                            \"classification__v\",\t                            \"type__v\",\t                            \"pages__v\"\t                        ],\t                        flow.instruction.source.select\t                    )\t                ),\t                \", \"\t            )\t        ),\t        \"FROM ALLVERSIONS documents\",\t        \"WHERE crosslink__v = false\", \t        \"AND binder__v = false\",\t        /*set the query interval between last run and now, shifted 2 Minute back to avoid any overlaps with ongoing write processes\t        use 1 second overlap between 2 runs to avoid any complications with potential rounding errors worst case an update would be processed twice*/\t        \"AND version_creation_date__v > '\" & $fromMillis(flow.instruction.last_run - 10,'[Y0001]-[M01]-[D01]T[H01]:[m01]:[s01].000Z') & \"'\",\t        \"AND version_creation_date__v < '\" & $fromMillis(flow.instruction.this_run - 10,'[Y0001]-[M01]-[D01]T[H01]:[m01]:[s01].000Z') & \"'\",\t        (flow.instruction.source.where?\"AND (\" & flow.instruction.source.where & \")\")\t    ], \" \"\t)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1070,
        "y": 1020,
        "wires": [
            [
                "a1a5eb79e0febac3",
                "901c4527bc686831"
            ]
        ]
    },
    {
        "id": "d79d102ad4097dd6",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "81e9aec5f845a51a",
        "name": "set new source docs/vers",
        "rules": [
            {
                "t": "set",
                "p": "flow.source",
                "pt": "msg",
                "to": "{}",
                "tot": "json"
            },
            {
                "t": "set",
                "p": "flow.source.doc_vers",
                "pt": "msg",
                "to": "payload.data@$d.\t    $merge([\t        $d, \t        {\"sort_version\":$d.major_version_number__v*10000+$d.minor_version_number__v,\t        \"query_source\": \"created\"}\t        ]\t    )\t",
                "tot": "jsonata",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1710,
        "y": 1020,
        "wires": [
            [
                "fceb3d3d2e109212",
                "901c4527bc686831"
            ]
        ]
    },
    {
        "id": "1f7bb3f9cee07698",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "efd44d58605fc3aa",
        "name": "set xlink.doc_vers",
        "rules": [
            {
                "t": "set",
                "p": "flow.xlink",
                "pt": "msg",
                "to": "{}",
                "tot": "json"
            },
            {
                "t": "set",
                "p": "flow.xlink.doc_vers",
                "pt": "msg",
                "to": "payload.data@$d.\t    $merge(\t        [\t            $d,\t            {\t                \"source_version_id\":$d.source_document_id__v&\"_\"&$d.bound_source_major_version__v&\"_\"&$d.bound_source_minor_version__v,\t                \"sort_version\": $d.major_version_number__v*10000 + $d.minor_version_number__v,\t                \"sort_bound_version\": $d.bound_source_major_version__v*10000 + $d.bound_source_minor_version__v\t            }\t        ]\t    )",
                "tot": "jsonata",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1690,
        "y": 1240,
        "wires": [
            [
                "60d92ecbd137ffc5",
                "c653bd43402589c0"
            ]
        ]
    },
    {
        "id": "5c0e24dc64906e80",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "41304ce80e23ede0",
        "name": "set array of objects",
        "rules": [
            {
                "t": "set",
                "p": "loop.objects",
                "pt": "msg",
                "to": "$lookup(flow.instruction, loop.vault).objects",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "loop.object_counter",
                "pt": "msg",
                "to": "$count(loop.objects)-1",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 1460,
        "wires": [
            [
                "43d96a0c94607243"
            ]
        ]
    },
    {
        "id": "8e6f0e445fe834fd",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "c9d97f19c3150a81",
        "name": "set object name and fields",
        "rules": [
            {
                "t": "set",
                "p": "loop.object",
                "pt": "msg",
                "to": "loop.objects[$$.loop.object_counter]",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "loop.fields",
                "pt": "msg",
                "to": "$distinct(\t   $append(\t       [\"id\",\"name__v\"],\t       (loop.object.fields[]?loop.object.fields[]:[])\t       )\t   )\t",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"SELECT \" & $join(loop.fields, \", \") &\t\" FROM \" & loop.object.object_name/*&\t\" WHERE modified_date__v > '\" & \t$fromMillis(last_run-60000, '[Y0001]-[M01]-[D01]T[H01]:[m01]:[s01].000Z') & \t\"'\"*/",
                "tot": "jsonata",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1290,
        "y": 1540,
        "wires": [
            [
                "a34ef488b787110f"
            ]
        ]
    },
    {
        "id": "a0e45cab2802cf07",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "c9d97f19c3150a81",
        "name": "set objects",
        "rules": [
            {
                "t": "move",
                "p": "payload.data",
                "pt": "msg",
                "to": "loop.result",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "loop.result",
                "pt": "msg",
                "to": "(\t   $upd_ids:= loop.result.id;\t   $append(\t       loop.redis_result.data[$not(id in $upd_ids)][], /*take those from redis source which have not been updated*/\t       loop.result[] /*append the updated*/\t   )\t)",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "loop.results",
                "pt": "msg",
                "to": "$merge(\t        [\t            loop.results,\t            {loop.object.object_name:loop.result}\t        ]\t    )\t",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "loop.updated",
                "pt": "msg",
                "to": "$boolean($count(loop.result))",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1850,
        "y": 1600,
        "wires": [
            [
                "5f16de4c7ec4bf71",
                "b89ccd2b6a4fe943"
            ]
        ]
    },
    {
        "id": "4c2cd057f4d612dd",
        "type": "switch",
        "z": "32ccf302392ab325",
        "g": "56bca0108c880039",
        "name": "process in the following order: \\n 1. new doc \\n 2. update xlink \\n 3. approve xlink \\n 4. new version \\n 5. process unmatched \\n 6. done",
        "property": "true",
        "propertyType": "jsonata",
        "rules": [
            {
                "t": "jsonata_exp",
                "v": "$count(loop.new_sources) > 0",
                "vt": "jsonata"
            },
            {
                "t": "jsonata_exp",
                "v": "$count(loop.update_xlinks) > 0",
                "vt": "jsonata"
            },
            {
                "t": "jsonata_exp",
                "v": "$count(loop.approve_xlinks) > 0",
                "vt": "jsonata"
            },
            {
                "t": "jsonata_exp",
                "v": "$count(loop.new_versions) > 0",
                "vt": "jsonata"
            },
            {
                "t": "jsonata_exp",
                "v": "$count(loop.unmatched_xlinks) > 0",
                "vt": "jsonata"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 6,
        "x": 1730,
        "y": 3100,
        "wires": [
            [
                "b587d10aedda5fcd"
            ],
            [
                "386b3e9297c89e33"
            ],
            [
                "8cea64c69e31787e"
            ],
            [
                "095d7fef212c31e5"
            ],
            [
                "d25530bf3a20932d"
            ],
            [
                "cf3b63f7cf60b221"
            ]
        ]
    },
    {
        "id": "db3791d9ed978489",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "41304ce80e23ede0",
        "name": "update flow variable",
        "rules": [
            {
                "t": "set",
                "p": "data_source",
                "pt": "msg",
                "to": "$merge([data_source,\t    {\t        loop.vault:\t        $merge([$lookup(data_source, loop.vault),\t        {\"objects\":loop.results}\t        ])\t    }\t])",
                "tot": "jsonata"
            },
            {
                "t": "delete",
                "p": "loop.results",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1040,
        "y": 1680,
        "wires": [
            [
                "7040b85238e089d1",
                "39bdbb6eb6b7e9a6"
            ]
        ]
    },
    {
        "id": "9e5f2290ac163ac6",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "50739f124cb8563b",
        "name": "set vault_domain to source vault",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\t    \"vault_domain\": flow.instruction.source.vault_domain,\t    \"username\": flow.login.username,\t    \"password\": flow.login.password\t}",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "vault_domain",
                "pt": "msg",
                "to": "payload.vault_domain",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "delete",
                "p": "vault_api",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "session_id",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "vault_id",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "user_id",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 830,
        "y": 780,
        "wires": [
            [
                "19bde3e0fb9dfb78"
            ]
        ]
    },
    {
        "id": "125e3939a8087b54",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "429ca0f28c6eb552",
        "name": "prepare get xlink instruction",
        "rules": [
            {
                "t": "set",
                "p": "flow.instruction",
                "pt": "msg",
                "to": "{\"name__v\": payload.name__v}",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "args",
                "pt": "msg",
                "to": "{\"settings_name\": flow.instruction.name__v,\t\"attachment_name\": \"xlink_instruction.json\"}",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "client_id",
                "pt": "msg",
                "to": "$replace(\t   client_id & flow.instruction.name__v,\t   /[ \"']/,\t   \"_\"\t)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 820,
        "y": 600,
        "wires": [
            [
                "bc609eeb15ca8db3",
                "ac370157a733f606"
            ]
        ]
    },
    {
        "id": "8241817e88ece79e",
        "type": "link out",
        "z": "32ccf302392ab325",
        "name": "link out 6",
        "mode": "link",
        "links": [
            "b17c60a28ec7cf9d"
        ],
        "x": 135,
        "y": 660,
        "wires": []
    },
    {
        "id": "04be81a30ca8b5f2",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "56418a5f1c01fec3",
        "name": "prepare login and set starttime",
        "rules": [
            {
                "t": "set",
                "p": "starttime",
                "pt": "msg",
                "to": "$now()",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload.vault_domain",
                "pt": "msg",
                "to": "flow.login.instruction.vault_domain",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "payload.username",
                "pt": "msg",
                "to": "flow.login.username",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "payload.password",
                "pt": "msg",
                "to": "flow.login.password",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "client_id",
                "pt": "msg",
                "to": "\"create_xlink__\" & flow.login.instruction.subset",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1310,
        "y": 320,
        "wires": [
            [
                "5d8fcbc38bdd98ae"
            ]
        ]
    },
    {
        "id": "6d6a4fcc6fff5a7a",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "56418a5f1c01fec3",
        "name": "save settings",
        "rules": [
            {
                "t": "set",
                "p": "flow.settings",
                "pt": "msg",
                "to": "payload",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1850,
        "y": 380,
        "wires": [
            [
                "a4a654ba0fa1d4aa",
                "91facf7f2cde805d"
            ]
        ]
    },
    {
        "id": "70cae716aaa25fda",
        "type": "subflow:fca036ab5aa23301",
        "z": "32ccf302392ab325",
        "g": "56418a5f1c01fec3",
        "name": "",
        "x": 1570,
        "y": 380,
        "wires": [
            [
                "6d6a4fcc6fff5a7a"
            ],
            [
                "cfadd0fab9ef544b",
                "c012f787da98de2b"
            ]
        ]
    },
    {
        "id": "cfadd0fab9ef544b",
        "type": "link out",
        "z": "32ccf302392ab325",
        "g": "56418a5f1c01fec3",
        "name": "Error Abbort",
        "mode": "link",
        "links": [
            "65a23e1026df92f0"
        ],
        "x": 1725,
        "y": 380,
        "wires": [],
        "icon": "font-awesome/fa-hand-stop-o"
    },
    {
        "id": "777a7cc7782db188",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "56418a5f1c01fec3",
        "name": "save login",
        "rules": [
            {
                "t": "set",
                "p": "flow.login.instruction",
                "pt": "msg",
                "to": "$merge(\t   [\t       flow.login.instruction,\t       {\t           \"client_id\":    client_id,\t           \"vault_api\":    vault_api,\t           \"session_id\":   session_id,\t           \"user_id\":      user_id,\t           \"vault_id\":     vault_id,\t           \"vault_domain\": vault_domain\t       }\t   ]\t)",
                "tot": "jsonata",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1860,
        "y": 320,
        "wires": [
            [
                "70cae716aaa25fda"
            ]
        ]
    },
    {
        "id": "5d4e65bff3be5948",
        "type": "brave-vql-query",
        "z": "32ccf302392ab325",
        "g": "429ca0f28c6eb552",
        "name": "",
        "x": 1290,
        "y": 540,
        "wires": [
            [
                "4fa716b595bc5a73"
            ],
            [
                "f31ed7f84d10db2d",
                "a32cf550f15f2149"
            ]
        ]
    },
    {
        "id": "7beeedbcdbb543dd",
        "type": "debug",
        "z": "32ccf302392ab325",
        "name": "catch error",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3070,
        "y": 640,
        "wires": []
    },
    {
        "id": "1b602c62a8f8490b",
        "type": "link in",
        "z": "32ccf302392ab325",
        "g": "c7efaadd103f03ab",
        "name": "Error Log and continue",
        "links": [
            "ac87a34d55764163",
            "4bbfae722449baaa",
            "55db3214a632ccd1",
            "5a051ccd4278ef54"
        ],
        "x": 2720,
        "y": 1140,
        "wires": [
            [
                "d9a2762c2e2ad88a",
                "9bb271194bb04e59"
            ]
        ],
        "l": true
    },
    {
        "id": "d9a2762c2e2ad88a",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "c7efaadd103f03ab",
        "name": "LOG to Redis",
        "rules": [
            {
                "t": "set",
                "p": "args.topic",
                "pt": "msg",
                "to": "$replace(\t   $join(\t       [\t           \"LOG__\" & client_id,\t           $string(_object_id),\t           $replace(\t               starttime?starttime:$now()\t               ,\":\",\"-\"),\t           \"WARNING\",\t           \"h\"\t       ],\t       \":\"\t   ),\t   /[ \"']/,\t   \"_\"\t)",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "args.method",
                "pt": "msg",
                "to": "SET",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "$append(\t   _log,\t   {\t       \"timestamp\": $now(),\t       \"severity\": \"WARNING\",\t       \"message\": $merge($each($, function($v, $k) {($k!=\"req\" and $k!=\"res\")?{$k:$v}})),\t       \"source\":  $string(_event)\t   }\t)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2940,
        "y": 1140,
        "wires": [
            [
                "48fe5631df2c493f"
            ]
        ]
    },
    {
        "id": "88ffdf68af18353e",
        "type": "brave-redis-queue",
        "z": "32ccf302392ab325",
        "g": "c7efaadd103f03ab",
        "name": "",
        "x": 3270,
        "y": 1140,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "48fe5631df2c493f",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "c7efaadd103f03ab",
        "name": "set expire",
        "rules": [
            {
                "t": "set",
                "p": "args.expire",
                "pt": "msg",
                "to": "6*7*24*60*60",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3120,
        "y": 1140,
        "wires": [
            [
                "88ffdf68af18353e"
            ]
        ]
    },
    {
        "id": "140a8db09b126d12",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "112ad226549927de",
        "name": "LOG to Redis",
        "rules": [
            {
                "t": "set",
                "p": "args.topic",
                "pt": "msg",
                "to": "$replace(\t   $join(\t       [\t           \"LOG__\" & client_id,\t           $string(_object_id),\t           $replace(\t               starttime?starttime:$now()\t               ,\":\",\"-\"),\t           \"ERROR_catched\",\t           \"h\"\t       ],\t       \":\"\t   ),\t   /[ \"']/,\t   \"_\"\t)",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "args.method",
                "pt": "msg",
                "to": "SET",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "_log",
                "pt": "msg",
                "to": "$append(\t   _log,\t    {\t    \"timestamp\": $now(),\t    \"severity\": \"ERROR\",\t    \"message\": $merge($each($, function($v, $k) {($k!=\"req\" and $k!=\"res\")?{$k:$v}})),\t    \"source\":  \"catch error\"    \t    }\t)",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "_log",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2900,
        "y": 780,
        "wires": [
            [
                "63d3f29559e1ebef"
            ]
        ]
    },
    {
        "id": "16c13a2dce568692",
        "type": "catch",
        "z": "32ccf302392ab325",
        "g": "112ad226549927de",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 2680,
        "y": 780,
        "wires": [
            [
                "140a8db09b126d12",
                "7beeedbcdbb543dd"
            ]
        ]
    },
    {
        "id": "e3cf621d12ed62ba",
        "type": "brave-redis-queue",
        "z": "32ccf302392ab325",
        "g": "112ad226549927de",
        "name": "",
        "x": 3270,
        "y": 780,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "63d3f29559e1ebef",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "112ad226549927de",
        "name": "set expire",
        "rules": [
            {
                "t": "set",
                "p": "args.expire",
                "pt": "msg",
                "to": "6*7*24*60*60",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3100,
        "y": 780,
        "wires": [
            [
                "e3cf621d12ed62ba"
            ]
        ]
    },
    {
        "id": "c96ca9b21d127acd",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "5921be1c98a95c97",
        "name": "LOG to Redis",
        "rules": [
            {
                "t": "set",
                "p": "args.topic",
                "pt": "msg",
                "to": "$replace(\t   $join(\t       [\t           \"LOG__\" & client_id,\t           $string(_object_id),\t           $replace(\t               starttime?starttime:$now()\t               ,\":\",\"-\"),\t           \"INFO\",\t           \"h\"\t       ],\t       \":\"\t   ),\t   /[ \"']/,\t   \"_\"\t)",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "args.method",
                "pt": "msg",
                "to": "SET",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "$append(\t   _log,\t   {\t       \"timestamp\": $now(),\t       \"severity\": \"INFO\",\t       \"message\": $merge($each($, function($v, $k) {($k!=\"req\" and $k!=\"res\")?{$k:$v}})),\t       \"source\":  $string(_event)\t   }\t)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2940,
        "y": 1240,
        "wires": [
            [
                "064dfbf497fd7675"
            ]
        ]
    },
    {
        "id": "064dfbf497fd7675",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "5921be1c98a95c97",
        "name": "set expire",
        "rules": [
            {
                "t": "set",
                "p": "args.expire",
                "pt": "msg",
                "to": "6*7*24*60*60",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3120,
        "y": 1240,
        "wires": [
            [
                "2306fc661c0fce8f"
            ]
        ]
    },
    {
        "id": "2306fc661c0fce8f",
        "type": "brave-redis-queue",
        "z": "32ccf302392ab325",
        "g": "5921be1c98a95c97",
        "name": "",
        "x": 3270,
        "y": 1240,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "1ff3562c7836d257",
        "type": "link in",
        "z": "32ccf302392ab325",
        "g": "5921be1c98a95c97",
        "name": "Info",
        "links": [],
        "x": 2670,
        "y": 1240,
        "wires": [
            [
                "f41131fa21eadd1a"
            ]
        ],
        "l": true
    },
    {
        "id": "f41131fa21eadd1a",
        "type": "switch",
        "z": "32ccf302392ab325",
        "g": "5921be1c98a95c97",
        "name": "",
        "property": "flow.settings.debug",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 2790,
        "y": 1240,
        "wires": [
            [
                "c96ca9b21d127acd"
            ]
        ]
    },
    {
        "id": "bc609eeb15ca8db3",
        "type": "subflow:fca036ab5aa23301",
        "z": "32ccf302392ab325",
        "g": "429ca0f28c6eb552",
        "name": "Retrieve Instruction",
        "x": 1290,
        "y": 600,
        "wires": [
            [
                "68fb25c91563f7fa"
            ],
            [
                "31af2fa0558d0fc5"
            ]
        ]
    },
    {
        "id": "68fb25c91563f7fa",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "429ca0f28c6eb552",
        "name": "Set Instruction",
        "rules": [
            {
                "t": "set",
                "p": "flow.instruction",
                "pt": "msg",
                "to": "$merge([flow.instruction, payload])",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "flow.instruction.this_run",
                "pt": "msg",
                "to": "$toMillis(starttime)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1680,
        "y": 600,
        "wires": [
            [
                "408ac06e1066e45f"
            ]
        ]
    },
    {
        "id": "4edbbaa923361a34",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "50739f124cb8563b",
        "name": "save login",
        "rules": [
            {
                "t": "set",
                "p": "flow.login.source",
                "pt": "msg",
                "to": "{\t    \"client_id\":    client_id,\t    \"vault_api\":    vault_api,\t    \"session_id\":   session_id,\t    \"user_id\":      user_id,\t    \"vault_id\":     vault_id,\t    \"vault_domain\": vault_domain\t}",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "_log",
                "pt": "msg",
                "to": "$append(_log, [{\t   \"status\": \"SUCCESS\",\t   \"action\": \"login xlink vault: \" & vaultDNS,\t   \"user_id\": create_xlink.source.vault.user_id\t}])",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1680,
        "y": 780,
        "wires": [
            [
                "ed87816caa006967"
            ]
        ]
    },
    {
        "id": "ed87816caa006967",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "8dfbdc55ff62d17e",
        "name": "set vault_domain to xlink vault",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\t    \"vault_domain\": flow.instruction.xlink.vault_domain,\t    \"username\": flow.login.username,\t    \"password\": flow.login.password\t}",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "vault_domain",
                "pt": "msg",
                "to": "payload.vault_domain",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 830,
        "y": 880,
        "wires": [
            [
                "318fe22d13edfa91"
            ]
        ]
    },
    {
        "id": "fdc58e621ebbbe79",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "8dfbdc55ff62d17e",
        "name": "save login",
        "rules": [
            {
                "t": "set",
                "p": "flow.login.xlink",
                "pt": "msg",
                "to": "{\t    \"client_id\":    client_id,\t    \"vault_api\":    vault_api,\t    \"session_id\":   session_id,\t    \"user_id\":      user_id,\t    \"vault_id\":     vault_id,\t    \"vault_domain\": vault_domain\t}",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "_log",
                "pt": "msg",
                "to": "$append(_log, [{\t   \"status\": \"SUCCESS\",\t   \"action\": \"login source vault: \" & vaultDNS,\t   \"user_id\": create_xlink.source.vault.user_id\t}])",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1680,
        "y": 880,
        "wires": [
            [
                "f051b5df1b4109a6"
            ]
        ]
    },
    {
        "id": "a1a5eb79e0febac3",
        "type": "brave-vql-query",
        "z": "32ccf302392ab325",
        "g": "81e9aec5f845a51a",
        "name": "",
        "x": 1330,
        "y": 1020,
        "wires": [
            [
                "d79d102ad4097dd6"
            ],
            [
                "9819636b1d12be9c"
            ]
        ]
    },
    {
        "id": "147a9502b275b3c1",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "efd44d58605fc3aa",
        "name": "set Document Query",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"SELECT \"&\t$join(\t   [\t       \"id\",\t       \"name__v\",\t       \"title__v\",\t       \"version_id\",\t       \"source_binding_rule__v\",\t       \"source_vault_id__v\",\t       \"source_document_id__v\",\t       \"major_version_number__v\",\t       \"minor_version_number__v\",\t       \"bound_source_major_version__v\",\t       \"bound_source_minor_version__v\",\t       \"version_modified_date__v\",\t       \"subtype__v\",\t       \"classification__v\",\t       \"type__v\",\t       \"description__v\"\t    ],\t   \", \"\t)\t&\" FROM ALLVERSIONS documents\" \t&\" WHERE crosslink__v = true \"\t/* &\" AND source_binding_rule__v = 'Specific document version'\"*/\t&\" AND created_by__v = \" & user_id\t&\" AND source_vault_id__v = \" & $string(flow.login.source.vault_id)\t&\" AND source_document_id__v CONTAINS (\"&  \t        $join($distinct(flow.source.doc_vers.$string(id)[]\t                    ),\t            \", \")\t   &\")\"\t/*version modified date is useless for xlinks, since all versions get updated on almost?? any change of the source document, so just get all xlinks of a document.\tand work with it in the automation, seems to be just a waste of query time.\t&\" AND version_modified_date__v > '\" & $fromMillis(flow.instruction.last_run - 60*1000,'[Y0001]-[M01]-[D01]T[H01]:[m01]:[s01].000Z') & \"'\"\t&\" AND version_modified_date__v < '\" & $fromMillis(flow.instruction.this_run - 60*1000,'[Y0001]-[M01]-[D01]T[H01]:[m01]:[s01].000Z') & \"'\"*/\t",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1060,
        "y": 1240,
        "wires": [
            [
                "5df8e0d3f39b8b71",
                "c653bd43402589c0"
            ]
        ]
    },
    {
        "id": "5df8e0d3f39b8b71",
        "type": "brave-vql-query",
        "z": "32ccf302392ab325",
        "g": "efd44d58605fc3aa",
        "name": "",
        "x": 1330,
        "y": 1240,
        "wires": [
            [
                "1f7bb3f9cee07698"
            ],
            [
                "2a3858970a774fd8"
            ]
        ]
    },
    {
        "id": "d0e185a4bfe350ac",
        "type": "brave-vql-query",
        "z": "32ccf302392ab325",
        "g": "c9d97f19c3150a81",
        "name": "",
        "x": 1570,
        "y": 1600,
        "wires": [
            [
                "a0e45cab2802cf07",
                "39bdbb6eb6b7e9a6"
            ],
            [
                "abac2caf7c1bcc06"
            ]
        ]
    },
    {
        "id": "15bec87d7432aaf9",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "fd69ea7b671c7ec8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "loop.vault",
                "pt": "msg",
                "to": "loop.vaults[$$.loop.vault_counter]",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1020,
        "y": 1380,
        "wires": [
            [
                "e76b320db8a24dcf"
            ]
        ]
    },
    {
        "id": "f051b5df1b4109a6",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "81e9aec5f845a51a",
        "name": "switch to source vault",
        "rules": [
            {
                "t": "set",
                "p": "temp.login_details",
                "pt": "msg",
                "to": "$lookup(flow.login, \"source\")",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "client_id",
                "pt": "msg",
                "to": "temp.login_details.client_id",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "vault_api",
                "pt": "msg",
                "to": "temp.login_details.vault_api",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "session_id",
                "pt": "msg",
                "to": "temp.login_details.session_id",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "vault_domain",
                "pt": "msg",
                "to": "temp.login_details.vault_domain",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "user_id",
                "pt": "msg",
                "to": "temp.login_details.user_id",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 800,
        "y": 1020,
        "wires": [
            [
                "c2f38571712ac056"
            ]
        ]
    },
    {
        "id": "8e8c0131b37a7786",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "efd44d58605fc3aa",
        "name": "switch to xlink vault",
        "rules": [
            {
                "t": "set",
                "p": "temp.login_details",
                "pt": "msg",
                "to": "$lookup(flow.login, \"xlink\")",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "client_id",
                "pt": "msg",
                "to": "temp.login_details.client_id",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "vault_api",
                "pt": "msg",
                "to": "temp.login_details.vault_api",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "session_id",
                "pt": "msg",
                "to": "temp.login_details.session_id",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "vault_domain",
                "pt": "msg",
                "to": "temp.login_details.vault_domain",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "user_id",
                "pt": "msg",
                "to": "temp.login_details.user_id",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 790,
        "y": 1240,
        "wires": [
            [
                "147a9502b275b3c1"
            ]
        ]
    },
    {
        "id": "e76b320db8a24dcf",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "fd69ea7b671c7ec8",
        "name": "switch to loop.vault",
        "rules": [
            {
                "t": "set",
                "p": "temp.login_details",
                "pt": "msg",
                "to": "$lookup(flow.login, loop.vault)",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "client_id",
                "pt": "msg",
                "to": "temp.login_details.client_id",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "vault_api",
                "pt": "msg",
                "to": "temp.login_details.vault_api",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "session_id",
                "pt": "msg",
                "to": "temp.login_details.session_id",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "vault_domain",
                "pt": "msg",
                "to": "temp.login_details.vault_domain",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "user_id",
                "pt": "msg",
                "to": "temp.login_details.user_id",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1270,
        "y": 1380,
        "wires": [
            [
                "5c0e24dc64906e80"
            ]
        ]
    },
    {
        "id": "43d96a0c94607243",
        "type": "switch",
        "z": "32ccf302392ab325",
        "g": "c9d97f19c3150a81",
        "name": "while objects",
        "property": "loop.object_counter",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gte",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1030,
        "y": 1540,
        "wires": [
            [
                "8e6f0e445fe834fd"
            ],
            [
                "db3791d9ed978489"
            ]
        ]
    },
    {
        "id": "5f16de4c7ec4bf71",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "c9d97f19c3150a81",
        "name": "next object",
        "rules": [
            {
                "t": "set",
                "p": "loop.object_counter",
                "pt": "msg",
                "to": "loop.object_counter-1",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 1600,
        "wires": [
            [
                "43d96a0c94607243"
            ]
        ]
    },
    {
        "id": "7040b85238e089d1",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "4d78ed85bdabae1a",
        "name": "set array of picklists",
        "rules": [
            {
                "t": "set",
                "p": "loop.picklists",
                "pt": "msg",
                "to": "$lookup(flow.instruction, loop.vault).picklists",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "loop.picklist_counter",
                "pt": "msg",
                "to": "$count(loop.picklists)-1",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 1780,
        "wires": [
            [
                "c2cbee537b4269aa"
            ]
        ]
    },
    {
        "id": "45758664e9dcef85",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "4d78ed85bdabae1a",
        "name": "update flow variable",
        "rules": [
            {
                "t": "set",
                "p": "data_source",
                "pt": "msg",
                "to": "$merge([data_source,\t    {\t        loop.vault:\t        $merge([$lookup(data_source, loop.vault),\t        {\"picklists\":loop.results}\t        ])\t    }\t])",
                "tot": "jsonata"
            },
            {
                "t": "delete",
                "p": "loop.results",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1040,
        "y": 2000,
        "wires": [
            [
                "6240821847615af2",
                "7d904bf04f4f0d3f"
            ]
        ]
    },
    {
        "id": "e771e758c444a406",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "0f92c18136fd3dc8",
        "name": "set picklist name",
        "rules": [
            {
                "t": "set",
                "p": "loop.picklist",
                "pt": "msg",
                "to": "loop.picklists[$$.loop.picklist_counter]",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "args.picklist_name",
                "pt": "msg",
                "to": "loop.picklist.picklist_name",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1320,
        "y": 1860,
        "wires": [
            [
                "ef27b3b6b9051978",
                "7d904bf04f4f0d3f"
            ]
        ]
    },
    {
        "id": "c39b4bba303e859e",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "0f92c18136fd3dc8",
        "name": "set picklists",
        "rules": [
            {
                "t": "set",
                "p": "loop.results",
                "pt": "msg",
                "to": "$merge(\t        [\t            loop.results,\t            {loop.picklist.picklist_name:payload.picklistValues}\t        ]\t    )\t",
                "tot": "jsonata",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1850,
        "y": 1860,
        "wires": [
            [
                "b332f296eb49434e"
            ]
        ]
    },
    {
        "id": "c2cbee537b4269aa",
        "type": "switch",
        "z": "32ccf302392ab325",
        "g": "0f92c18136fd3dc8",
        "name": "while picklists",
        "property": "loop.picklist_counter",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gte",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1040,
        "y": 1860,
        "wires": [
            [
                "e771e758c444a406"
            ],
            [
                "45758664e9dcef85"
            ]
        ]
    },
    {
        "id": "b332f296eb49434e",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "0f92c18136fd3dc8",
        "name": "next picklist",
        "rules": [
            {
                "t": "set",
                "p": "loop.picklist_counter",
                "pt": "msg",
                "to": "loop.picklist_counter-1",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 1920,
        "wires": [
            [
                "c2cbee537b4269aa"
            ]
        ]
    },
    {
        "id": "ef27b3b6b9051978",
        "type": "brave-retrieve-picklist-values",
        "z": "32ccf302392ab325",
        "g": "0f92c18136fd3dc8",
        "name": "",
        "x": 1610,
        "y": 1860,
        "wires": [
            [
                "c39b4bba303e859e",
                "7d904bf04f4f0d3f"
            ],
            [
                "fb9d5cc853187d94"
            ]
        ]
    },
    {
        "id": "6240821847615af2",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "bbf1e46794a4a441",
        "name": "set array of mappings",
        "rules": [
            {
                "t": "set",
                "p": "loop.mappings",
                "pt": "msg",
                "to": "$lookup(flow.instruction, loop.vault).mappings",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "loop.mapping_counter",
                "pt": "msg",
                "to": "$count(loop.mappings)-1",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1040,
        "y": 2100,
        "wires": [
            [
                "a97c47fec71fbe28"
            ]
        ]
    },
    {
        "id": "9d7a8b92db25bb45",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "bbf1e46794a4a441",
        "name": "update flow variable",
        "rules": [
            {
                "t": "set",
                "p": "data_source",
                "pt": "msg",
                "to": "$merge([data_source,\t    {\t        loop.vault:\t        $merge([$lookup(data_source, loop.vault),\t        {\"mappings\":loop.results}\t        ])\t    }\t])",
                "tot": "jsonata"
            },
            {
                "t": "delete",
                "p": "loop.results",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1040,
        "y": 2320,
        "wires": [
            [
                "dc75f7a699c004da",
                "5a08d75fb4074cc4"
            ]
        ]
    },
    {
        "id": "a37dd9a1bb2b8117",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "2fb1f8ac58d94586",
        "name": "set mapping name",
        "rules": [
            {
                "t": "set",
                "p": "loop.mapping",
                "pt": "msg",
                "to": "loop.mappings[$$.loop.mapping_counter]",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "args.settings_name",
                "pt": "msg",
                "to": "loop.mapping.mapping_name",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "args.attachment_name",
                "pt": "msg",
                "to": "loop.mapping.attachment_name",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1350,
        "y": 2180,
        "wires": [
            [
                "0d5a5d47eaecf373",
                "5a08d75fb4074cc4"
            ]
        ]
    },
    {
        "id": "737be07023240fb1",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "2fb1f8ac58d94586",
        "name": "set mappings",
        "rules": [
            {
                "t": "set",
                "p": "loop.results",
                "pt": "msg",
                "to": "$merge(\t        [\t            loop.results,\t            {loop.mapping.mapping_name: payload}\t        ]\t    )\t",
                "tot": "jsonata",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1850,
        "y": 2180,
        "wires": [
            [
                "293ff87595bea7c7"
            ]
        ]
    },
    {
        "id": "a97c47fec71fbe28",
        "type": "switch",
        "z": "32ccf302392ab325",
        "g": "2fb1f8ac58d94586",
        "name": "while mappings",
        "property": "loop.mapping_counter",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gte",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1040,
        "y": 2180,
        "wires": [
            [
                "a37dd9a1bb2b8117"
            ],
            [
                "9d7a8b92db25bb45"
            ]
        ]
    },
    {
        "id": "293ff87595bea7c7",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "2fb1f8ac58d94586",
        "name": "next mapping",
        "rules": [
            {
                "t": "set",
                "p": "loop.mapping_counter",
                "pt": "msg",
                "to": "loop.mapping_counter-1",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1040,
        "y": 2240,
        "wires": [
            [
                "a97c47fec71fbe28"
            ]
        ]
    },
    {
        "id": "0d5a5d47eaecf373",
        "type": "subflow:fca036ab5aa23301",
        "z": "32ccf302392ab325",
        "g": "2fb1f8ac58d94586",
        "name": "Retrieve Mapping",
        "x": 1590,
        "y": 2180,
        "wires": [
            [
                "737be07023240fb1",
                "5a08d75fb4074cc4"
            ],
            [
                "40dc7c66631ca966"
            ]
        ]
    },
    {
        "id": "dc75f7a699c004da",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "fd69ea7b671c7ec8",
        "name": "next vault",
        "rules": [
            {
                "t": "set",
                "p": "loop.vault_counter",
                "pt": "msg",
                "to": "loop.vault_counter-1",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 760,
        "y": 2320,
        "wires": [
            [
                "5799f448191fa7c7"
            ]
        ]
    },
    {
        "id": "5799f448191fa7c7",
        "type": "switch",
        "z": "32ccf302392ab325",
        "g": "fd69ea7b671c7ec8",
        "name": "while vaults",
        "property": "loop.vault_counter",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gte",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 750,
        "y": 1440,
        "wires": [
            [
                "15bec87d7432aaf9"
            ],
            [
                "a2f3b0281c0886fa"
            ]
        ]
    },
    {
        "id": "60d92ecbd137ffc5",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "fd69ea7b671c7ec8",
        "name": "Set vauls",
        "rules": [
            {
                "t": "set",
                "p": "loop.vaults",
                "pt": "msg",
                "to": "[\"source\", \"xlink\", \"instruction\"]",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "loop.vault_counter",
                "pt": "msg",
                "to": "$count(loop.vaults)-1",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 740,
        "y": 1380,
        "wires": [
            [
                "5799f448191fa7c7"
            ]
        ]
    },
    {
        "id": "4ae38e7a8fc4137a",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "ef776e6ae30994ac",
        "name": "add created xlink to flow.xlink.doc_vers and log",
        "rules": [
            {
                "t": "set",
                "p": "flow.xlink.doc_vers",
                "pt": "msg",
                "to": "$append(\t   $$.flow.xlink.doc_vers,\t   $merge(\t       [\t           $$.loop.new_xlink,\t           {\t               \"id\":$$.new_doc_id,\t               \"responseStatus\":$$.payload.responseStatus,\t               \"responseMessage\":$$.payload.responseMessage,\t               \"source_version_id\":\t                   $$.loop.new_xlink.source_document_id__v & \"_\" &\t                   $$.loop.new_xlink.bound_source_major_version__v & \"_\" &\t                   $$.loop.new_xlink.bound_source_minor_version__v,\t               \"sort_version\": 1, /*$$.loop.new_xlink.major_version_number__v*10000 + $$.loop.new_xlink.minor_version_number__v,*/\t               \"sort_bound_version\": $$.loop.new_xlink.bound_source_major_version__v*10000 + $$.loop.new_xlink.bound_source_minor_version__v,\t               \"version_id\": \t                   $$.new_doc_id & \"_0_1\", /*\"_\" &\t                   $$.loop.new_xlink.major_version_number__v & \"_\" &\t                   $$.loop.new_xlink.minor_version_number__v,*/\t               \"version_modified_date__v\":$now(),\t               \"xlink_created\": true,\t               \"major_version_number__v\":$$.payload.data.major_version_number__v,\t               \"minor_version_number__v\": $$.payload.data.minor_version_number__v\t            }\t        ]\t    )\t)",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "_log",
                "pt": "msg",
                "to": "$append(\t   _log,\t   {\t       \"timestamp\": $now(),\t       \"severity\": \"INFORMATION\",\t       \"message\": \t          {\t               \"id\":$$.payload.id,\t               \"responseStatus\":$$.payload.responseStatus,\t               \"responseMessage\":$$.payload.responseMessage,\t               \"source_version_id\":\t                   $$.loop.new_xlink.source_document_id__v & \"_\" &\t                   $$.loop.new_xlink.bound_source_major_version__v & \"_\" &\t                   $$.loop.new_xlink.bound_source_minor_version__v,\t               \"version_id\": \t                   $$.payload.id & \"_\" &\t                   $$.loop.new_xlink.major_version_number__v & \"_\" &\t                   $$.loop.new_xlink.minor_version_number__v\t            },\t       \"source\":  \"create new xlink\"\t   } \t)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3500,
        "y": 2640,
        "wires": [
            [
                "a046b66f689f0103",
                "601dd3c7dc2817a5"
            ]
        ]
    },
    {
        "id": "fe91fdf3664267b3",
        "type": "switch",
        "z": "32ccf302392ab325",
        "g": "ef776e6ae30994ac",
        "name": "while new documents",
        "property": "loop.doc_counter",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gte",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 2420,
        "y": 2580,
        "wires": [
            [
                "27aaa00a66ac305c"
            ],
            [
                "eec083cedae89262"
            ]
        ]
    },
    {
        "id": "a046b66f689f0103",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "ef776e6ae30994ac",
        "name": "next document",
        "rules": [
            {
                "t": "set",
                "p": "loop.doc_counter",
                "pt": "msg",
                "to": "loop.doc_counter-1",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2400,
        "y": 2640,
        "wires": [
            [
                "fe91fdf3664267b3"
            ]
        ]
    },
    {
        "id": "98bff536a7899301",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "ef776e6ae30994ac",
        "name": "switch to xlink vault",
        "rules": [
            {
                "t": "set",
                "p": "temp.login_details",
                "pt": "msg",
                "to": "$lookup(flow.login, \"xlink\")",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "client_id",
                "pt": "msg",
                "to": "temp.login_details.client_id",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "vault_api",
                "pt": "msg",
                "to": "temp.login_details.vault_api",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "session_id",
                "pt": "msg",
                "to": "temp.login_details.session_id",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "vault_domain",
                "pt": "msg",
                "to": "temp.login_details.vault_domain",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "user_id",
                "pt": "msg",
                "to": "temp.login_details.user_id",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2730,
        "y": 2520,
        "wires": [
            [
                "ed4a759ee7b60391"
            ]
        ]
    },
    {
        "id": "a636dd3b7fabfe4a",
        "type": "debug",
        "z": "32ccf302392ab325",
        "g": "efd44d58605fc3aa",
        "name": "related xlinks",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2130,
        "y": 1260,
        "wires": []
    },
    {
        "id": "b29b726eb9cc87b8",
        "type": "brave-redis-queue",
        "z": "32ccf302392ab325",
        "g": "429ca0f28c6eb552",
        "name": "",
        "x": 1270,
        "y": 660,
        "wires": [
            [
                "d348b58ca7101db9"
            ],
            [
                "f4fca5f780970cc4"
            ]
        ]
    },
    {
        "id": "408ac06e1066e45f",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "429ca0f28c6eb552",
        "name": "prepare get last run",
        "rules": [
            {
                "t": "set",
                "p": "args.topic",
                "pt": "msg",
                "to": "$replace(\t   $join(\t       [\t           \"LOG__\" & client_id,\t           flow.instruction.name__v,\t           \"last_run\",\t           \"h\"        \t       ],\t       \":\"    \t   ),\t   /[ \"']/,\t   \"_\" \t)",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "args.method",
                "pt": "msg",
                "to": "GET",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 790,
        "y": 660,
        "wires": [
            [
                "b29b726eb9cc87b8"
            ]
        ]
    },
    {
        "id": "d348b58ca7101db9",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "429ca0f28c6eb552",
        "name": "set last run, if not within last 100 days, set to this run - 100days",
        "rules": [
            {
                "t": "set",
                "p": "flow.instruction.last_run",
                "pt": "msg",
                "to": "($last_run:=$contains($string(payload),/^-?\\d+\\.?\\d*([e,E][+,-]?\\d{1,3})?$/)?$number(payload):0;\t($last_run > flow.instruction.this_run-100*24*60*60*1000 and $last_run < flow.instruction.this_run)?\t    $last_run:\t    flow.instruction.this_run-100*24*60*60*1000\t)\t/*use the last run, if not available or older than 100 days, use this run -100 days*/\t",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1830,
        "y": 660,
        "wires": [
            [
                "9e5f2290ac163ac6"
            ]
        ]
    },
    {
        "id": "27aaa00a66ac305c",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "ef776e6ae30994ac",
        "name": "xlink document metadata",
        "rules": [
            {
                "t": "set",
                "p": "loop.new_sourcedoc",
                "pt": "msg",
                "to": "loop.new_sources[$$.loop.doc_counter].first_source",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "$merge([{\t   \"sourceDoc\":loop.new_sourcedoc,\t   \"source_vault_id\":flow.login.source.vault_id,\t   \"xlink_vault_id\":flow.login.xlink.vault_id\t   },   \t   data_source\t])\t",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "args.jsonata",
                "pt": "msg",
                "to": "flow.instruction.instruction.jsonata",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "base_data",
                "pt": "msg",
                "to": "payload",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2750,
        "y": 2580,
        "wires": [
            [
                "3dbcba8702bb65e4",
                "84d2d885eab2a49d"
            ]
        ]
    },
    {
        "id": "37705f57c15c0028",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "ef776e6ae30994ac",
        "name": "prepare create doc",
        "rules": [
            {
                "t": "set",
                "p": "loop.new_xlink",
                "pt": "msg",
                "to": "$merge(\t   [\t       payload,\t       {\t           /*\"major_version_number__v\":loop.new_sourcedoc.major_version_number__v,\t           \"minor_version_number__v\":loop.new_sourcedoc.minor_version_number__v,\t           \"status__v\": loop.new_sourcedoc.minor_version_number__v=0 ? \"Approved\",*/\t           \"bound_source_major_version__v\":loop.new_sourcedoc.major_version_number__v,\t           \"bound_source_minor_version__v\":loop.new_sourcedoc.minor_version_number__v,\t           \"source_document_id__v\": loop.new_sourcedoc.id,\t           \"source_vault_id__v\": flow.login.source.vault_id,\t           \"source_binding_rule__v\":\"Specific document version\"\t       }\t   ]\t)",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "loop.new_xlink",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2730,
        "y": 2640,
        "wires": [
            [
                "a65ce93c89c2599a",
                "17c4fb4d7dad9588"
            ]
        ]
    },
    {
        "id": "84d2d885eab2a49d",
        "type": "function",
        "z": "32ccf302392ab325",
        "g": "ef776e6ae30994ac",
        "name": "Apply Jsonata",
        "func": "let jsonataStr = msg.args.jsonata;\nlet inputObject = msg.payload;\nlet result;\n\ntry {\n    if (typeof jsonataStr == 'string') {\n        let template = RED.util.prepareJSONataExpression(jsonataStr, node);\n        result = RED.util.evaluateJSONataExpression(template, inputObject, null);\n    }\n\n    msg.payload = result;\n\n    return [msg, null]\n}\ncatch (err) {\n    msg.payload = \"ERROR\" + JSON.stringify(err)\n    return [null, msg]\n};",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3080,
        "y": 2580,
        "wires": [
            [
                "3dbcba8702bb65e4",
                "37705f57c15c0028"
            ],
            [
                "e691ceecf149b649"
            ]
        ],
        "info": "Transform a node-red object using a jsonata expression provided as a string at runtime. \r\n\r\n### Node information\r\n:Initial Release (string): With building blocks version x.x.x\r\n:Description (string): Transform a node-red object using a jsonata expression provided as a string.\r\n\r\n### Inputs\r\n: args.jsonata (string) : *(required)* The jsonata expression to be used, has to be a valid string appropriately escaped. If empty, output will be SUCCESS and payload undefined\r\n: payload (object)     : *(optional)* A node red data object to be transformed by args.jsonata. If empty, output will be SUCCESS and empty\r\n\r\n### Outputs\r\n1. Success\r\n: payload (object): The transformed object\r\n\r\n1. Failure\r\n: payload (object): Error message on channel 2\r\n"
    },
    {
        "id": "124aafaa5fce09e1",
        "type": "brave-create-single-document",
        "z": "32ccf302392ab325",
        "g": "ef776e6ae30994ac",
        "name": "",
        "x": 3130,
        "y": 2640,
        "wires": [
            [
                "eab86cc5f867e0de"
            ],
            [
                "e691ceecf149b649"
            ]
        ]
    },
    {
        "id": "ed4a759ee7b60391",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "ef776e6ae30994ac",
        "name": "Set loop doc_counter",
        "rules": [
            {
                "t": "set",
                "p": "loop.doc_counter",
                "pt": "msg",
                "to": "$count(loop.new_sources)-1",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3020,
        "y": 2520,
        "wires": [
            [
                "fe91fdf3664267b3",
                "3dbcba8702bb65e4"
            ]
        ]
    },
    {
        "id": "7bb2f67d59a99ce1",
        "type": "brave-redis-queue",
        "z": "32ccf302392ab325",
        "g": "c9d97f19c3150a81",
        "name": "",
        "x": 1730,
        "y": 1540,
        "wires": [
            [
                "cdc14257acca5730"
            ],
            [
                "abac2caf7c1bcc06"
            ]
        ]
    },
    {
        "id": "a34ef488b787110f",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "c9d97f19c3150a81",
        "name": "prep redis",
        "rules": [
            {
                "t": "set",
                "p": "args.topic",
                "pt": "msg",
                "to": "$replace(\t   $join(\t       [\t            flow.login.instruction.vault_domain,\t            flow.instruction.name__v,\t            loop.vault,\t            loop.object.object_name,\t            \"h\"\t       ],\t       \":\"\t   ),\t   /[ \"']/,\t   \"_\"\t)\t\t",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "args.method",
                "pt": "msg",
                "to": "GET",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1560,
        "y": 1540,
        "wires": [
            [
                "7bb2f67d59a99ce1"
            ]
        ]
    },
    {
        "id": "cdc14257acca5730",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "c9d97f19c3150a81",
        "name": "write to loop result and prepare query",
        "rules": [
            {
                "t": "set",
                "p": "loop.redis_result",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"SELECT \" & $join(loop.fields, \", \") &\t\" FROM \" & loop.object.object_name &\t($type(loop.redis_result.last_run)=\"number\"?(\t\" WHERE modified_date__v > '\" & \t$fromMillis(loop.redis_result.last_run - 60000, '[Y0001]-[M01]-[D01]T[H01]:[m01]:[s01].000Z') & \t\"'\"))",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "loop.run_time",
                "pt": "msg",
                "to": "$millis()",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1330,
        "y": 1600,
        "wires": [
            [
                "d0e185a4bfe350ac",
                "39bdbb6eb6b7e9a6"
            ]
        ]
    },
    {
        "id": "fcd73c6797d71c36",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "c9d97f19c3150a81",
        "name": "prep redis",
        "rules": [
            {
                "t": "set",
                "p": "args.topic",
                "pt": "msg",
                "to": "$replace(\t   $join(\t       [\t            flow.login.instruction.vault_domain,\t            flow.instruction.name__v,\t            loop.vault,\t            loop.object.object_name,\t            \"h\"\t       ],\t       \":\"\t   ),\t   /[ \"']/,\t   \"_\"\t)\t\t",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "args.method",
                "pt": "msg",
                "to": "SET",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\t   \"last_run\":loop.run_time,\t   \"data\":loop.result   \t}",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2200,
        "y": 1540,
        "wires": [
            [
                "ed32e152cfaf8dd3"
            ]
        ]
    },
    {
        "id": "ed32e152cfaf8dd3",
        "type": "brave-redis-queue",
        "z": "32ccf302392ab325",
        "g": "c9d97f19c3150a81",
        "name": "",
        "x": 2170,
        "y": 1600,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "b89ccd2b6a4fe943",
        "type": "switch",
        "z": "32ccf302392ab325",
        "g": "c9d97f19c3150a81",
        "name": "if updated",
        "property": "loop.updated",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 2060,
        "y": 1540,
        "wires": [
            [
                "fcd73c6797d71c36"
            ]
        ]
    },
    {
        "id": "0d0607b42a600041",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "56bca0108c880039",
        "name": "pair source and xlink to flow doc_pairs",
        "rules": [
            {
                "t": "set",
                "p": "flow.doc_pairs",
                "pt": "msg",
                "to": "/* create a list of document id pairs for source and xlink based on the source_document_id__v field of the xlink */\t$append(\t   $distinct(\t       /*source documents referenced by xlinks*/\t       flow.xlink.doc_vers@$xv.[\t           $$.flow.source.doc_vers[id=$xv.source_document_id__v].\t                    {\"source_id\":id, \t                    \"xlink_id\":$xv.id}\t       ]\t   ),\t   $distinct(\t       /*source documents not referenced by xlinks*/\t       [\t           flow.source.doc_vers[\t               $not(\t                   id in $$.flow.xlink.doc_vers.source_document_id__v\t               )\t           ].{\"source_id\":id}\t       ]\t   )\t)",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "flow.doc_pairs",
                "pt": "msg",
                "to": "/*enrich doc pairs with relevant xlink and source version information*/\tflow.doc_pairs@$dp.\t/*for each doc pair add data*/\t$merge(\t    [\t        $dp,\t        {\t            \"latest_xlink\": $$.flow.xlink.doc_vers[id=$dp.xlink_id]^(>sort_version)[0],\t            \"first_source\": $$.flow.source.doc_vers[id=$dp.source_id]^(sort_version)[0],\t            \"version_pairs\":\t            /* go through every version of the source doc of the doc pair*/\t                ($$.flow.source.doc_vers@$ps[$ps.id=$dp.source_id].{\t                    \"source_ver\":$ps,\t                    \"xlink_ver\":\t                            (\t                                /* xlsortv: the xlink with identical (sort) version number */\t                                $xlsortv:=$$.flow.xlink.doc_vers[id=$dp.xlink_id\t                                    and\t                                    source_document_id__v = $ps.id \t                                    and \t                                    sort_version = $ps.sort_version][0];\t                                /* xlbound: the xlink with a binding to the source version number */\t                                $xlbound:=$$.flow.xlink.doc_vers[id=$dp.xlink_id\t                                    and\t                                    source_version_id = $ps.version_id]^(>sort_version)[0];\t                                /* xldescr: the xlink which defines the source version in the description field */\t                                $xldescr:=$$.flow.xlink.doc_vers[id=$dp.xlink_id\t                                    and\t                                    description__v = $ps.version_id]^(>sort_version)[0];\t                    /* if created by automation the xlink description field has the version_id it was created for ($xldescr),\t                    if this does not point to an existing source, try match by expected parallel version numbering ($xlsortv),\t                    if neither match, match by source_version_id field ($xlbound).*/\t                                $xldescr?$xldescr:($xlsortv?$xlsortv:$xlbound)/**/\t                            )\t                    }\t                )^(source_ver.sort_version)[]\t        }\t    ]\t)\t\t",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 3160,
        "wires": [
            [
                "23aca15730715d76",
                "d8b66721dacadcc8"
            ]
        ]
    },
    {
        "id": "7486b4e656d25b50",
        "type": "link in",
        "z": "32ccf302392ab325",
        "g": "ef776e6ae30994ac",
        "name": "new docs in",
        "links": [],
        "x": 2445,
        "y": 2520,
        "wires": [
            [
                "98bff536a7899301"
            ]
        ]
    },
    {
        "id": "eec083cedae89262",
        "type": "link out",
        "z": "32ccf302392ab325",
        "g": "ef776e6ae30994ac",
        "name": "new docs out",
        "mode": "return",
        "links": [],
        "x": 2565,
        "y": 2640,
        "wires": []
    },
    {
        "id": "b7487ff351fb7a6b",
        "type": "link in",
        "z": "32ccf302392ab325",
        "g": "56bca0108c880039",
        "name": "re-evaluate status",
        "links": [
            "b3ee3c13b1a0f8e6",
            "ce482cbccec6ba9a",
            "991ef6455c72733e",
            "bd9bf511fd82441b"
        ],
        "x": 695,
        "y": 2940,
        "wires": [
            [
                "a2f3b0281c0886fa"
            ]
        ]
    },
    {
        "id": "3f6d08e5985c1ee6",
        "type": "switch",
        "z": "32ccf302392ab325",
        "g": "d496576295362680",
        "name": "while updates",
        "property": "loop.update_counter",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gte",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 2400,
        "y": 2800,
        "wires": [
            [
                "d8989a5a8e7f7392"
            ],
            [
                "99b037967a704cef"
            ]
        ]
    },
    {
        "id": "2f1a17522978e333",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "d496576295362680",
        "name": "next update",
        "rules": [
            {
                "t": "set",
                "p": "loop.update_counter",
                "pt": "msg",
                "to": "loop.update_counter-1",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2390,
        "y": 2860,
        "wires": [
            [
                "3f6d08e5985c1ee6"
            ]
        ]
    },
    {
        "id": "e0a56539a6eb8f83",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "d496576295362680",
        "name": "switch to xlink vault",
        "rules": [
            {
                "t": "set",
                "p": "temp.login_details",
                "pt": "msg",
                "to": "$lookup(flow.login, \"xlink\")",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "client_id",
                "pt": "msg",
                "to": "temp.login_details.client_id",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "vault_api",
                "pt": "msg",
                "to": "temp.login_details.vault_api",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "session_id",
                "pt": "msg",
                "to": "temp.login_details.session_id",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "vault_domain",
                "pt": "msg",
                "to": "temp.login_details.vault_domain",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "user_id",
                "pt": "msg",
                "to": "temp.login_details.user_id",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2690,
        "y": 2740,
        "wires": [
            [
                "51a7fc6be94ab1c3"
            ]
        ]
    },
    {
        "id": "1cd5a9446f947f14",
        "type": "function",
        "z": "32ccf302392ab325",
        "g": "d496576295362680",
        "name": "Apply Jsonata",
        "func": "let jsonataStr = msg.args.jsonata;\nlet inputObject = msg.payload;\nlet result;\n\ntry {\n    if (typeof jsonataStr == 'string') {\n        let template = RED.util.prepareJSONataExpression(jsonataStr, node);\n        result = RED.util.evaluateJSONataExpression(template, inputObject, null);\n    }\n\n    msg.payload = result;\n\n    return [msg, null]\n}\ncatch (err) {\n    msg.payload = \"ERROR\" + JSON.stringify(err)\n    return [null, msg]\n};",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3220,
        "y": 2800,
        "wires": [
            [
                "33ad49373220d220",
                "9e91e62cc3a6ca70"
            ],
            [
                "c304a13f5e331386"
            ]
        ]
    },
    {
        "id": "51a7fc6be94ab1c3",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "d496576295362680",
        "name": "Set loop update_counter",
        "rules": [
            {
                "t": "set",
                "p": "loop.update_xlink_pairs",
                "pt": "msg",
                "to": "loop.update_xlinks.version_pairs",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "loop.update_counter",
                "pt": "msg",
                "to": "$count(loop.update_xlink_pairs)-1",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2970,
        "y": 2740,
        "wires": [
            [
                "3f6d08e5985c1ee6"
            ]
        ]
    },
    {
        "id": "43c95e6e9db87c7a",
        "type": "link in",
        "z": "32ccf302392ab325",
        "g": "d496576295362680",
        "name": "update xlink in",
        "links": [
            "233a2f3bcb213b59"
        ],
        "x": 2425,
        "y": 2740,
        "wires": [
            [
                "e0a56539a6eb8f83"
            ]
        ]
    },
    {
        "id": "d8989a5a8e7f7392",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "d496576295362680",
        "name": "xlink update metadata",
        "rules": [
            {
                "t": "set",
                "p": "loop.update_xlink",
                "pt": "msg",
                "to": "loop.update_xlink_pairs[$$.loop.update_counter]",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "$merge([{\t   \"sourceDoc\":loop.update_xlink.source_ver,\t   \"source_vault_id\":flow.login.source.vault_id,\t   \"xlink_vault_id\":flow.login.xlink.vault_id\t   },   \t   data_source\t])\t",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "args.jsonata",
                "pt": "msg",
                "to": "flow.instruction.instruction.jsonata",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "base_data",
                "pt": "msg",
                "to": "payload",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2700,
        "y": 2800,
        "wires": [
            [
                "f6df9325f7fcf4ee",
                "33ad49373220d220"
            ]
        ]
    },
    {
        "id": "9e91e62cc3a6ca70",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "d496576295362680",
        "name": "prepare update xlink",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "$merge(\t   [\t       payload,\t       {\t           \"bound_source_major_version__v\":loop.update_xlink.source_ver.major_version_number__v,\t           \"bound_source_minor_version__v\":loop.update_xlink.source_ver.minor_version_number__v,\t           \"source_document_id__v\": loop.update_xlink.source_ver.id,\t           \"source_vault_id__v\": flow.login.source.vault_id,\t           \"source_binding_rule__v\":\"Specific document version\"\t       }\t   ]\t)",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "loop.update_result",
                "pt": "msg",
                "to": "payload /*$merge([payload,{\"id\":loop.update_xlink.xlink.id}])*/",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "args.doc_id",
                "pt": "msg",
                "to": "loop.update_xlink.xlink_ver.id",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "args.major_version",
                "pt": "msg",
                "to": "loop.update_xlink.xlink_ver.major_version_number__v",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "args.minor_version",
                "pt": "msg",
                "to": "loop.update_xlink.xlink_ver.minor_version_number__v",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2700,
        "y": 2860,
        "wires": [
            [
                "df15d77211abf767",
                "67b2a2395494575b"
            ]
        ]
    },
    {
        "id": "df15d77211abf767",
        "type": "subflow:743f388ad8cf50d6",
        "z": "32ccf302392ab325",
        "g": "d496576295362680",
        "name": "update crosslink draft version",
        "x": 2980,
        "y": 2860,
        "wires": [
            [
                "688a4cd78e17dea5",
                "2dde79e37bfd9a7e"
            ],
            [
                "c304a13f5e331386"
            ]
        ]
    },
    {
        "id": "99b037967a704cef",
        "type": "link out",
        "z": "32ccf302392ab325",
        "g": "d496576295362680",
        "name": "update xlink out",
        "mode": "return",
        "links": [],
        "x": 2535,
        "y": 2860,
        "wires": []
    },
    {
        "id": "688a4cd78e17dea5",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "d496576295362680",
        "name": "update xlink in flow.xlink.doc_vers and log",
        "rules": [
            {
                "t": "set",
                "p": "flow.xlink.doc_vers",
                "pt": "msg",
                "to": "(\t$vid:=$$.loop.update_xlink.xlink_ver.version_id;\t    $append(\t        flow.xlink.doc_vers[$not(version_id=$vid)],\t        $merge(\t            [\t                flow.xlink.doc_vers[version_id=$vid],\t                $$.loop.update_result,\t                {\t                    \"responseStatus\":$$.payload.responseStatus,\t                    \"responseMessage\":$$.payload.responseMessage,\t                    \"source_version_id\":$$.loop.update_result.source_document_id__v & \"_\" & $$.loop.update_result.bound_source_major_version__v & \"_\" & $$.loop.update_result.bound_source_minor_version__v,\t                    \"sort_bound_version\": $$.loop.update_result.bound_source_major_version__v*10000 + $$.loop.update_result.bound_source_minor_version__v,\t                    \"version_modified_date__v\": $now(),\t                    \"xlink_updated\": true,\t                    \"major_version_number__v\":$$.loop.new_xlink.major_version_number__v,\t                    \"minor_version_number__v\": $$.loop.new_xlink.minor_version_number__v\t                    \t\t\t                }\t            ]\t        )\t    )\t)",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "_log",
                "pt": "msg",
                "to": "$append(\t   _log,\t   {\t       \"timestamp\": $now(),\t       \"severity\": \"INFORMATION\",\t       \"message\": \t        $merge(\t            [\t                $$.loop.update_result,\t                {\t                    \"responseStatus\":$$.payload.responseStatus,\t                    \"responseMessage\":$$.payload.responseMessage,\t                    \"source_version_id\":$$.loop.update_result.source_document_id__v & \"_\" & $$.loop.update_result.bound_source_major_version__v & \"_\" & $$.loop.update_result.bound_source_minor_version__v\t                }\t            ]),\t       \"source\": \"update xlink\"\t   } \t)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3440,
        "y": 2860,
        "wires": [
            [
                "2f1a17522978e333"
            ]
        ]
    },
    {
        "id": "231ef98d049b3df4",
        "type": "switch",
        "z": "32ccf302392ab325",
        "g": "020992df4203b447",
        "name": "while approvals",
        "property": "loop.approval_counter",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gte",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 2400,
        "y": 3020,
        "wires": [
            [
                "a92b04646d9c6f2e"
            ],
            [
                "71f4891304500c83"
            ]
        ]
    },
    {
        "id": "6c4a81fb20829fdd",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "020992df4203b447",
        "name": "next approval",
        "rules": [
            {
                "t": "set",
                "p": "loop.approval_counter",
                "pt": "msg",
                "to": "loop.approval_counter-1",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2400,
        "y": 3080,
        "wires": [
            [
                "231ef98d049b3df4"
            ]
        ]
    },
    {
        "id": "013646429b7bbe47",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "020992df4203b447",
        "name": "switch to xlink vault",
        "rules": [
            {
                "t": "set",
                "p": "temp.login_details",
                "pt": "msg",
                "to": "$lookup(flow.login, \"xlink\")",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "client_id",
                "pt": "msg",
                "to": "temp.login_details.client_id",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "vault_api",
                "pt": "msg",
                "to": "temp.login_details.vault_api",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "session_id",
                "pt": "msg",
                "to": "temp.login_details.session_id",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "vault_domain",
                "pt": "msg",
                "to": "temp.login_details.vault_domain",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "user_id",
                "pt": "msg",
                "to": "temp.login_details.user_id",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2690,
        "y": 2960,
        "wires": [
            [
                "6470b39167ae9d5d"
            ]
        ]
    },
    {
        "id": "6470b39167ae9d5d",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "020992df4203b447",
        "name": "Set loop approval_counter",
        "rules": [
            {
                "t": "set",
                "p": "loop.approval_counter",
                "pt": "msg",
                "to": "$count(loop.approve_xlinks)-1",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2990,
        "y": 2960,
        "wires": [
            [
                "231ef98d049b3df4"
            ]
        ]
    },
    {
        "id": "c66395e6cab17ac0",
        "type": "link in",
        "z": "32ccf302392ab325",
        "g": "020992df4203b447",
        "name": "approve xlink in",
        "links": [
            "039c9291b00c03ee"
        ],
        "x": 2425,
        "y": 2960,
        "wires": [
            [
                "013646429b7bbe47"
            ]
        ]
    },
    {
        "id": "71f4891304500c83",
        "type": "link out",
        "z": "32ccf302392ab325",
        "g": "020992df4203b447",
        "name": "approve xlink out",
        "mode": "return",
        "links": [],
        "x": 2575,
        "y": 3080,
        "wires": []
    },
    {
        "id": "19823a545a71267e",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "020992df4203b447",
        "name": "update xlink in flow.xlink.doc_vers and log",
        "rules": [
            {
                "t": "set",
                "p": "flow.xlink.doc_vers",
                "pt": "msg",
                "to": "(\t$xlink:=flow.xlink.doc_vers[version_id=$$.loop.approve_xlink.version_id];\t    $append(\t        flow.xlink.doc_vers[$not(version_id=$xlink.version_id)],\t        $merge(\t            [\t                $xlink,\t                {\t                    \"major_version_number__v\": $xlink.major_version_number__v + 1,\t                    \"minor_version_number__v\": 0,\t                    \"sort_version\": ($xlink.major_version_number__v + 1) * 10000,\t                    \"version_id\": $xlink.id & \"_\" &($xlink.major_version_number__v + 1) & \"_0\",\t                    \"responseStatus\": $$.payload.responseStatus,\t                    \"responseMessage\": $$.payload.responseMessage,\t                    \"version_modified_date__v\": $now(),\t                    \"xlink_approved\": true\t                }\t            ]\t        )\t    )\t)",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "_log",
                "pt": "msg",
                "to": "$append(\t   _log,\t   {\t       \"timestamp\": $now(),\t       \"severity\": \"INFORMATION\",\t       \"message\": \t        $merge(\t            [\t                $$.loop.approve_xlink,\t                {\t                    \"responseStatus\":$$.payload.responseStatus,\t                    \"responseMessage\":$$.payload.responseMessage,\t                    \"version_id\": $$.loop.approve_xlink.id & \"_\" & ($number($$.loop.approve_xlink.major_version_number__v) + 1) & \"_0\",\t                    \"major_version_number__v\":$number($$.loop.approve_xlink.major_version_number__v)+1,\t                    \"minor_version_number__v\":0\t                }\t            ]),\t       \"source\": \"approve xlink\"\t   } \t)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3380,
        "y": 3080,
        "wires": [
            [
                "6c4a81fb20829fdd"
            ]
        ]
    },
    {
        "id": "a92b04646d9c6f2e",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "020992df4203b447",
        "name": "prepare approve xlink",
        "rules": [
            {
                "t": "set",
                "p": "loop.approve_xlink",
                "pt": "msg",
                "to": "loop.approve_xlinks[$$.loop.approval_counter].version_pairs.xlink_ver[0]",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "args.id",
                "pt": "msg",
                "to": "loop.approve_xlink.id",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "args.major_version",
                "pt": "msg",
                "to": "loop.approve_xlink.major_version_number__v",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "args.minor_version",
                "pt": "msg",
                "to": "loop.approve_xlink.minor_version_number__v",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "args.documents_or_binders",
                "pt": "msg",
                "to": "documents",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "args.name__v",
                "pt": "msg",
                "to": "flow.instruction.xlink.approval_user_action_name__v",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2700,
        "y": 3020,
        "wires": [
            [
                "d3b98b30a63a3596"
            ]
        ]
    },
    {
        "id": "d3b98b30a63a3596",
        "type": "brave-initiate-user-action",
        "z": "32ccf302392ab325",
        "g": "020992df4203b447",
        "name": "",
        "x": 2970,
        "y": 3020,
        "wires": [
            [
                "19823a545a71267e",
                "af9a694663793e5b"
            ],
            [
                "3eaf6da9cf266a16"
            ]
        ]
    },
    {
        "id": "fceb3d3d2e109212",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "81e9aec5f845a51a",
        "name": "Set updated Vers Query",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "$join(\t    [\t        \"SELECT\", \t        (\t            $join(\t                $distinct(\t                    $append(\t                        [\t                            \"id\",\t                            \"name__v\",\t                            \"title__v\",\t                            \"version_id\",\t                            \"major_version_number__v\",\t                            \"minor_version_number__v\",\t                            \"version_modified_date__v\",\t                            \"subtype__v\",\t                            \"classification__v\",\t                            \"type__v\",\t                            \"pages__v\"\t                        ],\t                        flow.instruction.source.select\t                    )\t                ),\t                \", \"\t            )\t        ),\t        \"FROM ALLVERSIONS documents\",\t        \"WHERE crosslink__v = false\", \t        \"AND binder__v = false\",\t        /*set the query interval between last run and now, shifted 2 Minute back to avoid any overlaps with ongoing write processes\t        use 1 second overlap between 2 runs to avoid any complications with potential rounding errors worst case an update would be processed twice*/\t        \"AND version_modified_date__v > '\" & $fromMillis(flow.instruction.last_run - 10,'[Y0001]-[M01]-[D01]T[H01]:[m01]:[s01].000Z') & \"'\",\t        \"AND version_modified_date__v < '\" & $fromMillis(flow.instruction.this_run - 10,'[Y0001]-[M01]-[D01]T[H01]:[m01]:[s01].000Z') & \"'\",\t        (flow.instruction.source.where?\"AND (\" & flow.instruction.source.where & \")\")\t    ], \" \"\t)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1070,
        "y": 1080,
        "wires": [
            [
                "1aa5333fd512107a",
                "4b5f5ecc9586eae4"
            ]
        ]
    },
    {
        "id": "bda58b47abff21b6",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "81e9aec5f845a51a",
        "name": "set updated source doc/vers",
        "rules": [
            {
                "t": "set",
                "p": "flow.source.doc_vers",
                "pt": "msg",
                "to": "$append(\t    $$.flow.source.doc_vers,\t    payload.data@$d[$not($d.version_id in $$.flow.source.doc_vers.version_id)].\t        $merge([\t            $d, \t            {\"sort_version\":$d.major_version_number__v*10000+$d.minor_version_number__v, \t            \"query_source\": \"modified\"}\t            ]\t        ))\t",
                "tot": "jsonata",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1720,
        "y": 1080,
        "wires": [
            [
                "1c8e4c4cdf03eee2",
                "4b5f5ecc9586eae4"
            ]
        ]
    },
    {
        "id": "1c8e4c4cdf03eee2",
        "type": "switch",
        "z": "32ccf302392ab325",
        "g": "81e9aec5f845a51a",
        "name": "check if new or updated source document or versions returned",
        "property": "$count(flow.source.doc_vers)",
        "propertyType": "jsonata",
        "rules": [
            {
                "t": "gt",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 930,
        "y": 1140,
        "wires": [
            [
                "8e8c0131b37a7786"
            ],
            [
                "7c61b420098faa39"
            ]
        ]
    },
    {
        "id": "1aa5333fd512107a",
        "type": "brave-vql-query",
        "z": "32ccf302392ab325",
        "g": "81e9aec5f845a51a",
        "name": "",
        "x": 1330,
        "y": 1080,
        "wires": [
            [
                "bda58b47abff21b6"
            ],
            [
                "da98651e508e280e"
            ]
        ]
    },
    {
        "id": "62482c2b6fe5d356",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "f919a01e47ab17d2",
        "name": "prepare create new draft",
        "rules": [
            {
                "t": "set",
                "p": "loop.description",
                "pt": "msg",
                "to": "((loop.new_source_version.sort_version <= loop.xlink_latest_ver.sort_version) or (loop.new_source_version = null))?\t\"error\"\t:\t    (loop.new_source_version.sort_version = loop.xlink_latest_ver.sort_version+1 /*a simple single upversioning of draft*/\t    or \t    (\t        loop.new_source_version.minor_version_number__v = 0\t        and \t        loop.new_source_version.major_version_number__v = loop.xlink_latest_ver.major_version_number__v + 1\t    )/*an upversioning to an approved version*/\t    )? \t    loop.new_source_version.id & \"_\" & loop.new_source_version.major_version_number__v & \"_\" & loop.new_source_version.minor_version_number__v /*for the simple case, write the target versions_id into description__v*/\t    :\t        (loop.new_source_version.sort_version > loop.xlink_latest_ver.sort_version+1\t        and\t        loop.new_source_version.major_version_number__v = loop.xlink_latest_ver.major_version_number__v)? /*create a placeholder minor version*/\t        \"placeholder minor version\"\t        :\t        \"placeholder major version\"\t",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "loop.expected_xlink_sort_version",
                "pt": "msg",
                "to": "loop.xlink_latest_ver.sort_version+1",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\t   \"createDraft\": \"latestContent\",\t   \"description__v\": loop.description\t}",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "args.doc_id",
                "pt": "msg",
                "to": "loop.xlink_latest_ver.id",
                "tot": "jsonata",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2750,
        "y": 3300,
        "wires": [
            [
                "cdbab5695af22447",
                "36fca2e5794c69c5"
            ]
        ]
    },
    {
        "id": "b4a72a8be8ce5d3d",
        "type": "brave-create-single-document-version",
        "z": "32ccf302392ab325",
        "g": "f919a01e47ab17d2",
        "name": "",
        "x": 3470,
        "y": 3300,
        "wires": [
            [
                "671e961d7f1d5256"
            ],
            [
                "2bf5639b323869c7"
            ]
        ]
    },
    {
        "id": "f51c8f2b94947845",
        "type": "debug",
        "z": "32ccf302392ab325",
        "g": "f919a01e47ab17d2",
        "name": "upversion xlinks: step 3 case 2",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 4010,
        "y": 3360,
        "wires": []
    },
    {
        "id": "e47ea65863ab8ee8",
        "type": "link in",
        "z": "32ccf302392ab325",
        "g": "f919a01e47ab17d2",
        "name": "create xlink version in",
        "links": [
            "be7728c806b6de4f"
        ],
        "x": 2345,
        "y": 3180,
        "wires": [
            [
                "aece933906d11804"
            ]
        ]
    },
    {
        "id": "c06c861fe1ebfd32",
        "type": "link out",
        "z": "32ccf302392ab325",
        "g": "f919a01e47ab17d2",
        "name": "create xlink version out",
        "mode": "return",
        "links": [],
        "x": 2525,
        "y": 3300,
        "wires": []
    },
    {
        "id": "a3afcdbe24dc6eb3",
        "type": "switch",
        "z": "32ccf302392ab325",
        "g": "f919a01e47ab17d2",
        "name": "while new vers",
        "property": "loop.nv_counter",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gte",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 2400,
        "y": 3240,
        "wires": [
            [
                "38f19c85f8776edb"
            ],
            [
                "c06c861fe1ebfd32"
            ]
        ]
    },
    {
        "id": "f508067b8052749b",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "f919a01e47ab17d2",
        "name": "next doc with new vers",
        "rules": [
            {
                "t": "set",
                "p": "loop.nv_counter",
                "pt": "msg",
                "to": "loop.nv_counter-1",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2420,
        "y": 3440,
        "wires": [
            [
                "a3afcdbe24dc6eb3"
            ]
        ]
    },
    {
        "id": "aece933906d11804",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "f919a01e47ab17d2",
        "name": "switch to xlink vault",
        "rules": [
            {
                "t": "set",
                "p": "temp.login_details",
                "pt": "msg",
                "to": "$lookup(flow.login, \"xlink\")",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "client_id",
                "pt": "msg",
                "to": "temp.login_details.client_id",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "vault_api",
                "pt": "msg",
                "to": "temp.login_details.vault_api",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "session_id",
                "pt": "msg",
                "to": "temp.login_details.session_id",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "vault_domain",
                "pt": "msg",
                "to": "temp.login_details.vault_domain",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "user_id",
                "pt": "msg",
                "to": "temp.login_details.user_id",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2730,
        "y": 3180,
        "wires": [
            [
                "24c7af1c1b65735a"
            ]
        ]
    },
    {
        "id": "24c7af1c1b65735a",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "f919a01e47ab17d2",
        "name": "Set loop nv_counter",
        "rules": [
            {
                "t": "set",
                "p": "loop.nv_counter",
                "pt": "msg",
                "to": "$count(loop.new_versions)-1",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3080,
        "y": 3180,
        "wires": [
            [
                "a3afcdbe24dc6eb3"
            ]
        ]
    },
    {
        "id": "38f19c85f8776edb",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "f919a01e47ab17d2",
        "name": "Set new_version and xlink latest version",
        "rules": [
            {
                "t": "set",
                "p": "loop.new_version",
                "pt": "msg",
                "to": "loop.new_versions[$$.loop.nv_counter]",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "loop.xlink_latest_ver",
                "pt": "msg",
                "to": "loop.new_version.latest_xlink",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "loop.new_source_version",
                "pt": "msg",
                "to": "loop.new_version.version_pairs.source_ver^(sort_version)[0]",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2800,
        "y": 3240,
        "wires": [
            [
                "62482c2b6fe5d356"
            ]
        ]
    },
    {
        "id": "d0a3763e41c828b1",
        "type": "debug",
        "z": "32ccf302392ab325",
        "g": "56418a5f1c01fec3",
        "name": "start",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2230,
        "y": 320,
        "wires": []
    },
    {
        "id": "2bf5639b323869c7",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "f919a01e47ab17d2",
        "name": "Handle Version Error",
        "rules": [
            {
                "t": "set",
                "p": "_log",
                "pt": "msg",
                "to": "$append(\t   _log,\t   [{\t       \"timestamp\": $now(),\t       \"severity\": \"ERROR\",\t       \"message\": $$.loop.new_source_version,\t       \"source\": \"create new draft xlink\"\t   },\t   {\t       \"timestamp\": $now(),\t       \"severity\": \"ERROR\",\t       \"message\": \"document version: \" & loop.new_source_version.version_id &  \" and has been excluded from this xlink run.\",\t       \"source\": \"create new draft xlink\"\t   }]\t)",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "flow.source.doc_vers",
                "pt": "msg",
                "to": "flow.source.doc_vers[version_id!=$$.loop.new_source_version.version_id]",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3480,
        "y": 3440,
        "wires": [
            [
                "5a051ccd4278ef54",
                "f508067b8052749b"
            ]
        ]
    },
    {
        "id": "2033738e5affc8df",
        "type": "switch",
        "z": "32ccf302392ab325",
        "g": "f919a01e47ab17d2",
        "name": "",
        "property": "true",
        "propertyType": "jsonata",
        "rules": [
            {
                "t": "jsonata_exp",
                "v": "loop.expected_xlink_sort_version != loop.xlink_latest_ver.sort_version",
                "vt": "jsonata"
            },
            {
                "t": "jsonata_exp",
                "v": "loop.description = \"placeholder minor version\"",
                "vt": "jsonata"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 3,
        "x": 3590,
        "y": 3380,
        "wires": [
            [
                "86277ed87d5d5203",
                "2bf5639b323869c7"
            ],
            [
                "62482c2b6fe5d356",
                "cc5b2d57360c96c7"
            ],
            [
                "f508067b8052749b",
                "0a29d75785637f19"
            ]
        ]
    },
    {
        "id": "b3ee3c13b1a0f8e6",
        "type": "link out",
        "z": "32ccf302392ab325",
        "g": "56bca0108c880039",
        "name": "re-evaluate status",
        "mode": "link",
        "links": [
            "b7487ff351fb7a6b"
        ],
        "x": 2015,
        "y": 2580,
        "wires": []
    },
    {
        "id": "b587d10aedda5fcd",
        "type": "link call",
        "z": "32ccf302392ab325",
        "g": "56bca0108c880039",
        "name": "new docs",
        "links": [
            "7486b4e656d25b50"
        ],
        "linkType": "static",
        "timeout": "600",
        "x": 2060,
        "y": 2520,
        "wires": [
            [
                "b3ee3c13b1a0f8e6"
            ]
        ]
    },
    {
        "id": "386b3e9297c89e33",
        "type": "link call",
        "z": "32ccf302392ab325",
        "g": "56bca0108c880039",
        "name": "update xlinks",
        "links": [
            "43c95e6e9db87c7a"
        ],
        "linkType": "static",
        "timeout": "600",
        "x": 2070,
        "y": 2720,
        "wires": [
            [
                "ce482cbccec6ba9a"
            ]
        ]
    },
    {
        "id": "ce482cbccec6ba9a",
        "type": "link out",
        "z": "32ccf302392ab325",
        "g": "56bca0108c880039",
        "name": "re-evaluate status",
        "mode": "link",
        "links": [
            "b7487ff351fb7a6b"
        ],
        "x": 2015,
        "y": 2780,
        "wires": []
    },
    {
        "id": "8cea64c69e31787e",
        "type": "link call",
        "z": "32ccf302392ab325",
        "g": "56bca0108c880039",
        "name": "approve xlinks",
        "links": [
            "c66395e6cab17ac0"
        ],
        "linkType": "static",
        "timeout": "600",
        "x": 2080,
        "y": 2960,
        "wires": [
            [
                "991ef6455c72733e"
            ]
        ]
    },
    {
        "id": "991ef6455c72733e",
        "type": "link out",
        "z": "32ccf302392ab325",
        "g": "56bca0108c880039",
        "name": "re-evaluate status",
        "mode": "link",
        "links": [
            "b7487ff351fb7a6b"
        ],
        "x": 2015,
        "y": 3020,
        "wires": []
    },
    {
        "id": "bd9bf511fd82441b",
        "type": "link out",
        "z": "32ccf302392ab325",
        "g": "56bca0108c880039",
        "name": "re-evaluate status",
        "mode": "link",
        "links": [
            "b7487ff351fb7a6b"
        ],
        "x": 2015,
        "y": 3240,
        "wires": []
    },
    {
        "id": "095d7fef212c31e5",
        "type": "link call",
        "z": "32ccf302392ab325",
        "g": "56bca0108c880039",
        "name": "create new xlink version",
        "links": [
            "e47ea65863ab8ee8"
        ],
        "linkType": "static",
        "timeout": "600",
        "x": 2110,
        "y": 3180,
        "wires": [
            [
                "bd9bf511fd82441b"
            ]
        ]
    },
    {
        "id": "9dba81b02b1c9883",
        "type": "inject",
        "z": "32ccf302392ab325",
        "g": "56418a5f1c01fec3",
        "name": "",
        "props": [],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 770,
        "y": 320,
        "wires": [
            [
                "77a81cf3288f38df"
            ]
        ]
    },
    {
        "id": "cea63348a4243ca7",
        "type": "debug",
        "z": "32ccf302392ab325",
        "g": "81e9aec5f845a51a",
        "name": "new source documents",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2170,
        "y": 1060,
        "wires": []
    },
    {
        "id": "761ee2b200f2362d",
        "type": "debug",
        "z": "32ccf302392ab325",
        "g": "81e9aec5f845a51a",
        "name": "updated source documents",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2180,
        "y": 1140,
        "wires": []
    },
    {
        "id": "d8b66721dacadcc8",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "56bca0108c880039",
        "name": "pair source and xlink to doc_pairs",
        "rules": [
            {
                "t": "set",
                "p": "loop",
                "pt": "msg",
                "to": "/* assign doc version pairs to different groups. A single pair maybe assigned to more than one group, e.g. new source and new version. This will be handled by the order of processing. */\t{\t    /* new_sources: all source documents without any xlink */\t    \"new_sources\": flow.doc_pairs[xlink_id?false:true][],\t    /* new_versions: all source document versions without a xlink */\t    \"new_versions\": (flow.doc_pairs@$docpair.\t                            {   \"source_id\": $docpair.source_id,\t                                \"xlink_id\": $docpair.xlink_id,\t                                \"latest_xlink\": $docpair.latest_xlink,\t                                \"first_source\": $docpair.first_source,\t                                \"version_pairs\":\t                                    /* only if the version pair does not include an xlink */\t                                    $docpair.version_pairs@$verpair[$verpair.xlink_ver?false:true].{\t                                    \"source_ver\":$verpair.source_ver\t                                    }[]\t                            }\t                        )[version_pairs][],\t    /* approve_xlinks: xlinks which need approval to next major version. */\t    \"approve_xlinks\": (flow.doc_pairs@$docpair.\t                            {   \"source_id\": $docpair.source_id,\t                                \"xlink_id\": $docpair.xlink_id,\t                                \"latest_xlink\": $docpair.latest_xlink,\t                                \"first_source\": $docpair.first_source,\t                                \"version_pairs\":\t                                    $append(\t                                        /* source version / xlink version pairs, where the bound source version is a major version (i.e. minor vers = 0) and the major version number is the consequential number */\t                                        $docpair.version_pairs@$verpair[\t                                                $verpair.xlink_ver.bound_source_minor_version__v = 0 \t                                            and $verpair.xlink_ver.minor_version_number__v > 0\t                                            and $verpair.xlink_ver.bound_source_major_version__v = $verpair.xlink_ver.major_version_number__v + 1\t                                            ].{\t                                                \"source_ver\":$verpair.source_ver,\t                                                \"xlink_ver\":$verpair.xlink_ver\t                                            }[],\t                                        /* xlink versions which are just created as placeholder for approval, i.e. an interim major version of the source had been deleted. This is added to the version description, xlink_approved is an internal flag of the automation run set after approval.*/\t                                        [\t                                            {\t                                                \"xlink_ver\":$$.flow.xlink.doc_vers[id=$docpair.xlink_id]^(>sort_version)[0][description__v=\"placeholder major version\" and $not(xlink_approved)]\t                                            }\t                                        ]\t                                    )\t                            }\t                        )[version_pairs][],\t    /* update_xlinks: xlinks where the source version has been updated since last run. */\t    \"update_xlinks\": (flow.doc_pairs@$docpair.\t                            {   \"source_id\": $docpair.source_id,\t                                \"xlink_id\": $docpair.xlink_id,\t                                \"latest_xlink\": $docpair.latest_xlink,\t                                \"first_source\": $docpair.first_source,\t                                \"version_pairs\":\t                                    /* the version pair includes a xlink but this has not just be created or updated, determined by internal flags of the automation run set after such action.*/\t                                    $docpair.version_pairs@$verpair[\t                                            $verpair.xlink_ver \t                                        and $not($verpair.xlink_ver.xlink_created or $verpair.xlink_ver.xlink_updated)\t                                    ].{\t                                        \"source_ver\":$verpair.source_ver,\t                                        \"xlink_ver\":$verpair.xlink_ver\t                                    }[]\t                            }\t                        )[version_pairs][],\t    /* matching pairs, may include those still needing updates */\t    \"matching_xlinks\": (flow.doc_pairs@$docpair.\t                            {   \"source_id\": $docpair.source_id,\t                                \"xlink_id\": $docpair.xlink_id,\t                                \"latest_xlink\": $docpair.latest_xlink,\t                                \"first_source\": $docpair.first_source,\t                                \"version_pairs\":\t                                    $docpair.version_pairs@$verpair[\t                                            $verpair.xlink_ver.sort_version = $verpair.source_ver.sort_version \t                                        and $verpair.xlink_ver.sort_version = $verpair.xlink_ver.sort_bound_version].{\t                                    \"source_ver\":$verpair.source_ver,\t                                    \"xlink_ver\":$verpair.xlink_ver\t                                    }[]\t                                    })[version_pairs][]\t\t}\t",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "loop.unmatched_xlinks",
                "pt": "msg",
                "to": "(\t   $ma_xl_vids:=loop.matching_xlinks.version_pairs.xlink_ver.version_id;\t/*   {\t       \"unmatched_xlinks\": */flow.xlink.doc_vers@$dv[\t           $not(\t               $dv.version_id in $ma_xl_vids  /*xlink version is in matching list*/\t               or \t               $dv.sort_version < $$.flow.doc_pairs[xlink_id=$dv.id].first_source.sort_version   /*xlink version is older than the source version in updating scope*/\t           )\t       ].$dv.version_id\t\t/*   }*/\t)\t",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1380,
        "y": 3160,
        "wires": [
            [
                "23aca15730715d76",
                "4c2cd057f4d612dd"
            ]
        ]
    },
    {
        "id": "cdbab5695af22447",
        "type": "switch",
        "z": "32ccf302392ab325",
        "g": "f919a01e47ab17d2",
        "name": "source version higher than latest xlink version",
        "property": "loop.description != \"error\"",
        "propertyType": "jsonata",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 3110,
        "y": 3300,
        "wires": [
            [
                "b4a72a8be8ce5d3d",
                "441779e175d965b5"
            ],
            [
                "2bf5639b323869c7"
            ]
        ]
    },
    {
        "id": "671e961d7f1d5256",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "f919a01e47ab17d2",
        "name": "add created xlink to flow.xlink.doc_vers",
        "rules": [
            {
                "t": "set",
                "p": "loop.xlink_latest_ver",
                "pt": "msg",
                "to": "    {\t   \"major_version_number__v\":payload.major_version_number__v,\t   \"minor_version_number__v\":payload.minor_version_number__v,\t   \"sort_version\": 10000*payload.major_version_number__v + payload.minor_version_number__v,\t   \"id\": loop.xlink_latest_ver.id,\t   \"version_id\":          loop.xlink_latest_ver.id & \"_\" &         payload.major_version_number__v &\t   \"_\" &         payload.minor_version_number__v,\t   \"responseStatus\": $$.payload.responseStatus,\t   \"responseMessage\": $$.payload.responseMessage,\t   \"source_version_id\": $$.loop.new_version.version_id,\t   \"sort_bound_version\": $$.loop.new_xlink.bound_source_major_version__v*10000 + $$.loop.new_xlink.bound_source_minor_version__v,\t   \"version_modified_date__v\": $now(),\t   \"xlink_version_created\": true,\t   \"description__v\": $$.loop.description,\t   \"bound_source_major_version__v\" : $$.loop.new_source_version.major_version_number__v,\t   \"bound_source_minor_version__v\" : $$.loop.new_source_version.minor_version_number__v\t}",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "flow.xlink.doc_vers",
                "pt": "msg",
                "to": "$append(\t   $$.flow.xlink.doc_vers,\t   loop.xlink_latest_ver\t)",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "_log",
                "pt": "msg",
                "to": "$append(\t   _log,\t   {\t       \"timestamp\": $now(),\t       \"severity\": \"INFORMATION\",\t       \"message\": $$.loop.xlink_latest_ver,\t       \"source\": \"create new draft xlink\"\t   } \t)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3350,
        "y": 3380,
        "wires": [
            [
                "2033738e5affc8df"
            ]
        ]
    },
    {
        "id": "f6df9325f7fcf4ee",
        "type": "switch",
        "z": "32ccf302392ab325",
        "g": "d496576295362680",
        "name": "check if xlink is provided",
        "property": "true",
        "propertyType": "jsonata",
        "rules": [
            {
                "t": "jsonata_exp",
                "v": "$exists(loop.update_xlink.xlink_ver)",
                "vt": "jsonata"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 2970,
        "y": 2800,
        "wires": [
            [
                "1cd5a9446f947f14"
            ],
            [
                "2f1a17522978e333"
            ]
        ]
    },
    {
        "id": "cf3b63f7cf60b221",
        "type": "change",
        "z": "32ccf302392ab325",
        "name": "prepare set last run",
        "rules": [
            {
                "t": "set",
                "p": "args.topic",
                "pt": "msg",
                "to": "$replace(\t   $join(\t       [\t           \"LOG__\" & client_id,\t           flow.instruction.name__v,\t           \"last_run\",\t           \"h\"        \t       ],\t       \":\"    \t   ),\t   /[ \"']/,\t   \"_\" \t)",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "args.method",
                "pt": "msg",
                "to": "SET",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "flow.instruction.this_run",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 590,
        "y": 3580,
        "wires": [
            [
                "b130a6157b27c6dc"
            ]
        ]
    },
    {
        "id": "b130a6157b27c6dc",
        "type": "brave-redis-queue",
        "z": "32ccf302392ab325",
        "name": "",
        "x": 870,
        "y": 3580,
        "wires": [
            [
                "6ae0051eeaef56db",
                "d0107ff77feed2a1"
            ],
            [
                "627ecdc1591df35a",
                "d0107ff77feed2a1"
            ]
        ]
    },
    {
        "id": "1ca05f26dbfb52ca",
        "type": "debug",
        "z": "32ccf302392ab325",
        "name": "debug 349",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1790,
        "y": 3640,
        "wires": []
    },
    {
        "id": "77a81cf3288f38df",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "56418a5f1c01fec3",
        "name": "manually set flow.login",
        "rules": [
            {
                "t": "set",
                "p": "flow.login.username",
                "pt": "msg",
                "to": "gembrave.connection@bayersbx.com",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "flow.login.password",
                "pt": "msg",
                "to": "0MPOB1k4FJ2lQdw!1",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "client_id",
                "pt": "msg",
                "to": "create_xlink",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "flow.login.instruction.vault_domain",
                "pt": "msg",
                "to": "bayersbx-bayer-ph-rim-r2-explore.veevavault.com",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "flow.login.instruction.subset",
                "pt": "msg",
                "to": "dummy1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 980,
        "y": 320,
        "wires": [
            [
                "04be81a30ca8b5f2"
            ]
        ]
    },
    {
        "id": "1743802bb44984d7",
        "type": "subflow:594e48a4aa27c6b6",
        "z": "32ccf302392ab325",
        "name": "Keep this to make sure redis works",
        "x": 2960,
        "y": 300,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "3ce9fc6e576dabe1",
        "type": "http in",
        "z": "32ccf302392ab325",
        "g": "56418a5f1c01fec3",
        "name": "",
        "url": "create_xlink",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 810,
        "y": 260,
        "wires": [
            [
                "27f0ad638de63534"
            ]
        ]
    },
    {
        "id": "74ef0e332df6263a",
        "type": "debug",
        "z": "32ccf302392ab325",
        "g": "56418a5f1c01fec3",
        "name": "debug 351",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1050,
        "y": 200,
        "wires": []
    },
    {
        "id": "27f0ad638de63534",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "56418a5f1c01fec3",
        "name": "set flow.login from payload",
        "rules": [
            {
                "t": "set",
                "p": "flow.login",
                "pt": "msg",
                "to": "{\t    \"username\":payload.username,\t    \"password\":payload.password,\t    \"instruction\":{\"vault_domain\":payload.vault_domain, \"subset\":payload.subset}\t}",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1080,
        "y": 260,
        "wires": [
            [
                "04be81a30ca8b5f2"
            ]
        ]
    },
    {
        "id": "a33054588653f5e0",
        "type": "http response",
        "z": "32ccf302392ab325",
        "g": "429ca0f28c6eb552",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 2290,
        "y": 540,
        "wires": []
    },
    {
        "id": "78537d38ed716bca",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "56418a5f1c01fec3",
        "name": "login failed",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "login failed",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1790,
        "y": 200,
        "wires": [
            [
                "49f8195583d786cf"
            ]
        ]
    },
    {
        "id": "49f8195583d786cf",
        "type": "http response",
        "z": "32ccf302392ab325",
        "g": "56418a5f1c01fec3",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 2030,
        "y": 200,
        "wires": []
    },
    {
        "id": "27776784864da7d3",
        "type": "http response",
        "z": "32ccf302392ab325",
        "g": "56418a5f1c01fec3",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 1550,
        "y": 260,
        "wires": []
    },
    {
        "id": "680916713482071c",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "56418a5f1c01fec3",
        "name": "Flow not active",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Flow not active",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1360,
        "y": 260,
        "wires": [
            [
                "27776784864da7d3"
            ]
        ]
    },
    {
        "id": "91facf7f2cde805d",
        "type": "switch",
        "z": "32ccf302392ab325",
        "g": "56418a5f1c01fec3",
        "name": "debug?",
        "property": "flow.settings.debug",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 2080,
        "y": 320,
        "wires": [
            [
                "d0a3763e41c828b1"
            ]
        ]
    },
    {
        "id": "a6173c01ed59b86f",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "429ca0f28c6eb552",
        "name": "OK",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "login and start OK",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2090,
        "y": 540,
        "wires": [
            [
                "a33054588653f5e0"
            ]
        ]
    },
    {
        "id": "c012f787da98de2b",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "56418a5f1c01fec3",
        "name": "retrieve settings failed",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "retrieve settings failed",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1840,
        "y": 260,
        "wires": [
            [
                "65c7183a4ac89787"
            ]
        ]
    },
    {
        "id": "65c7183a4ac89787",
        "type": "http response",
        "z": "32ccf302392ab325",
        "g": "56418a5f1c01fec3",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 2030,
        "y": 260,
        "wires": []
    },
    {
        "id": "a32cf550f15f2149",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "429ca0f28c6eb552",
        "name": "retrieve instructions failed",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "retrieve instructions failed",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2030,
        "y": 480,
        "wires": [
            [
                "ac4a83b089c383d2"
            ]
        ]
    },
    {
        "id": "ac4a83b089c383d2",
        "type": "http response",
        "z": "32ccf302392ab325",
        "g": "429ca0f28c6eb552",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 2270,
        "y": 480,
        "wires": []
    },
    {
        "id": "f31ed7f84d10db2d",
        "type": "link out",
        "z": "32ccf302392ab325",
        "g": "429ca0f28c6eb552",
        "name": "Error Abbort",
        "mode": "link",
        "links": [
            "65a23e1026df92f0"
        ],
        "x": 1445,
        "y": 540,
        "wires": [],
        "icon": "font-awesome/fa-hand-stop-o"
    },
    {
        "id": "31af2fa0558d0fc5",
        "type": "link out",
        "z": "32ccf302392ab325",
        "g": "429ca0f28c6eb552",
        "name": "Error Abbort",
        "mode": "link",
        "links": [
            "65a23e1026df92f0"
        ],
        "x": 1445,
        "y": 600,
        "wires": [],
        "icon": "font-awesome/fa-hand-stop-o"
    },
    {
        "id": "f4fca5f780970cc4",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "429ca0f28c6eb552",
        "name": "Error status update",
        "rules": [
            {
                "t": "set",
                "p": "_log",
                "pt": "msg",
                "to": "$append(\t   _log,\t   {\t       \"timestamp\": $now(),\t       \"severity\": \"WARNING\",\t       \"message\": payload,\t       \"source\":  \"Error retrieve last run time\"\t   }\t)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1405,
        "y": 680,
        "wires": [
            [
                "ac87a34d55764163",
                "d348b58ca7101db9"
            ]
        ],
        "l": false
    },
    {
        "id": "ac87a34d55764163",
        "type": "link out",
        "z": "32ccf302392ab325",
        "g": "429ca0f28c6eb552",
        "name": "Error log and continue",
        "mode": "link",
        "links": [
            "1b602c62a8f8490b"
        ],
        "x": 1545,
        "y": 680,
        "wires": [],
        "icon": "font-awesome/fa-warning"
    },
    {
        "id": "7cd49bbb21845b99",
        "type": "link out",
        "z": "32ccf302392ab325",
        "g": "56418a5f1c01fec3",
        "name": "Error Abbort",
        "mode": "link",
        "links": [
            "65a23e1026df92f0"
        ],
        "x": 1725,
        "y": 320,
        "wires": [],
        "icon": "font-awesome/fa-hand-stop-o"
    },
    {
        "id": "65a23e1026df92f0",
        "type": "link in",
        "z": "32ccf302392ab325",
        "g": "1f8f94a681476572",
        "name": "Error Abbort",
        "links": [
            "128d254562eefa6d",
            "1471bb087e0151a1",
            "1581a680db671e5c",
            "237ec4378b954253",
            "2d4fea7ab5be2b2d",
            "2f69e1a30bdfb343",
            "382c142b2728b2ed",
            "3cae3fc43b4ec3a4",
            "4e18791855151808",
            "50fd31f5ce377d4c",
            "514d6d3b62ea32ed",
            "6118fd21f5dc9d98",
            "cfadd0fab9ef544b",
            "841d5405f127271f",
            "84896e26921b7704",
            "866a06205046b29d",
            "8aac891cf0cd37ad",
            "93013df967f1cb8e",
            "9838823c52dca3d9",
            "9e1b8ba0d0864e72",
            "9f252d9d55c756e6",
            "ae338033f5247ad4",
            "b6c096abb27dca98",
            "d91be8663ab18314",
            "e2dac2eaf5e7a887",
            "41931d136ad315d4",
            "ee45d82f4de0766c",
            "7bbbe1cc5739c7eb",
            "810558cfb37deaa9",
            "5954662b0f9ec8f0",
            "4b8871e780cde765",
            "97db13b20a3edac9",
            "58d93fbb6b0dddf0",
            "00dbaccb200ea05a",
            "ced81cb6249e47d5",
            "8acbd2b5d2c7b0df",
            "90f2d501681c289c",
            "17483d6514c74edc",
            "22f771342a04e34d",
            "d82eeb3e686d43df",
            "08ef418a352ddb94",
            "bb938a9810fc26b8",
            "23a6c4f5ae98bf1d",
            "66a3701619ae33b4",
            "58b0f1ab4a989e2a",
            "0b61a5e97c10d2d2",
            "2c93528756f2e1c0",
            "cbf20dc425315569",
            "f31ed7f84d10db2d",
            "31af2fa0558d0fc5",
            "7cd49bbb21845b99",
            "2d7618f632dd69a0",
            "8eb57d4712531671",
            "569532f3498a01b6",
            "9819636b1d12be9c",
            "da98651e508e280e",
            "2a3858970a774fd8",
            "abac2caf7c1bcc06",
            "fb9d5cc853187d94",
            "40dc7c66631ca966",
            "e691ceecf149b649",
            "c304a13f5e331386",
            "3eaf6da9cf266a16",
            "67e248fc7982d262",
            "95b08c0e9b4188a1",
            "4fd633d3741e7505",
            "7210199be077cd2e"
        ],
        "x": 2690,
        "y": 960,
        "wires": [
            [
                "5026767d85263364",
                "0b253214fbe672c6"
            ]
        ],
        "l": true
    },
    {
        "id": "5026767d85263364",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "1f8f94a681476572",
        "name": "LOG to Redis",
        "rules": [
            {
                "t": "set",
                "p": "args.topic",
                "pt": "msg",
                "to": "$replace(\t   $join(\t       [\t           \"LOG__\" & client_id,\t           $string(_object_id),\t           $replace(\t               starttime?starttime:$now()\t               ,\":\",\"-\"),\t           \"ERROR\",\t           \"h\"\t       ],\t       \":\"\t   ),\t   /[ \"']/,\t   \"_\"\t)",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "args.method",
                "pt": "msg",
                "to": "SET",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "_log",
                "pt": "msg",
                "to": "$append(\t   _log,\t   {\t       \"timestamp\": $now(),\t       \"severity\": \"FATAL ERROR\",\t       \"message\": $merge($each($, function($v, $k) {($k!=\"req\" and $k!=\"res\")?{$k:$v}})),\t       \"source\":  $string(_event)\t   }\t)",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "_log",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2940,
        "y": 960,
        "wires": [
            [
                "ddaeb86daaab9cdf"
            ]
        ]
    },
    {
        "id": "c33863e74002c7d8",
        "type": "brave-redis-queue",
        "z": "32ccf302392ab325",
        "g": "1f8f94a681476572",
        "name": "",
        "x": 3270,
        "y": 960,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "ddaeb86daaab9cdf",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "1f8f94a681476572",
        "name": "set expire",
        "rules": [
            {
                "t": "set",
                "p": "args.expire",
                "pt": "msg",
                "to": "6*7*24*60*60",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3120,
        "y": 960,
        "wires": [
            [
                "c33863e74002c7d8"
            ]
        ]
    },
    {
        "id": "d25530bf3a20932d",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "56bca0108c880039",
        "name": "Error incomplete run",
        "rules": [
            {
                "t": "set",
                "p": "_log",
                "pt": "msg",
                "to": "$append(\t   _log,\t   {\t       \"timestamp\": $now(),\t       \"severity\": \"WARNING\",\t       \"message\": payload,\t       \"source\":  \"Error incomplete run\"\t   }\t)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2080,
        "y": 3480,
        "wires": [
            [
                "cf3b63f7cf60b221",
                "4bbfae722449baaa"
            ]
        ]
    },
    {
        "id": "4bbfae722449baaa",
        "type": "link out",
        "z": "32ccf302392ab325",
        "g": "56bca0108c880039",
        "name": "Error log and continue",
        "mode": "link",
        "links": [
            "1b602c62a8f8490b"
        ],
        "x": 2255,
        "y": 3480,
        "wires": [],
        "icon": "font-awesome/fa-warning"
    },
    {
        "id": "627ecdc1591df35a",
        "type": "change",
        "z": "32ccf302392ab325",
        "name": "Error incomplete run",
        "rules": [
            {
                "t": "set",
                "p": "_log",
                "pt": "msg",
                "to": "$append(\t   _log,\t   {\t       \"timestamp\": $now(),\t       \"severity\": \"WARNING\",\t       \"message\": payload,\t       \"source\":  \"Error incomplete run\"\t   }\t)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1180,
        "y": 3720,
        "wires": [
            [
                "55db3214a632ccd1"
            ]
        ]
    },
    {
        "id": "55db3214a632ccd1",
        "type": "link out",
        "z": "32ccf302392ab325",
        "name": "Error log and continue",
        "mode": "link",
        "links": [
            "1b602c62a8f8490b"
        ],
        "x": 1355,
        "y": 3720,
        "wires": [],
        "icon": "font-awesome/fa-warning"
    },
    {
        "id": "6ae0051eeaef56db",
        "type": "change",
        "z": "32ccf302392ab325",
        "name": "Information log",
        "rules": [
            {
                "t": "set",
                "p": "args.topic",
                "pt": "msg",
                "to": "$replace(\t   $join(\t       [\t           \"LOG__\" & client_id,\t           flow.instruction.name__v,\t           \"INFORMATION\",\t           \"h\"        \t       ],\t       \":\"    \t   ),\t   /[ \"']/,\t   \"_\" \t)",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "args.method",
                "pt": "msg",
                "to": "SET",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "_log",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1160,
        "y": 3560,
        "wires": [
            [
                "ab6058618f7a9d8b"
            ]
        ]
    },
    {
        "id": "ab6058618f7a9d8b",
        "type": "brave-redis-queue",
        "z": "32ccf302392ab325",
        "name": "",
        "x": 1410,
        "y": 3560,
        "wires": [
            [
                "d0107ff77feed2a1"
            ],
            [
                "d0107ff77feed2a1"
            ]
        ]
    },
    {
        "id": "8eb57d4712531671",
        "type": "link out",
        "z": "32ccf302392ab325",
        "g": "50739f124cb8563b",
        "name": "Error Abbort",
        "mode": "link",
        "links": [
            "65a23e1026df92f0"
        ],
        "x": 1445,
        "y": 780,
        "wires": [],
        "icon": "font-awesome/fa-hand-stop-o"
    },
    {
        "id": "569532f3498a01b6",
        "type": "link out",
        "z": "32ccf302392ab325",
        "g": "8dfbdc55ff62d17e",
        "name": "Error Abbort",
        "mode": "link",
        "links": [
            "65a23e1026df92f0"
        ],
        "x": 1445,
        "y": 880,
        "wires": [],
        "icon": "font-awesome/fa-hand-stop-o"
    },
    {
        "id": "9819636b1d12be9c",
        "type": "link out",
        "z": "32ccf302392ab325",
        "g": "81e9aec5f845a51a",
        "name": "Error Abbort",
        "mode": "link",
        "links": [
            "65a23e1026df92f0"
        ],
        "x": 1445,
        "y": 1020,
        "wires": [],
        "icon": "font-awesome/fa-hand-stop-o"
    },
    {
        "id": "da98651e508e280e",
        "type": "link out",
        "z": "32ccf302392ab325",
        "g": "81e9aec5f845a51a",
        "name": "Error Abbort",
        "mode": "link",
        "links": [
            "65a23e1026df92f0"
        ],
        "x": 1445,
        "y": 1100,
        "wires": [],
        "icon": "font-awesome/fa-hand-stop-o"
    },
    {
        "id": "2a3858970a774fd8",
        "type": "link out",
        "z": "32ccf302392ab325",
        "g": "efd44d58605fc3aa",
        "name": "Error Abbort",
        "mode": "link",
        "links": [
            "65a23e1026df92f0"
        ],
        "x": 1455,
        "y": 1260,
        "wires": [],
        "icon": "font-awesome/fa-hand-stop-o"
    },
    {
        "id": "abac2caf7c1bcc06",
        "type": "link out",
        "z": "32ccf302392ab325",
        "g": "c9d97f19c3150a81",
        "name": "Error Abbort",
        "mode": "link",
        "links": [
            "65a23e1026df92f0"
        ],
        "x": 1895,
        "y": 1560,
        "wires": [],
        "icon": "font-awesome/fa-hand-stop-o"
    },
    {
        "id": "fb9d5cc853187d94",
        "type": "link out",
        "z": "32ccf302392ab325",
        "name": "Error Abbort",
        "mode": "link",
        "links": [
            "65a23e1026df92f0"
        ],
        "x": 1832,
        "y": 1930,
        "wires": [],
        "icon": "font-awesome/fa-hand-stop-o"
    },
    {
        "id": "40dc7c66631ca966",
        "type": "link out",
        "z": "32ccf302392ab325",
        "g": "2fb1f8ac58d94586",
        "name": "Error Abbort",
        "mode": "link",
        "links": [
            "65a23e1026df92f0"
        ],
        "x": 1845,
        "y": 2240,
        "wires": [],
        "icon": "font-awesome/fa-hand-stop-o"
    },
    {
        "id": "e691ceecf149b649",
        "type": "link out",
        "z": "32ccf302392ab325",
        "g": "ef776e6ae30994ac",
        "name": "Error Abbort",
        "mode": "link",
        "links": [
            "65a23e1026df92f0"
        ],
        "x": 3305,
        "y": 2580,
        "wires": [],
        "icon": "font-awesome/fa-hand-stop-o"
    },
    {
        "id": "c304a13f5e331386",
        "type": "link out",
        "z": "32ccf302392ab325",
        "g": "d496576295362680",
        "name": "Error Abbort",
        "mode": "link",
        "links": [
            "65a23e1026df92f0"
        ],
        "x": 3455,
        "y": 2800,
        "wires": [],
        "icon": "font-awesome/fa-hand-stop-o"
    },
    {
        "id": "3eaf6da9cf266a16",
        "type": "link out",
        "z": "32ccf302392ab325",
        "g": "020992df4203b447",
        "name": "Error Abbort",
        "mode": "link",
        "links": [
            "65a23e1026df92f0"
        ],
        "x": 3115,
        "y": 3080,
        "wires": [],
        "icon": "font-awesome/fa-hand-stop-o"
    },
    {
        "id": "5a051ccd4278ef54",
        "type": "link out",
        "z": "32ccf302392ab325",
        "g": "f919a01e47ab17d2",
        "name": "Error Abbort",
        "mode": "link",
        "links": [
            "1b602c62a8f8490b"
        ],
        "x": 3645,
        "y": 3440,
        "wires": [],
        "icon": "font-awesome/fa-warning"
    },
    {
        "id": "901c4527bc686831",
        "type": "switch",
        "z": "32ccf302392ab325",
        "g": "81e9aec5f845a51a",
        "name": "debug?",
        "property": "flow.settings.debug",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1940,
        "y": 1060,
        "wires": [
            [
                "cea63348a4243ca7"
            ]
        ]
    },
    {
        "id": "4b5f5ecc9586eae4",
        "type": "switch",
        "z": "32ccf302392ab325",
        "g": "81e9aec5f845a51a",
        "name": "debug?",
        "property": "flow.settings.debug",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1940,
        "y": 1140,
        "wires": [
            [
                "761ee2b200f2362d"
            ]
        ]
    },
    {
        "id": "c653bd43402589c0",
        "type": "switch",
        "z": "32ccf302392ab325",
        "g": "efd44d58605fc3aa",
        "name": "debug?",
        "property": "flow.settings.debug",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1920,
        "y": 1260,
        "wires": [
            [
                "a636dd3b7fabfe4a"
            ]
        ]
    },
    {
        "id": "0a29d75785637f19",
        "type": "switch",
        "z": "32ccf302392ab325",
        "g": "f919a01e47ab17d2",
        "name": "debug?",
        "property": "flow.settings.debug",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 3780,
        "y": 3420,
        "wires": [
            [
                "1a8c840ed51562f0"
            ]
        ]
    },
    {
        "id": "cc5b2d57360c96c7",
        "type": "switch",
        "z": "32ccf302392ab325",
        "g": "f919a01e47ab17d2",
        "name": "debug?",
        "property": "flow.settings.debug",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 3780,
        "y": 3360,
        "wires": [
            [
                "f51c8f2b94947845"
            ]
        ]
    },
    {
        "id": "86277ed87d5d5203",
        "type": "switch",
        "z": "32ccf302392ab325",
        "g": "f919a01e47ab17d2",
        "name": "debug?",
        "property": "flow.settings.debug",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 3780,
        "y": 3300,
        "wires": [
            [
                "f17e97139cc1335f"
            ]
        ]
    },
    {
        "id": "441779e175d965b5",
        "type": "switch",
        "z": "32ccf302392ab325",
        "g": "f919a01e47ab17d2",
        "name": "debug?",
        "property": "flow.settings.debug",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 3780,
        "y": 3240,
        "wires": [
            [
                "1fcd58a9e26226c2"
            ]
        ]
    },
    {
        "id": "36fca2e5794c69c5",
        "type": "switch",
        "z": "32ccf302392ab325",
        "g": "f919a01e47ab17d2",
        "name": "debug?",
        "property": "flow.settings.debug",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 3780,
        "y": 3180,
        "wires": [
            [
                "abaaf1402b79ef05"
            ]
        ]
    },
    {
        "id": "af9a694663793e5b",
        "type": "switch",
        "z": "32ccf302392ab325",
        "g": "020992df4203b447",
        "name": "debug?",
        "property": "flow.settings.debug",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 3780,
        "y": 2980,
        "wires": [
            [
                "57013fc0b1ca7087"
            ]
        ]
    },
    {
        "id": "57013fc0b1ca7087",
        "type": "debug",
        "z": "32ccf302392ab325",
        "g": "020992df4203b447",
        "name": "approve xlinks",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3960,
        "y": 2980,
        "wires": []
    },
    {
        "id": "abaaf1402b79ef05",
        "type": "debug",
        "z": "32ccf302392ab325",
        "g": "f919a01e47ab17d2",
        "name": "upversion xlinks: step 1",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3990,
        "y": 3180,
        "wires": []
    },
    {
        "id": "1fcd58a9e26226c2",
        "type": "debug",
        "z": "32ccf302392ab325",
        "g": "f919a01e47ab17d2",
        "name": "upversion xlinks: step 2",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3990,
        "y": 3240,
        "wires": []
    },
    {
        "id": "f17e97139cc1335f",
        "type": "debug",
        "z": "32ccf302392ab325",
        "g": "f919a01e47ab17d2",
        "name": "upversion xlinks: step 3 case 1",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 4010,
        "y": 3300,
        "wires": []
    },
    {
        "id": "1a8c840ed51562f0",
        "type": "debug",
        "z": "32ccf302392ab325",
        "g": "f919a01e47ab17d2",
        "name": "upversion xlinks: step 3 case 3",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 4010,
        "y": 3420,
        "wires": []
    },
    {
        "id": "33ad49373220d220",
        "type": "switch",
        "z": "32ccf302392ab325",
        "g": "d496576295362680",
        "name": "debug?",
        "property": "flow.settings.debug",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 3780,
        "y": 2740,
        "wires": [
            [
                "eba5c10f5be82a5d"
            ]
        ]
    },
    {
        "id": "eba5c10f5be82a5d",
        "type": "debug",
        "z": "32ccf302392ab325",
        "g": "d496576295362680",
        "name": "update xlinks: step 1",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3980,
        "y": 2740,
        "wires": []
    },
    {
        "id": "67b2a2395494575b",
        "type": "switch",
        "z": "32ccf302392ab325",
        "g": "d496576295362680",
        "name": "debug?",
        "property": "flow.settings.debug",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 3780,
        "y": 2800,
        "wires": [
            [
                "3af2752e5c61f07e"
            ]
        ]
    },
    {
        "id": "3af2752e5c61f07e",
        "type": "debug",
        "z": "32ccf302392ab325",
        "g": "d496576295362680",
        "name": "update xlinks: step 2",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3980,
        "y": 2800,
        "wires": []
    },
    {
        "id": "2dde79e37bfd9a7e",
        "type": "switch",
        "z": "32ccf302392ab325",
        "g": "d496576295362680",
        "name": "debug?",
        "property": "flow.settings.debug",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 3780,
        "y": 2860,
        "wires": [
            [
                "d1e7ad315bc25c6b"
            ]
        ]
    },
    {
        "id": "d1e7ad315bc25c6b",
        "type": "debug",
        "z": "32ccf302392ab325",
        "g": "d496576295362680",
        "name": "update xlinks: step 3",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3980,
        "y": 2860,
        "wires": []
    },
    {
        "id": "a65ce93c89c2599a",
        "type": "switch",
        "z": "32ccf302392ab325",
        "g": "ef776e6ae30994ac",
        "name": "debug?",
        "property": "flow.settings.debug",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 3780,
        "y": 2580,
        "wires": [
            [
                "d4d55db365ec4e3d"
            ]
        ]
    },
    {
        "id": "d4d55db365ec4e3d",
        "type": "debug",
        "z": "32ccf302392ab325",
        "g": "ef776e6ae30994ac",
        "name": "new xlinks: step 2",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3970,
        "y": 2580,
        "wires": []
    },
    {
        "id": "601dd3c7dc2817a5",
        "type": "switch",
        "z": "32ccf302392ab325",
        "g": "ef776e6ae30994ac",
        "name": "debug?",
        "property": "flow.settings.debug",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 3780,
        "y": 2640,
        "wires": [
            [
                "fc82347c85b692dd"
            ]
        ]
    },
    {
        "id": "fc82347c85b692dd",
        "type": "debug",
        "z": "32ccf302392ab325",
        "g": "ef776e6ae30994ac",
        "name": "new xlinks: step 3",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3970,
        "y": 2640,
        "wires": []
    },
    {
        "id": "3dbcba8702bb65e4",
        "type": "switch",
        "z": "32ccf302392ab325",
        "g": "ef776e6ae30994ac",
        "name": "debug?",
        "property": "flow.settings.debug",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 3780,
        "y": 2500,
        "wires": [
            [
                "7ce5bb81dd221063"
            ]
        ]
    },
    {
        "id": "db1f8c0193412c4d",
        "type": "debug",
        "z": "32ccf302392ab325",
        "g": "ef776e6ae30994ac",
        "name": "new xlinks: step 1",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 4150,
        "y": 2480,
        "wires": []
    },
    {
        "id": "39bdbb6eb6b7e9a6",
        "type": "switch",
        "z": "32ccf302392ab325",
        "g": "41304ce80e23ede0",
        "name": "debug?",
        "property": "flow.settings.debug",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1800,
        "y": 1680,
        "wires": [
            [
                "883c657b5f0a1cea"
            ]
        ]
    },
    {
        "id": "883c657b5f0a1cea",
        "type": "debug",
        "z": "32ccf302392ab325",
        "g": "41304ce80e23ede0",
        "name": "get objects",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2090,
        "y": 1680,
        "wires": []
    },
    {
        "id": "7d904bf04f4f0d3f",
        "type": "switch",
        "z": "32ccf302392ab325",
        "g": "4d78ed85bdabae1a",
        "name": "debug?",
        "property": "flow.settings.debug",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1800,
        "y": 2000,
        "wires": [
            [
                "f9dfa363677e53f2"
            ]
        ]
    },
    {
        "id": "f9dfa363677e53f2",
        "type": "debug",
        "z": "32ccf302392ab325",
        "g": "4d78ed85bdabae1a",
        "name": "get picklists",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2090,
        "y": 2000,
        "wires": []
    },
    {
        "id": "5a08d75fb4074cc4",
        "type": "switch",
        "z": "32ccf302392ab325",
        "g": "bbf1e46794a4a441",
        "name": "debug?",
        "property": "flow.settings.debug",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1820,
        "y": 2320,
        "wires": [
            [
                "eeb4b752bdaa01ef"
            ]
        ]
    },
    {
        "id": "eeb4b752bdaa01ef",
        "type": "debug",
        "z": "32ccf302392ab325",
        "g": "bbf1e46794a4a441",
        "name": "get mappings",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2080,
        "y": 2320,
        "wires": []
    },
    {
        "id": "23aca15730715d76",
        "type": "switch",
        "z": "32ccf302392ab325",
        "g": "56bca0108c880039",
        "name": "debug?",
        "property": "flow.settings.debug",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1640,
        "y": 2820,
        "wires": [
            [
                "39f91ba891be52fb"
            ]
        ]
    },
    {
        "id": "39f91ba891be52fb",
        "type": "debug",
        "z": "32ccf302392ab325",
        "g": "56bca0108c880039",
        "name": "pairing xlinks and sources",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1830,
        "y": 2820,
        "wires": []
    },
    {
        "id": "d0107ff77feed2a1",
        "type": "switch",
        "z": "32ccf302392ab325",
        "name": "debug?",
        "property": "flow.settings.debug",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1520,
        "y": 3640,
        "wires": [
            [
                "1ca05f26dbfb52ca"
            ]
        ]
    },
    {
        "id": "9bb271194bb04e59",
        "type": "debug",
        "z": "32ccf302392ab325",
        "g": "5921be1c98a95c97",
        "name": "Error Log and Continue",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3190,
        "y": 1060,
        "wires": []
    },
    {
        "id": "0b253214fbe672c6",
        "type": "debug",
        "z": "32ccf302392ab325",
        "g": "5921be1c98a95c97",
        "name": "Error Abbort",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3150,
        "y": 860,
        "wires": []
    },
    {
        "id": "ac370157a733f606",
        "type": "switch",
        "z": "32ccf302392ab325",
        "g": "429ca0f28c6eb552",
        "name": "debug?",
        "property": "flow.settings.debug",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 2080,
        "y": 620,
        "wires": [
            [
                "0dba09b269e5f30b"
            ]
        ]
    },
    {
        "id": "0dba09b269e5f30b",
        "type": "debug",
        "z": "32ccf302392ab325",
        "g": "429ca0f28c6eb552",
        "name": "get instructions",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2260,
        "y": 620,
        "wires": []
    },
    {
        "id": "95d4b4ac2dd7c142",
        "type": "comment",
        "z": "32ccf302392ab325",
        "g": "ef776e6ae30994ac",
        "name": "",
        "info": "",
        "x": 3460,
        "y": 2540,
        "wires": []
    },
    {
        "id": "17c4fb4d7dad9588",
        "type": "function",
        "z": "32ccf302392ab325",
        "g": "ef776e6ae30994ac",
        "name": "",
        "func": "let adjustData = {};\nfor (let opt in msg.payload) {\n    if (msg.payload.hasOwnProperty(opt)) {\n        let val = msg.payload[opt];\n        if (val !== undefined && val !== null  && val !== []) {\n            if (Array.isArray(val)) {\n                    let newval = val.join(\", \")\n                    adjustData[opt] = newval;\n            } else {\n                adjustData[opt] = val;\n            }\n        }\n    }\n}\nmsg.payload = adjustData;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2920,
        "y": 2640,
        "wires": [
            [
                "124aafaa5fce09e1",
                "a65ce93c89c2599a"
            ]
        ]
    },
    {
        "id": "1b43fe3be09de519",
        "type": "comment",
        "z": "32ccf302392ab325",
        "g": "f919a01e47ab17d2",
        "name": "check what happens here?",
        "info": "",
        "x": 3790,
        "y": 3320,
        "wires": []
    },
    {
        "id": "5d8fcbc38bdd98ae",
        "type": "brave-login",
        "z": "32ccf302392ab325",
        "g": "56418a5f1c01fec3",
        "name": "",
        "x": 1550,
        "y": 320,
        "wires": [
            [
                "777a7cc7782db188"
            ],
            [
                "78537d38ed716bca",
                "7cd49bbb21845b99"
            ]
        ]
    },
    {
        "id": "19bde3e0fb9dfb78",
        "type": "brave-login",
        "z": "32ccf302392ab325",
        "g": "50739f124cb8563b",
        "name": "",
        "x": 1270,
        "y": 780,
        "wires": [
            [
                "4edbbaa923361a34"
            ],
            [
                "8eb57d4712531671"
            ]
        ]
    },
    {
        "id": "318fe22d13edfa91",
        "type": "brave-login",
        "z": "32ccf302392ab325",
        "g": "8dfbdc55ff62d17e",
        "name": "",
        "x": 1270,
        "y": 880,
        "wires": [
            [
                "fdc58e621ebbbe79"
            ],
            [
                "569532f3498a01b6"
            ]
        ]
    },
    {
        "id": "7ce5bb81dd221063",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "ef776e6ae30994ac",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "current_time",
                "pt": "msg",
                "to": "$now()",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3990,
        "y": 2520,
        "wires": [
            [
                "db1f8c0193412c4d"
            ]
        ]
    },
    {
        "id": "4bd63ff9f2411770",
        "type": "change",
        "z": "32ccf302392ab325",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 330,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "a2f3b0281c0886fa",
        "type": "switch",
        "z": "32ccf302392ab325",
        "g": "56bca0108c880039",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "jsonata_exp",
                "v": "$not(flow.instruction.stacked)",
                "vt": "jsonata"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 810,
        "y": 2940,
        "wires": [
            [
                "845f6eae17b50a7d"
            ],
            [
                "0d0607b42a600041"
            ]
        ]
    },
    {
        "id": "2c7085e58c2346e5",
        "type": "inject",
        "z": "32ccf302392ab325",
        "name": "",
        "props": [],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 150,
        "y": 2700,
        "wires": [
            [
                "77a81cf3288f38df"
            ]
        ]
    },
    {
        "id": "e3c178d7b608883b",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "bde86bab3f2c1ca4",
        "name": "set Document Query",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"SELECT id, major_version_number__v, minor_version_number__v FROM documents WHERE id = \" & new_doc_id",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2840,
        "y": 2260,
        "wires": [
            [
                "fad0a5373258034c",
                "1b9e5dc0c9d78ff7"
            ]
        ]
    },
    {
        "id": "fad0a5373258034c",
        "type": "brave-vql-query",
        "z": "32ccf302392ab325",
        "g": "bde86bab3f2c1ca4",
        "name": "",
        "x": 3110,
        "y": 2260,
        "wires": [
            [
                "1b9e5dc0c9d78ff7",
                "4ae38e7a8fc4137a"
            ],
            [
                "95b08c0e9b4188a1",
                "1b9e5dc0c9d78ff7"
            ]
        ]
    },
    {
        "id": "447a4057f42cad0a",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "bde86bab3f2c1ca4",
        "name": "switch to xlink vault",
        "rules": [
            {
                "t": "set",
                "p": "temp.login_details",
                "pt": "msg",
                "to": "$lookup(flow.login, \"xlink\")",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "client_id",
                "pt": "msg",
                "to": "temp.login_details.client_id",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "vault_api",
                "pt": "msg",
                "to": "temp.login_details.vault_api",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "session_id",
                "pt": "msg",
                "to": "temp.login_details.session_id",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "vault_domain",
                "pt": "msg",
                "to": "temp.login_details.vault_domain",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "user_id",
                "pt": "msg",
                "to": "temp.login_details.user_id",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2570,
        "y": 2260,
        "wires": [
            [
                "e3c178d7b608883b"
            ]
        ]
    },
    {
        "id": "95b08c0e9b4188a1",
        "type": "link out",
        "z": "32ccf302392ab325",
        "g": "bde86bab3f2c1ca4",
        "name": "Error Abbort",
        "mode": "link",
        "links": [
            "65a23e1026df92f0"
        ],
        "x": 3235,
        "y": 2280,
        "wires": [],
        "icon": "font-awesome/fa-hand-stop-o"
    },
    {
        "id": "eab86cc5f867e0de",
        "type": "change",
        "z": "32ccf302392ab325",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "new_doc_id",
                "pt": "msg",
                "to": "payload.id",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2520,
        "y": 2360,
        "wires": [
            [
                "447a4057f42cad0a"
            ]
        ]
    },
    {
        "id": "1b9e5dc0c9d78ff7",
        "type": "debug",
        "z": "32ccf302392ab325",
        "name": "debug 468",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3470,
        "y": 2180,
        "wires": []
    },
    {
        "id": "845f6eae17b50a7d",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "56bca0108c880039",
        "name": "pair source and xlink to flow doc_pairs",
        "rules": [
            {
                "t": "set",
                "p": "source_temp",
                "pt": "msg",
                "to": "flow.source.doc_vers@$val.(\t    $mav := $val.major_version_number__v;\t    $miv := $val.minor_version_number__v;(\t        $miv = 0 ? $merge($append($val,{\"level\" : $mav-1})):$merge($append($val,{\"level\" : $mav})))\t)",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "xlink_temp",
                "pt": "msg",
                "to": "flow.xlink.doc_vers@$val.(\t    $mav := $val.bound_source_major_version__v;\t    $miv := $val.bound_source_minor_version__v;(\t        $miv = 0 ? $merge($append($val,{\"level\" : $mav-1})):$merge($append($val,{\"level\" : $mav})))\t)",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "flow.doc_pairs",
                "pt": "msg",
                "to": "/* create a list of document id pairs for source and xlink based on the source_document_id__v field of the xlink */\t$append(\t   $distinct(\t       /*source documents referenced by xlinks*/\t       xlink_temp@$xv.[\t           $$.source_temp[(id=$xv.source_document_id__v) and (level = $xv.level)].\t                    {\"source_id\":id, \t                    \"xlink_id\":$xv.id,\t                    \"level\":$xv.level}\t       ]\t   ),\t       /*source documents referenced by xlinks*/\t       $distinct(source_temp@$xv.(\t           $not($exists(xlink_temp[source_document_id__v = $xv.id ].id))?{\"source_id\":$xv.id, \"level\":$xv.level}:\t           ($exists(xlink_temp[source_document_id__v = $xv.id].id) and $not($xv.level in (xlink_temp[source_document_id__v = $xv.id].level)))?{\"source_id\":$xv.id, \"level\":$xv.level}\t       )\t    )\t   \t)",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "flow.doc_pairs",
                "pt": "msg",
                "to": "/*enrich doc pairs with relevant xlink and source version information*/\tflow.doc_pairs@$dp.\t/*for each doc pair add data*/\t$merge(\t    [\t        $dp,\t        {\t            \"latest_xlink\": $$.xlink_temp[id=$dp.xlink_id and level = $dp.level]^(>sort_version)[0],\t            \"first_source\": $$.source_temp[id=$dp.source_id and level = $dp.level]^(sort_version)[0],\t            \"version_pairs\":\t            /* go through every version of the source doc of the doc pair*/\t                ($$.source_temp@$ps[$ps.id=$dp.source_id and $ps.level = $dp.level].{\t                    \"source_ver\":$ps,\t                    \"xlink_ver\":\t                            (\t                                /* xlsortv: the xlink with identical (sort) version number */\t                                $xlsortv:=$$.flow.xlink.doc_vers[id=$dp.xlink_id\t                                    and\t                                    source_document_id__v = $ps.id \t                                    and \t                                    sort_version = $ps.sort_version][0];\t                                /* xlbound: the xlink with a binding to the source version number */\t                                $xlbound:=$$.flow.xlink.doc_vers[id=$dp.xlink_id\t                                    and\t                                    source_version_id = $ps.version_id]^(>sort_version)[0];\t                                /* xldescr: the xlink which defines the source version in the description field */\t                                $xldescr:=$$.flow.xlink.doc_vers[id=$dp.xlink_id\t                                    and\t                                    description__v = $ps.version_id]^(>sort_version)[0];\t                    /* if created by automation the xlink description field has the version_id it was created for ($xldescr),\t                    if this does not point to an existing source, try match by expected parallel version numbering ($xlsortv),\t                    if neither match, match by source_version_id field ($xlbound).*/\t                                $xldescr?$xldescr:($xlsortv?$xlsortv:$xlbound)/**/\t                            )\t                    }\t                )^(source_ver.sort_version)[]\t        }\t    ]\t)\t\t",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 3060,
        "wires": [
            [
                "23aca15730715d76",
                "9c4edc1d36acfd39",
                "68f29b259a54ab24"
            ]
        ]
    },
    {
        "id": "9c4edc1d36acfd39",
        "type": "change",
        "z": "32ccf302392ab325",
        "g": "56bca0108c880039",
        "name": "pair source and xlink to doc_pairs",
        "rules": [
            {
                "t": "set",
                "p": "loop",
                "pt": "msg",
                "to": "/* assign doc version pairs to different groups. A single pair maybe assigned to more than one group, e.g. new source and new version. This will be handled by the order of processing. */\t{\t    /* new_sources: all source documents without any xlink */\t    \"new_sources\": flow.doc_pairs[xlink_id?false:true][],\t    /* new_versions: all source document versions without a xlink */\t    \"new_versions\": (flow.doc_pairs@$docpair.\t                            {   \"source_id\": $docpair.source_id,\t                                \"xlink_id\": $docpair.xlink_id,\t                                \"latest_xlink\": $docpair.latest_xlink,\t                                \"first_source\": $docpair.first_source,\t                                \"version_pairs\":\t                                    /* only if the version pair does not include an xlink */\t                                    $docpair.version_pairs@$verpair[$verpair.xlink_ver?false:true].{\t                                    \"source_ver\":$verpair.source_ver\t                                    }[]\t                            }\t                        )[version_pairs][],\t    /* approve_xlinks: xlinks which need approval to next major version. */\t    \"approve_xlinks\": (flow.doc_pairs@$docpair.\t                            {   \"source_id\":  $docpair.source_id,\t                                \"xlink_id\": $docpair.xlink_id,\t                                \"latest_xlink\": $docpair.latest_xlink,\t                                \"first_source\": $docpair.first_source,\t                                \"version_pairs\":\t                                    $append(\t                                        /* source version / xlink version pairs, where the bound source version is a major version (i.e. minor vers = 0) and the major version number is the consequential number */\t                                        $docpair.version_pairs@$verpair[\t                                                $verpair.xlink_ver.bound_source_minor_version__v = 0 \t                                            and $verpair.xlink_ver.minor_version_number__v > 0\t                                            and $verpair.xlink_ver.bound_source_major_version__v = $verpair.xlink_ver.major_version_number__v + level + 1\t                                            ].{\t                                                \"source_ver\": $verpair.source_ver,\t                                                \"xlink_ver\":$verpair.xlink_ver\t                                            }[],\t                                        /* xlink versions which are just created as placeholder for approval, i.e. an interim major version of the source had been deleted. This is added to the version description, xlink_approved is an internal flag of the automation run set after approval.*/\t                                        [\t                                            {\t                                                \"xlink_ver\":$$.flow.xlink.doc_vers[id=$docpair.xlink_id]^(>sort_version)[0][description__v=\"placeholder major version\" and $not(xlink_approved)]\t                                            }\t                                        ]\t                                    )\t                            }\t                        )[version_pairs][],\t    /* update_xlinks: xlinks where the source version has been updated since last run. */\t    \"update_xlinks\": (flow.doc_pairs@$docpair.\t                            {   \"source_id\": $docpair.source_id,\t                                \"xlink_id\": $docpair.xlink_id,\t                                \"latest_xlink\": $docpair.latest_xlink,\t                                \"first_source\": $docpair.first_source,\t                                \"version_pairs\":\t                                    /* the version pair includes a xlink but this has not just be created or updated, determined by internal flags of the automation run set after such action.*/\t                                    $docpair.version_pairs@$verpair[\t                                            $verpair.xlink_ver \t                                        and $not($verpair.xlink_ver.xlink_created or $verpair.xlink_ver.xlink_updated)\t                                    ].{\t                                        \"source_ver\":$verpair.source_ver,\t                                        \"xlink_ver\":$verpair.xlink_ver\t                                    }[]\t                            }\t                        )[version_pairs][],\t    /* matching pairs, may include those still needing updates */\t    \"matching_xlinks\": (flow.doc_pairs@$docpair.\t                            {   \"source_id\": $docpair.source_id,\t                                \"xlink_id\": $docpair.xlink_id,\t                                \"latest_xlink\": $docpair.latest_xlink,\t                                \"first_source\": $docpair.first_source,\t                                \"version_pairs\":\t                                    $docpair.version_pairs@$verpair[\t                                            $verpair.xlink_ver.sort_version = $verpair.source_ver.sort_version \t                                        and $verpair.xlink_ver.sort_version = $verpair.xlink_ver.sort_bound_version].{\t                                    \"source_ver\":$verpair.source_ver,\t                                    \"xlink_ver\":$verpair.xlink_ver\t                                    }[]\t                                    })[version_pairs][]\t\t}\t",
                "tot": "jsonata",
                "dc": true
            },
            {
                "t": "set",
                "p": "loop.unmatched_xlinks",
                "pt": "msg",
                "to": "(\t   $ma_xl_vids:=loop.matching_xlinks.version_pairs.xlink_ver.version_id;\t/*   {\t       \"unmatched_xlinks\": */flow.xlink.doc_vers@$dv[\t           $not(\t               $dv.version_id in $ma_xl_vids  /*xlink version is in matching list*/\t               or \t               $dv.sort_version < $$.flow.doc_pairs[xlink_id=$dv.id].first_source.sort_version   /*xlink version is older than the source version in updating scope*/\t           )\t       ].$dv.version_id\t\t/*   }*/\t)\t",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1380,
        "y": 3060,
        "wires": [
            [
                "23aca15730715d76",
                "4c2cd057f4d612dd"
            ]
        ]
    },
    {
        "id": "ea1f0b63744ce41a",
        "type": "comment",
        "z": "32ccf302392ab325",
        "g": "d496576295362680",
        "name": "",
        "info": "",
        "x": 3560,
        "y": 2840,
        "wires": []
    },
    {
        "id": "d79797fa2d8e6d07",
        "type": "comment",
        "z": "32ccf302392ab325",
        "g": "f919a01e47ab17d2",
        "name": "",
        "info": "",
        "x": 3360,
        "y": 3360,
        "wires": []
    },
    {
        "id": "2030346c40447351",
        "type": "change",
        "z": "32ccf302392ab325",
        "name": "manually set flow.login",
        "rules": [
            {
                "t": "set",
                "p": "flow.login.username",
                "pt": "msg",
                "to": "di.wang3@bayersbx.com",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "flow.login.password",
                "pt": "msg",
                "to": "diw@Bayer12138",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "client_id",
                "pt": "msg",
                "to": "create_xlink",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "flow.login.instruction.vault_domain",
                "pt": "msg",
                "to": "bayersbx-bayer-ph-rim-r2-scratchbox-01.veevavault.com",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "flow.login.instruction.subset",
                "pt": "msg",
                "to": "dummy_2",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 500,
        "y": 380,
        "wires": [
            [
                "04be81a30ca8b5f2"
            ]
        ]
    },
    {
        "id": "220906ea7a4bf2b1",
        "type": "inject",
        "z": "32ccf302392ab325",
        "name": "",
        "props": [],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 290,
        "y": 380,
        "wires": [
            [
                "2030346c40447351"
            ]
        ]
    },
    {
        "id": "48b8b66ab99a68bb",
        "type": "comment",
        "z": "32ccf302392ab325",
        "name": "EU CTR",
        "info": "",
        "x": 640,
        "y": 300,
        "wires": []
    },
    {
        "id": "883d9122b8d5191b",
        "type": "comment",
        "z": "32ccf302392ab325",
        "name": "BRAVE -> Gemstone",
        "info": "",
        "x": 440,
        "y": 340,
        "wires": []
    },
    {
        "id": "68f29b259a54ab24",
        "type": "debug",
        "z": "32ccf302392ab325",
        "g": "56bca0108c880039",
        "name": "debug 474",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1310,
        "y": 2820,
        "wires": []
    },
    {
        "id": "52eed4da52bdf386",
        "type": "inject",
        "z": "8ee14c6a72c20a1f",
        "name": "inject-production vault",
        "props": [
            {
                "p": "session_id",
                "v": "CD0319DA862258A93DECB3F2EC7FABEA70B426A50CFE1318CBE47E37CAD70505D9B4BA4E8087B4CA2E0B73B15B9A8FA216AE9FB6DA7E20FE6F0356E789C59FA9",
                "vt": "str"
            },
            {
                "p": "vault_domain",
                "v": "https://bayer-brave.veevavault.com/",
                "vt": "str"
            },
            {
                "p": "event_id",
                "v": "A0Z000000001008",
                "vt": "str"
            },
            {
                "p": "vault_api",
                "v": "msg.vault_domain&\"api/\"",
                "vt": "jsonata"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 140,
        "y": 160,
        "wires": [
            [
                "362d2cef4af2c4af"
            ]
        ]
    },
    {
        "id": "a03f32319646a3ed",
        "type": "brave-vql-query",
        "z": "8ee14c6a72c20a1f",
        "name": "",
        "x": 690,
        "y": 160,
        "wires": [
            [
                "adc9060ffe159777"
            ],
            []
        ]
    },
    {
        "id": "894d4c8d33fcfd96",
        "type": "debug",
        "z": "8ee14c6a72c20a1f",
        "name": "debug 418",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1170,
        "y": 160,
        "wires": []
    },
    {
        "id": "362d2cef4af2c4af",
        "type": "change",
        "z": "8ee14c6a72c20a1f",
        "name": "query event",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"SELECT brave_event_code__cr.name__v, related_change_control_number__rim, event_description__c, (select drug_product__rimr.name__v, product_family__cr.name__v from event_drug_products__rimr) from event__rim where id ='\" & event_id & \"'\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 450,
        "y": 160,
        "wires": [
            [
                "a03f32319646a3ed"
            ]
        ]
    },
    {
        "id": "adc9060ffe159777",
        "type": "change",
        "z": "8ee14c6a72c20a1f",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "event",
                "pt": "msg",
                "to": "payload",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 900,
        "y": 160,
        "wires": [
            [
                "9a3ab07bde3eba93",
                "894d4c8d33fcfd96"
            ]
        ]
    },
    {
        "id": "799436006c7ec324",
        "type": "debug",
        "z": "8ee14c6a72c20a1f",
        "name": "debug 420",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1250,
        "y": 240,
        "wires": []
    },
    {
        "id": "c5f9cb854a814cab",
        "type": "brave-vql-query",
        "z": "8ee14c6a72c20a1f",
        "name": "",
        "x": 690,
        "y": 240,
        "wires": [
            [
                "15feab66d0431d08"
            ],
            []
        ]
    },
    {
        "id": "9a3ab07bde3eba93",
        "type": "change",
        "z": "8ee14c6a72c20a1f",
        "name": "query activity",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"SELECT id, impacted_market__rim, impacted_market__rimr.name__v, related_application__rim from activity__rim where event__rim ='\" & event_id & \"'\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 450,
        "y": 240,
        "wires": [
            [
                "c5f9cb854a814cab"
            ]
        ]
    },
    {
        "id": "15feab66d0431d08",
        "type": "change",
        "z": "8ee14c6a72c20a1f",
        "name": "Store Application and Country",
        "rules": [
            {
                "t": "set",
                "p": "application_array",
                "pt": "msg",
                "to": "$distinct(payload.data.related_application__rim)",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "country_array",
                "pt": "msg",
                "to": "$distinct(payload.data.impacted_market__rim)",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "activity",
                "pt": "msg",
                "to": "payload.data",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 950,
        "y": 240,
        "wires": [
            [
                "799436006c7ec324",
                "caa35d52b64a2d7d"
            ]
        ]
    },
    {
        "id": "caa35d52b64a2d7d",
        "type": "change",
        "z": "8ee14c6a72c20a1f",
        "name": "query Application Contact",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"SELECT contact__cr.email_address__rim from application_contact__c where contact_subtype__c='A0V00000005R013' and \" & (application_array ~> $map(function($v) {\"application__c='\" & $v & \"'\"}) ~> $join(\" OR \"))",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 490,
        "y": 300,
        "wires": [
            [
                "0968825f69e493c6"
            ]
        ]
    },
    {
        "id": "0968825f69e493c6",
        "type": "brave-vql-query",
        "z": "8ee14c6a72c20a1f",
        "name": "",
        "x": 690,
        "y": 300,
        "wires": [
            [
                "a683e5475e404ba4"
            ],
            [
                "10521773b480fab9"
            ]
        ]
    },
    {
        "id": "a683e5475e404ba4",
        "type": "change",
        "z": "8ee14c6a72c20a1f",
        "name": "Store outsouced mails",
        "rules": [
            {
                "t": "set",
                "p": "outsourced_mails",
                "pt": "msg",
                "to": "payload.data@$d.{\t    \"mail\":$d.`contact__cr.email_address__rim`\t}",
                "tot": "jsonata",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 920,
        "y": 300,
        "wires": [
            [
                "10521773b480fab9",
                "7ab7137caa0ca453"
            ]
        ]
    },
    {
        "id": "10521773b480fab9",
        "type": "debug",
        "z": "8ee14c6a72c20a1f",
        "name": "debug 421",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1170,
        "y": 300,
        "wires": []
    },
    {
        "id": "7ab7137caa0ca453",
        "type": "change",
        "z": "8ee14c6a72c20a1f",
        "name": "query country mail",
        "rules": [
            {
                "t": "set",
                "p": "args.settings_name",
                "pt": "msg",
                "to": "cm_notification_country_mail",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "args.attachment_name",
                "pt": "msg",
                "to": "testmailsetting",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 470,
        "y": 360,
        "wires": [
            [
                "ff995a71488d1778"
            ]
        ]
    },
    {
        "id": "327f3ea018d909bd",
        "type": "inject",
        "z": "8ee14c6a72c20a1f",
        "name": "inject-test vault",
        "props": [
            {
                "p": "vault_domain",
                "v": "https://bayersbx-bayer-ph-rim-r2-scratchbox-01.veevavault.com/",
                "vt": "str"
            },
            {
                "p": "event_id",
                "v": "A0Z00000001G002",
                "vt": "str"
            },
            {
                "p": "vault_api",
                "v": "msg.vault_domain&\"api/\"",
                "vt": "jsonata"
            },
            {
                "p": "payload.username",
                "v": "di.wang3@bayersbx.com",
                "vt": "str"
            },
            {
                "p": "payload.password",
                "v": "diw@Bayer12138",
                "vt": "str"
            },
            {
                "p": "api_version",
                "v": "v22.2",
                "vt": "str"
            },
            {
                "p": "url",
                "v": "vault_api&api_version&\"/auth\"",
                "vt": "jsonata"
            },
            {
                "p": "headers",
                "v": "{\"Content-Type\":\"application/x-www-form-urlencoded\",\"Accept\":\"application/json\"}",
                "vt": "json"
            },
            {
                "p": "body",
                "v": "{\"username\":\"di.wang3@bayersbx.com\",\"password\":\"diw@Bayer12138\"}",
                "vt": "json"
            },
            {
                "p": "payload.vault_domain",
                "v": "bayersbx-bayer-ph-rim-r2-scratchbox-01.veevavault.com",
                "vt": "str"
            },
            {
                "p": "client_id",
                "v": "test",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 140,
        "y": 80,
        "wires": [
            [
                "d4f5181c16a16c15"
            ]
        ]
    },
    {
        "id": "d2dc581d9e919ca0",
        "type": "change",
        "z": "8ee14c6a72c20a1f",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "session_id",
                "pt": "msg",
                "to": "payload.sessionId",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 750,
        "y": 80,
        "wires": [
            [
                "d1a5ef23a6b0b031",
                "362d2cef4af2c4af"
            ]
        ]
    },
    {
        "id": "d4f5181c16a16c15",
        "type": "http request",
        "z": "8ee14c6a72c20a1f",
        "name": "",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 330,
        "y": 80,
        "wires": [
            [
                "da118f52df3c6b75"
            ]
        ]
    },
    {
        "id": "d1a5ef23a6b0b031",
        "type": "debug",
        "z": "8ee14c6a72c20a1f",
        "name": "debug 424",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 990,
        "y": 80,
        "wires": []
    },
    {
        "id": "da118f52df3c6b75",
        "type": "json",
        "z": "8ee14c6a72c20a1f",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 550,
        "y": 80,
        "wires": [
            [
                "d2dc581d9e919ca0"
            ]
        ]
    },
    {
        "id": "9eedbdfb30ded82d",
        "type": "debug",
        "z": "8ee14c6a72c20a1f",
        "name": "debug 425",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1170,
        "y": 360,
        "wires": []
    },
    {
        "id": "89477343e5cf030c",
        "type": "change",
        "z": "8ee14c6a72c20a1f",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "country_mails",
                "pt": "msg",
                "to": "$distinct(activity@$a.payload@$p[$a.`impacted_market__rimr.name__v` = $p.country].{\t    \"mail\":$p.email\t})",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 920,
        "y": 360,
        "wires": [
            [
                "8d9f9c7a898d0d4e",
                "9eedbdfb30ded82d"
            ]
        ]
    },
    {
        "id": "8d9f9c7a898d0d4e",
        "type": "change",
        "z": "8ee14c6a72c20a1f",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "mail_list",
                "pt": "msg",
                "to": "$append(outsourced_mails, country_mails)[mail != null]",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 460,
        "y": 420,
        "wires": [
            [
                "2347b674b48c52e7"
            ]
        ]
    },
    {
        "id": "a90be977ac99a493",
        "type": "debug",
        "z": "8ee14c6a72c20a1f",
        "name": "debug 479",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 890,
        "y": 500,
        "wires": []
    },
    {
        "id": "2347b674b48c52e7",
        "type": "change",
        "z": "8ee14c6a72c20a1f",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "content",
                "pt": "msg",
                "to": "<html xmlns:v=\"urn:schemas-microsoft-com:vml\" xmlns:o=\"urn:schemas-microsoft-com:office:office\" xmlns:w=\"urn:schemas-microsoft-com:office:word\" xmlns:dt=\"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882\" xmlns:m=\"http://schemas.microsoft.com/office/2004/12/omml\" xmlns=\"http://www.w3.org/TR/REC-html40\">  <head> <meta http-equiv=Content-Type content=\"text/html; charset=windows-1252\"> <meta name=ProgId content=Word.Document> <meta name=Generator content=\"Microsoft Word 15\"> <meta name=Originator content=\"Microsoft Word 15\"> <link rel=File-List href=\"CM%20notification%20template_files/filelist.xml\"> <!--[if gte mso 9]><xml>  <o:OfficeDocumentSettings>   <o:AllowPNG/>  </o:OfficeDocumentSettings> </xml><![endif]--> <link rel=themeData href=\"CM%20notification%20template_files/themedata.thmx\"> <link rel=colorSchemeMapping href=\"CM%20notification%20template_files/colorschememapping.xml\"> <!--[if gte mso 9]><xml>  <w:WordDocument>   <w:View>Print</w:View>   <w:Zoom>170</w:Zoom>   <w:GrammarState>Clean</w:GrammarState>   <w:DocumentKind>DocumentEmail</w:DocumentKind>   <w:TrackMoves>false</w:TrackMoves>   <w:TrackFormatting/>   <w:HyphenationZone>21</w:HyphenationZone>   <w:PunctuationKerning/>   <w:ValidateAgainstSchemas/>   <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>   <w:IgnoreMixedContent>false</w:IgnoreMixedContent>   <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>   <w:DoNotPromoteQF/>   <w:LidThemeOther>EN-US</w:LidThemeOther>   <w:LidThemeAsian>ZH-CN</w:LidThemeAsian>   <w:LidThemeComplexScript>X-NONE</w:LidThemeComplexScript>   <w:Compatibility>    <w:DoNotExpandShiftReturn/>    <w:BreakWrappedTables/>    <w:SnapToGridInCell/>    <w:WrapTextWithPunct/>    <w:UseAsianBreakRules/>    <w:DontGrowAutofit/>    <w:SplitPgBreakAndParaMark/>    <w:EnableOpenTypeKerning/>    <w:DontFlipMirrorIndents/>    <w:OverrideTableStyleHps/>    <w:UseFELayout/>   </w:Compatibility>   <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>   <m:mathPr>    <m:mathFont m:val=\"Cambria Math\"/>    <m:brkBin m:val=\"before\"/>    <m:brkBinSub m:val=\"&#45;-\"/>    <m:smallFrac m:val=\"off\"/>    <m:dispDef/>    <m:lMargin m:val=\"0\"/>    <m:rMargin m:val=\"0\"/>    <m:defJc m:val=\"centerGroup\"/>    <m:wrapIndent m:val=\"1440\"/>    <m:intLim m:val=\"subSup\"/>    <m:naryLim m:val=\"undOvr\"/>   </m:mathPr></w:WordDocument> </xml><![endif]--><!--[if gte mso 9]><xml>  <w:LatentStyles DefLockedState=\"false\" DefUnhideWhenUsed=\"false\"   DefSemiHidden=\"false\" DefQFormat=\"false\" DefPriority=\"99\"   LatentStyleCount=\"376\">   <w:LsdException Locked=\"false\" Priority=\"0\" QFormat=\"true\" Name=\"Normal\"/>   <w:LsdException Locked=\"false\" Priority=\"9\" QFormat=\"true\" Name=\"heading 1\"/>   <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"    UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 2\"/>   <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"    UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 3\"/>   <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"    UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 4\"/>   <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"    UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 5\"/>   <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"    UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 6\"/>   <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"    UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 7\"/>   <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"    UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 8\"/>   <w:LsdException Locked=\"false\" Priority=\"9\" SemiHidden=\"true\"    UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"heading 9\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"index 1\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"index 2\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"index 3\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"index 4\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"index 5\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"index 6\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"index 7\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"index 8\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"index 9\"/>   <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"    UnhideWhenUsed=\"true\" Name=\"toc 1\"/>   <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"    UnhideWhenUsed=\"true\" Name=\"toc 2\"/>   <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"    UnhideWhenUsed=\"true\" Name=\"toc 3\"/>   <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"    UnhideWhenUsed=\"true\" Name=\"toc 4\"/>   <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"    UnhideWhenUsed=\"true\" Name=\"toc 5\"/>   <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"    UnhideWhenUsed=\"true\" Name=\"toc 6\"/>   <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"    UnhideWhenUsed=\"true\" Name=\"toc 7\"/>   <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"    UnhideWhenUsed=\"true\" Name=\"toc 8\"/>   <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"    UnhideWhenUsed=\"true\" Name=\"toc 9\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Normal Indent\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"footnote text\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"annotation text\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"header\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"footer\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"index heading\"/>   <w:LsdException Locked=\"false\" Priority=\"35\" SemiHidden=\"true\"    UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"caption\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"table of figures\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"envelope address\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"envelope return\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"footnote reference\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"annotation reference\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"line number\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"page number\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"endnote reference\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"endnote text\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"table of authorities\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"macro\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"toa heading\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"List\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"List Bullet\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"List Number\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"List 2\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"List 3\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"List 4\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"List 5\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"List Bullet 2\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"List Bullet 3\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"List Bullet 4\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"List Bullet 5\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"List Number 2\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"List Number 3\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"List Number 4\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"List Number 5\"/>   <w:LsdException Locked=\"false\" Priority=\"10\" QFormat=\"true\" Name=\"Title\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Closing\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Signature\"/>   <w:LsdException Locked=\"false\" Priority=\"1\" SemiHidden=\"true\"    UnhideWhenUsed=\"true\" Name=\"Default Paragraph Font\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Body Text\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Body Text Indent\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"List Continue\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"List Continue 2\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"List Continue 3\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"List Continue 4\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"List Continue 5\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Message Header\"/>   <w:LsdException Locked=\"false\" Priority=\"11\" QFormat=\"true\" Name=\"Subtitle\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Salutation\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Date\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Body Text First Indent\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Body Text First Indent 2\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Note Heading\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Body Text 2\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Body Text 3\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Body Text Indent 2\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Body Text Indent 3\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Block Text\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Hyperlink\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"FollowedHyperlink\"/>   <w:LsdException Locked=\"false\" Priority=\"22\" QFormat=\"true\" Name=\"Strong\"/>   <w:LsdException Locked=\"false\" Priority=\"20\" QFormat=\"true\" Name=\"Emphasis\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Document Map\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Plain Text\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"E-mail Signature\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"HTML Top of Form\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"HTML Bottom of Form\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Normal (Web)\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"HTML Acronym\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"HTML Address\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"HTML Cite\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"HTML Code\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"HTML Definition\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"HTML Keyboard\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"HTML Preformatted\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"HTML Sample\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"HTML Typewriter\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"HTML Variable\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Normal Table\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"annotation subject\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"No List\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Outline List 1\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Outline List 2\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Outline List 3\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Simple 1\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Simple 2\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Simple 3\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Classic 1\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Classic 2\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Classic 3\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Classic 4\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Colorful 1\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Colorful 2\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Colorful 3\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Columns 1\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Columns 2\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Columns 3\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Columns 4\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Columns 5\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Grid 1\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Grid 2\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Grid 3\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Grid 4\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Grid 5\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Grid 6\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Grid 7\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Grid 8\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table List 1\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table List 2\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table List 3\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table List 4\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table List 5\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table List 6\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table List 7\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table List 8\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table 3D effects 1\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table 3D effects 2\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table 3D effects 3\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Contemporary\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Elegant\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Professional\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Subtle 1\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Subtle 2\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Web 1\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Web 2\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Web 3\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Balloon Text\"/>   <w:LsdException Locked=\"false\" Priority=\"39\" Name=\"Table Grid\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Table Theme\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" Name=\"Placeholder Text\"/>   <w:LsdException Locked=\"false\" Priority=\"1\" QFormat=\"true\" Name=\"No Spacing\"/>   <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading\"/>   <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List\"/>   <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid\"/>   <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1\"/>   <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2\"/>   <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1\"/>   <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2\"/>   <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1\"/>   <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2\"/>   <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3\"/>   <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List\"/>   <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading\"/>   <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List\"/>   <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid\"/>   <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1 Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2 Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1 Accent 1\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" Name=\"Revision\"/>   <w:LsdException Locked=\"false\" Priority=\"34\" QFormat=\"true\"    Name=\"List Paragraph\"/>   <w:LsdException Locked=\"false\" Priority=\"29\" QFormat=\"true\" Name=\"Quote\"/>   <w:LsdException Locked=\"false\" Priority=\"30\" QFormat=\"true\"    Name=\"Intense Quote\"/>   <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2 Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1 Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2 Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3 Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1 Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2 Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1 Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2 Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1 Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2 Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3 Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1 Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2 Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1 Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2 Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1 Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2 Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3 Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1 Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2 Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1 Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2 Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1 Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2 Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3 Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1 Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2 Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1 Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2 Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1 Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2 Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3 Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"60\" Name=\"Light Shading Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"61\" Name=\"Light List Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"62\" Name=\"Light Grid Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"63\" Name=\"Medium Shading 1 Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"64\" Name=\"Medium Shading 2 Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"65\" Name=\"Medium List 1 Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"66\" Name=\"Medium List 2 Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"67\" Name=\"Medium Grid 1 Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"68\" Name=\"Medium Grid 2 Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"69\" Name=\"Medium Grid 3 Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"70\" Name=\"Dark List Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"71\" Name=\"Colorful Shading Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"72\" Name=\"Colorful List Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"73\" Name=\"Colorful Grid Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"19\" QFormat=\"true\"    Name=\"Subtle Emphasis\"/>   <w:LsdException Locked=\"false\" Priority=\"21\" QFormat=\"true\"    Name=\"Intense Emphasis\"/>   <w:LsdException Locked=\"false\" Priority=\"31\" QFormat=\"true\"    Name=\"Subtle Reference\"/>   <w:LsdException Locked=\"false\" Priority=\"32\" QFormat=\"true\"    Name=\"Intense Reference\"/>   <w:LsdException Locked=\"false\" Priority=\"33\" QFormat=\"true\" Name=\"Book Title\"/>   <w:LsdException Locked=\"false\" Priority=\"37\" SemiHidden=\"true\"    UnhideWhenUsed=\"true\" Name=\"Bibliography\"/>   <w:LsdException Locked=\"false\" Priority=\"39\" SemiHidden=\"true\"    UnhideWhenUsed=\"true\" QFormat=\"true\" Name=\"TOC Heading\"/>   <w:LsdException Locked=\"false\" Priority=\"41\" Name=\"Plain Table 1\"/>   <w:LsdException Locked=\"false\" Priority=\"42\" Name=\"Plain Table 2\"/>   <w:LsdException Locked=\"false\" Priority=\"43\" Name=\"Plain Table 3\"/>   <w:LsdException Locked=\"false\" Priority=\"44\" Name=\"Plain Table 4\"/>   <w:LsdException Locked=\"false\" Priority=\"45\" Name=\"Plain Table 5\"/>   <w:LsdException Locked=\"false\" Priority=\"40\" Name=\"Grid Table Light\"/>   <w:LsdException Locked=\"false\" Priority=\"46\" Name=\"Grid Table 1 Light\"/>   <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2\"/>   <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3\"/>   <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4\"/>   <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark\"/>   <w:LsdException Locked=\"false\" Priority=\"51\" Name=\"Grid Table 6 Colorful\"/>   <w:LsdException Locked=\"false\" Priority=\"52\" Name=\"Grid Table 7 Colorful\"/>   <w:LsdException Locked=\"false\" Priority=\"46\"    Name=\"Grid Table 1 Light Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2 Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3 Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4 Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"51\"    Name=\"Grid Table 6 Colorful Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"52\"    Name=\"Grid Table 7 Colorful Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"46\"    Name=\"Grid Table 1 Light Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2 Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3 Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4 Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"51\"    Name=\"Grid Table 6 Colorful Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"52\"    Name=\"Grid Table 7 Colorful Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"46\"    Name=\"Grid Table 1 Light Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2 Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3 Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4 Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"51\"    Name=\"Grid Table 6 Colorful Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"52\"    Name=\"Grid Table 7 Colorful Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"46\"    Name=\"Grid Table 1 Light Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2 Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3 Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4 Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"51\"    Name=\"Grid Table 6 Colorful Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"52\"    Name=\"Grid Table 7 Colorful Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"46\"    Name=\"Grid Table 1 Light Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2 Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3 Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4 Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"51\"    Name=\"Grid Table 6 Colorful Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"52\"    Name=\"Grid Table 7 Colorful Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"46\"    Name=\"Grid Table 1 Light Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"Grid Table 2 Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"Grid Table 3 Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"Grid Table 4 Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"Grid Table 5 Dark Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"51\"    Name=\"Grid Table 6 Colorful Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"52\"    Name=\"Grid Table 7 Colorful Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"46\" Name=\"List Table 1 Light\"/>   <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2\"/>   <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3\"/>   <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4\"/>   <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark\"/>   <w:LsdException Locked=\"false\" Priority=\"51\" Name=\"List Table 6 Colorful\"/>   <w:LsdException Locked=\"false\" Priority=\"52\" Name=\"List Table 7 Colorful\"/>   <w:LsdException Locked=\"false\" Priority=\"46\"    Name=\"List Table 1 Light Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2 Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3 Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4 Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"51\"    Name=\"List Table 6 Colorful Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"52\"    Name=\"List Table 7 Colorful Accent 1\"/>   <w:LsdException Locked=\"false\" Priority=\"46\"    Name=\"List Table 1 Light Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2 Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3 Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4 Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"51\"    Name=\"List Table 6 Colorful Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"52\"    Name=\"List Table 7 Colorful Accent 2\"/>   <w:LsdException Locked=\"false\" Priority=\"46\"    Name=\"List Table 1 Light Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2 Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3 Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4 Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"51\"    Name=\"List Table 6 Colorful Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"52\"    Name=\"List Table 7 Colorful Accent 3\"/>   <w:LsdException Locked=\"false\" Priority=\"46\"    Name=\"List Table 1 Light Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2 Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3 Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4 Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"51\"    Name=\"List Table 6 Colorful Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"52\"    Name=\"List Table 7 Colorful Accent 4\"/>   <w:LsdException Locked=\"false\" Priority=\"46\"    Name=\"List Table 1 Light Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2 Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3 Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4 Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"51\"    Name=\"List Table 6 Colorful Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"52\"    Name=\"List Table 7 Colorful Accent 5\"/>   <w:LsdException Locked=\"false\" Priority=\"46\"    Name=\"List Table 1 Light Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"47\" Name=\"List Table 2 Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"48\" Name=\"List Table 3 Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"49\" Name=\"List Table 4 Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"50\" Name=\"List Table 5 Dark Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"51\"    Name=\"List Table 6 Colorful Accent 6\"/>   <w:LsdException Locked=\"false\" Priority=\"52\"    Name=\"List Table 7 Colorful Accent 6\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Mention\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Smart Hyperlink\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Hashtag\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Unresolved Mention\"/>   <w:LsdException Locked=\"false\" SemiHidden=\"true\" UnhideWhenUsed=\"true\"    Name=\"Smart Link\"/>  </w:LatentStyles> </xml><![endif]--> <style> <!--  /* Font Definitions */  @font-face \t{font-family:Wingdings; \tpanose-1:5 0 0 0 0 0 0 0 0 0; \tmso-font-charset:2; \tmso-generic-font-family:auto; \tmso-font-pitch:variable; \tmso-font-signature:0 268435456 0 0 -2147483648 0;} @font-face \t{font-family:\"Cambria Math\"; \tpanose-1:2 4 5 3 5 4 6 3 2 4; \tmso-font-charset:0; \tmso-generic-font-family:roman; \tmso-font-pitch:variable; \tmso-font-signature:3 0 0 0 1 0;} @font-face \t{font-family:DengXian; \tpanose-1:2 1 6 0 3 1 1 1 1 1; \tmso-font-alt:\\7B49\\7EBF; \tmso-font-charset:134; \tmso-generic-font-family:auto; \tmso-font-pitch:variable; \tmso-font-signature:-1610612033 953122042 22 0 262159 0;} @font-face \t{font-family:Calibri; \tpanose-1:2 15 5 2 2 2 4 3 2 4; \tmso-font-charset:0; \tmso-generic-font-family:swiss; \tmso-font-pitch:variable; \tmso-font-signature:-469750017 -1073732485 9 0 511 0;} @font-face \t{font-family:\"\\@DengXian\"; \tpanose-1:2 1 6 0 3 1 1 1 1 1; \tmso-font-charset:134; \tmso-generic-font-family:auto; \tmso-font-pitch:variable; \tmso-font-signature:-1610612033 953122042 22 0 262159 0;} @font-face \t{font-family:Consolas; \tpanose-1:2 11 6 9 2 2 4 3 2 4; \tmso-font-charset:0; \tmso-generic-font-family:modern; \tmso-font-pitch:fixed; \tmso-font-signature:-536869121 64767 1 0 415 0;}  /* Style Definitions */  p.MsoNormal, li.MsoNormal, div.MsoNormal \t{mso-style-unhide:no; \tmso-style-qformat:yes; \tmso-style-parent:\"\"; \tmargin:0in; \tmso-pagination:widow-orphan; \tfont-size:11.0pt; \tfont-family:\"Calibri\",sans-serif; \tmso-ascii-font-family:Calibri; \tmso-ascii-theme-font:minor-latin; \tmso-fareast-font-family:\"Times New Roman\"; \tmso-fareast-theme-font:minor-fareast; \tmso-hansi-font-family:Calibri; \tmso-hansi-theme-font:minor-latin; \tmso-bidi-font-family:\"Times New Roman\"; \tmso-bidi-theme-font:minor-bidi;} a:link, span.MsoHyperlink \t{mso-style-noshow:yes; \tmso-style-priority:99; \tcolor:#0563C1; \tmso-themecolor:hyperlink; \ttext-decoration:underline; \ttext-underline:single;} a:visited, span.MsoHyperlinkFollowed \t{mso-style-noshow:yes; \tmso-style-priority:99; \tcolor:#954F72; \tmso-themecolor:followedhyperlink; \ttext-decoration:underline; \ttext-underline:single;} p.MsoPlainText, li.MsoPlainText, div.MsoPlainText \t{mso-style-noshow:yes; \tmso-style-priority:99; \tmso-style-link:\"Plain Text Char\"; \tmargin:0in; \tmso-pagination:widow-orphan; \tfont-size:11.0pt; \tfont-family:\"Calibri\",sans-serif; \tmso-ascii-font-family:Calibri; \tmso-ascii-theme-font:minor-latin; \tmso-fareast-font-family:\"Times New Roman\"; \tmso-fareast-theme-font:minor-fareast; \tmso-hansi-font-family:Calibri; \tmso-hansi-theme-font:minor-latin; \tmso-bidi-font-family:\"Times New Roman\"; \tmso-bidi-theme-font:minor-bidi;} p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph \t{mso-style-priority:34; \tmso-style-unhide:no; \tmso-style-qformat:yes; \tmargin-top:0in; \tmargin-right:0in; \tmargin-bottom:0in; \tmargin-left:.5in; \tmso-pagination:widow-orphan; \tfont-size:11.0pt; \tfont-family:\"Calibri\",sans-serif; \tmso-fareast-font-family:Calibri; \tmso-fareast-theme-font:minor-latin;} p.msonormal0, li.msonormal0, div.msonormal0 \t{mso-style-name:msonormal; \tmso-style-unhide:no; \tmso-margin-top-alt:auto; \tmargin-right:0in; \tmso-margin-bottom-alt:auto; \tmargin-left:0in; \tmso-pagination:widow-orphan; \tfont-size:11.0pt; \tfont-family:\"Calibri\",sans-serif; \tmso-fareast-font-family:\"Times New Roman\"; \tmso-fareast-theme-font:minor-fareast;} span.PlainTextChar \t{mso-style-name:\"Plain Text Char\"; \tmso-style-noshow:yes; \tmso-style-priority:99; \tmso-style-unhide:no; \tmso-style-locked:yes; \tmso-style-link:\"Plain Text\"; \tfont-family:\"Calibri\",sans-serif; \tmso-ascii-font-family:Calibri; \tmso-hansi-font-family:Calibri; \tmso-bidi-font-family:Calibri;} span.NurTextZchn \t{mso-style-name:\"Nur Text Zchn\"; \tmso-style-noshow:yes; \tmso-style-priority:99; \tmso-style-unhide:no; \tmso-style-locked:yes; \tmso-style-link:\"Nur Text\"; \tmso-ansi-font-size:10.5pt; \tmso-bidi-font-size:10.5pt; \tfont-family:Consolas; \tmso-ascii-font-family:Consolas; \tmso-hansi-font-family:Consolas;} p.NurText, li.NurText, div.NurText \t{mso-style-name:\"Nur Text\"; \tmso-style-unhide:no; \tmso-style-link:\"Nur Text Zchn\"; \tmargin:0in; \tmso-pagination:widow-orphan; \tfont-size:11.0pt; \tfont-family:\"Calibri\",sans-serif; \tmso-ascii-font-family:Calibri; \tmso-ascii-theme-font:minor-latin; \tmso-fareast-font-family:\"Times New Roman\"; \tmso-fareast-theme-font:minor-fareast; \tmso-hansi-font-family:Calibri; \tmso-hansi-theme-font:minor-latin; \tmso-bidi-font-family:\"Times New Roman\"; \tmso-bidi-theme-font:minor-bidi;} span.emailstyle23 \t{mso-style-name:emailstyle23; \tmso-style-noshow:yes; \tmso-style-unhide:no; \tmso-ansi-font-size:11.0pt; \tmso-bidi-font-size:11.0pt; \tfont-family:\"Calibri\",sans-serif; \tmso-ascii-font-family:Calibri; \tmso-ascii-theme-font:minor-latin; \tmso-fareast-font-family:\"Times New Roman\"; \tmso-fareast-theme-font:minor-fareast; \tmso-hansi-font-family:Calibri; \tmso-hansi-theme-font:minor-latin; \tmso-bidi-font-family:\"Times New Roman\"; \tmso-bidi-theme-font:minor-bidi; \tcolor:windowtext;} span.emailstyle24 \t{mso-style-name:emailstyle24; \tmso-style-noshow:yes; \tmso-style-unhide:no; \tmso-ansi-font-size:11.0pt; \tmso-bidi-font-size:11.0pt; \tfont-family:\"Calibri\",sans-serif; \tmso-ascii-font-family:Calibri; \tmso-ascii-theme-font:minor-latin; \tmso-fareast-font-family:\"Times New Roman\"; \tmso-fareast-theme-font:minor-fareast; \tmso-hansi-font-family:Calibri; \tmso-hansi-theme-font:minor-latin; \tmso-bidi-font-family:\"Times New Roman\"; \tmso-bidi-theme-font:minor-bidi; \tcolor:windowtext;} span.emailstyle25 \t{mso-style-name:emailstyle25; \tmso-style-noshow:yes; \tmso-style-unhide:no; \tmso-ansi-font-size:11.0pt; \tmso-bidi-font-size:11.0pt; \tfont-family:\"Calibri\",sans-serif; \tmso-ascii-font-family:Calibri; \tmso-ascii-theme-font:minor-latin; \tmso-fareast-font-family:Calibri; \tmso-fareast-theme-font:minor-latin; \tmso-hansi-font-family:Calibri; \tmso-hansi-theme-font:minor-latin; \tmso-bidi-font-family:\"Times New Roman\"; \tmso-bidi-theme-font:minor-bidi; \tcolor:windowtext;} span.ui-provider \t{mso-style-name:ui-provider; \tmso-style-unhide:no;} span.GramE \t{mso-style-name:\"\"; \tmso-gram-e:yes;} .MsoChpDefault \t{mso-style-type:export-only; \tmso-default-props:yes; \tfont-size:10.0pt; \tmso-ansi-font-size:10.0pt; \tmso-bidi-font-size:10.0pt; \tfont-family:\"Calibri\",sans-serif; \tmso-ascii-font-family:Calibri; \tmso-ascii-theme-font:minor-latin; \tmso-fareast-font-family:\"Times New Roman\"; \tmso-fareast-theme-font:minor-fareast; \tmso-hansi-font-family:Calibri; \tmso-hansi-theme-font:minor-latin; \tmso-bidi-font-family:\"Times New Roman\"; \tmso-bidi-theme-font:minor-bidi;} @page WordSection1 \t{size:8.5in 11.0in; \tmargin:1.0in 1.25in 1.0in 1.25in; \tmso-header-margin:.5in; \tmso-footer-margin:.5in; \tmso-paper-source:0;} div.WordSection1 \t{page:WordSection1;}  /* List Definitions */  @list l0 \t{mso-list-id:285697380; \tmso-list-template-ids:-593693194;} @list l0:level1 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0B7; \tmso-level-tab-stop:.5in; \tmso-level-number-position:left; \ttext-indent:-.25in; \tmso-ansi-font-size:10.0pt; \tfont-family:Symbol;} @list l0:level2 \t{mso-level-number-format:bullet; \tmso-level-text:o; \tmso-level-tab-stop:1.0in; \tmso-level-number-position:left; \ttext-indent:-.25in; \tmso-ansi-font-size:10.0pt; \tfont-family:\"Courier New\"; \tmso-bidi-font-family:\"Times New Roman\";} @list l0:level3 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0A7; \tmso-level-tab-stop:1.5in; \tmso-level-number-position:left; \ttext-indent:-.25in; \tmso-ansi-font-size:10.0pt; \tfont-family:Wingdings;} @list l0:level4 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0A7; \tmso-level-tab-stop:2.0in; \tmso-level-number-position:left; \ttext-indent:-.25in; \tmso-ansi-font-size:10.0pt; \tfont-family:Wingdings;} @list l0:level5 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0A7; \tmso-level-tab-stop:2.5in; \tmso-level-number-position:left; \ttext-indent:-.25in; \tmso-ansi-font-size:10.0pt; \tfont-family:Wingdings;} @list l0:level6 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0A7; \tmso-level-tab-stop:3.0in; \tmso-level-number-position:left; \ttext-indent:-.25in; \tmso-ansi-font-size:10.0pt; \tfont-family:Wingdings;} @list l0:level7 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0A7; \tmso-level-tab-stop:3.5in; \tmso-level-number-position:left; \ttext-indent:-.25in; \tmso-ansi-font-size:10.0pt; \tfont-family:Wingdings;} @list l0:level8 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0A7; \tmso-level-tab-stop:4.0in; \tmso-level-number-position:left; \ttext-indent:-.25in; \tmso-ansi-font-size:10.0pt; \tfont-family:Wingdings;} @list l0:level9 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0A7; \tmso-level-tab-stop:4.5in; \tmso-level-number-position:left; \ttext-indent:-.25in; \tmso-ansi-font-size:10.0pt; \tfont-family:Wingdings;} @list l1 \t{mso-list-id:1092773902; \tmso-list-template-ids:2062205230;} @list l1:level1 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0B7; \tmso-level-tab-stop:.5in; \tmso-level-number-position:left; \ttext-indent:-.25in; \tmso-ansi-font-size:10.0pt; \tfont-family:Symbol;} @list l1:level2 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0B7; \tmso-level-tab-stop:1.0in; \tmso-level-number-position:left; \ttext-indent:-.25in; \tmso-ansi-font-size:10.0pt; \tfont-family:Symbol;} @list l1:level3 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0B7; \tmso-level-tab-stop:1.5in; \tmso-level-number-position:left; \ttext-indent:-.25in; \tmso-ansi-font-size:10.0pt; \tfont-family:Symbol;} @list l1:level4 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0B7; \tmso-level-tab-stop:2.0in; \tmso-level-number-position:left; \ttext-indent:-.25in; \tmso-ansi-font-size:10.0pt; \tfont-family:Symbol;} @list l1:level5 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0B7; \tmso-level-tab-stop:2.5in; \tmso-level-number-position:left; \ttext-indent:-.25in; \tmso-ansi-font-size:10.0pt; \tfont-family:Symbol;} @list l1:level6 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0B7; \tmso-level-tab-stop:3.0in; \tmso-level-number-position:left; \ttext-indent:-.25in; \tmso-ansi-font-size:10.0pt; \tfont-family:Symbol;} @list l1:level7 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0B7; \tmso-level-tab-stop:3.5in; \tmso-level-number-position:left; \ttext-indent:-.25in; \tmso-ansi-font-size:10.0pt; \tfont-family:Symbol;} @list l1:level8 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0B7; \tmso-level-tab-stop:4.0in; \tmso-level-number-position:left; \ttext-indent:-.25in; \tmso-ansi-font-size:10.0pt; \tfont-family:Symbol;} @list l1:level9 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0B7; \tmso-level-tab-stop:4.5in; \tmso-level-number-position:left; \ttext-indent:-.25in; \tmso-ansi-font-size:10.0pt; \tfont-family:Symbol;} @list l2 \t{mso-list-id:1918980828; \tmso-list-type:hybrid; \tmso-list-template-ids:546440888 1171011986 67567619 67567621 67567617 67567619 67567621 67567617 67567619 67567621;} @list l2:level1 \t{mso-level-start-at:0; \tmso-level-number-format:bullet; \tmso-level-text:-; \tmso-level-tab-stop:none; \tmso-level-number-position:left; \ttext-indent:-.25in; \tfont-family:\"Calibri\",sans-serif; \tmso-fareast-font-family:DengXian;} @list l2:level2 \t{mso-level-number-format:bullet; \tmso-level-text:o; \tmso-level-tab-stop:none; \tmso-level-number-position:left; \ttext-indent:-.25in; \tfont-family:\"Courier New\";} @list l2:level3 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0A7; \tmso-level-tab-stop:none; \tmso-level-number-position:left; \ttext-indent:-.25in; \tfont-family:Wingdings;} @list l2:level4 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0B7; \tmso-level-tab-stop:none; \tmso-level-number-position:left; \ttext-indent:-.25in; \tfont-family:Symbol;} @list l2:level5 \t{mso-level-number-format:bullet; \tmso-level-text:o; \tmso-level-tab-stop:none; \tmso-level-number-position:left; \ttext-indent:-.25in; \tfont-family:\"Courier New\";} @list l2:level6 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0A7; \tmso-level-tab-stop:none; \tmso-level-number-position:left; \ttext-indent:-.25in; \tfont-family:Wingdings;} @list l2:level7 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0B7; \tmso-level-tab-stop:none; \tmso-level-number-position:left; \ttext-indent:-.25in; \tfont-family:Symbol;} @list l2:level8 \t{mso-level-number-format:bullet; \tmso-level-text:o; \tmso-level-tab-stop:none; \tmso-level-number-position:left; \ttext-indent:-.25in; \tfont-family:\"Courier New\";} @list l2:level9 \t{mso-level-number-format:bullet; \tmso-level-text:\\F0A7; \tmso-level-tab-stop:none; \tmso-level-number-position:left; \ttext-indent:-.25in; \tfont-family:Wingdings;} ol \t{margin-bottom:0in;} ul \t{margin-bottom:0in;} --> </style> <!--[if gte mso 10]> <style>  /* Style Definitions */  table.MsoNormalTable \t{mso-style-name:\"Table Normal\"; \tmso-tstyle-rowband-size:0; \tmso-tstyle-colband-size:0; \tmso-style-noshow:yes; \tmso-style-priority:99; \tmso-style-parent:\"\"; \tmso-padding-alt:0in 5.4pt 0in 5.4pt; \tmso-para-margin:0in; \tmso-pagination:widow-orphan; \tfont-size:10.0pt; \tfont-family:\"Calibri\",sans-serif; \tmso-ascii-font-family:Calibri; \tmso-ascii-theme-font:minor-latin; \tmso-hansi-font-family:Calibri; \tmso-hansi-theme-font:minor-latin; \tmso-bidi-font-family:\"Times New Roman\"; \tmso-bidi-theme-font:minor-bidi;} table.NormaleTabelle \t{mso-style-name:\"Normale Tabelle\"; \tmso-tstyle-rowband-size:0; \tmso-tstyle-colband-size:0; \tmso-style-noshow:yes; \tmso-style-priority:99; \tmso-style-unhide:no; \tmso-style-parent:\"\"; \tmso-padding-alt:0in 5.4pt 0in 5.4pt; \tmso-para-margin:0in; \tmso-pagination:widow-orphan; \tfont-size:10.0pt; \tfont-family:\"Calibri\",sans-serif; \tmso-ascii-font-family:Calibri; \tmso-ascii-theme-font:minor-latin; \tmso-hansi-font-family:Calibri; \tmso-hansi-theme-font:minor-latin; \tmso-bidi-font-family:\"Times New Roman\"; \tmso-bidi-theme-font:minor-bidi;} table.Tabellenraster \t{mso-style-name:Tabellenraster; \tmso-tstyle-rowband-size:0; \tmso-tstyle-colband-size:0; \tmso-style-priority:39; \tmso-style-unhide:no; \tborder:solid windowtext 1.0pt; \tmso-border-alt:solid windowtext .5pt; \tmso-padding-alt:0in 5.4pt 0in 5.4pt; \tmso-border-insideh:.5pt solid windowtext; \tmso-border-insidev:.5pt solid windowtext; \tmso-para-margin:0in; \tmso-pagination:widow-orphan; \tfont-size:10.0pt; \tfont-family:\"Calibri\",sans-serif; \tmso-ascii-font-family:Calibri; \tmso-ascii-theme-font:minor-latin; \tmso-hansi-font-family:Calibri; \tmso-hansi-theme-font:minor-latin; \tmso-bidi-font-family:\"Times New Roman\"; \tmso-bidi-theme-font:minor-bidi;} </style> <![endif]--><!--[if gte mso 9]><xml>  <o:shapedefaults v:ext=\"edit\" spidmax=\"1026\"/> </xml><![endif]--><!--[if gte mso 9]><xml>  <o:shapelayout v:ext=\"edit\">   <o:idmap v:ext=\"edit\" data=\"1\"/>  </o:shapelayout></xml><![endif]--> </head>  <body lang=EN-US link=\"#0563C1\" vlink=\"#954F72\" style='tab-interval:.5in; word-wrap:break-word'>  <div class=WordSection1>  <p class=MsoPlainText><b><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family: Calibri;mso-bidi-font-family:Calibri;color:red'>Country recipients: mail_list<o:p></o:p></span></b></p>  <p class=MsoPlainText><b><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family: Calibri;mso-bidi-font-family:Calibri;color:red'><o:p>&nbsp;</o:p></span></b></p>  <p class=MsoPlainText><b><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family: Calibri;mso-bidi-font-family:Calibri;color:red'>RA CM</span></b><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri;mso-bidi-font-family: Calibri;color:red'> please always copy in Japan in case affected by CA even if no records will be <span class=GramE>created</span> <o:p></o:p></span></p>  <p class=MsoPlainText><b><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family: Calibri;mso-bidi-font-family:Calibri;color:red'>RA CM</span></b><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri;mso-bidi-font-family: Calibri;color:red'> â€“ please include further relevant change specific info <span class=GramE>e.g.</span> only 1 country RA action, all others no action <o:p></o:p></span></p>  <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family: Calibri;mso-bidi-font-family:Calibri'><o:p>&nbsp;</o:p></span></p>  <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family: Calibri;mso-bidi-font-family:Calibri'>Dear colleagues,<o:p></o:p></span></p>  <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family: Calibri;mso-bidi-font-family:Calibri'><o:p>&nbsp;</o:p></span></p>  <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family: Calibri;mso-bidi-font-family:Calibri;mso-fareast-language:KO'>We would like to inform you that Global RA has assessed the following change application relevant for your country. </span><span style='mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri;mso-bidi-font-family:Calibri;color:black'>The respective records in BRAVE are now available i</span><span style='mso-ascii-font-family: Calibri;mso-hansi-font-family:Calibri;mso-bidi-font-family:Calibri'>n status â€œimpact identifiedâ€<span style='color:black'>. Affected product/country records should be visible on your BRAVE homepage.<span style='mso-spacerun:yes'>Â  </span><o:p></o:p></span></span></p>  <p class=MsoPlainText><span class=ui-provider><span style='mso-ascii-font-family: Calibri;mso-hansi-font-family:Calibri;mso-bidi-font-family:Calibri'>The regulatory action for your country as proposed by CAT is given in the â€˜Regulatory assessment per countryâ€™ field.&nbsp;</span></span><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri;mso-bidi-font-family: Calibri;mso-fareast-language:KO'><o:p></o:p></span></p>  <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family: Calibri;mso-bidi-font-family:Calibri;mso-fareast-language:KO'><o:p>&nbsp;</o:p></span></p>  <p class=MsoPlainText><b><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family: Calibri;mso-bidi-font-family:Calibri;mso-fareast-language:KO'>Please note the required dispatch of this variation will follow later via BRAVE GCP/SCP once documentation has been created.<span style='mso-spacerun:yes'>Â  </span></span></b><b><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri;mso-bidi-font-family: Calibri'><o:p></o:p></span></b></p>  <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family: Calibri;mso-bidi-font-family:Calibri'><o:p>&nbsp;</o:p></span></p>  <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family: Calibri;mso-bidi-font-family:Calibri'><o:p>&nbsp;</o:p></span></p>  <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family: Calibri;mso-bidi-font-family:Calibri'>Record details are as follows:<o:p></o:p></span></p>  <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family: Calibri;mso-bidi-font-family:Calibri'><o:p>&nbsp;</o:p></span></p>  <table class=Tabellenraster border=1 cellspacing=0 cellpadding=0  style='margin-left:.5in;border-collapse:collapse;border:none;mso-border-alt:  solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0in 5.4pt 0in 5.4pt'>  <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>   <td width=226 valign=top style='width:169.3pt;border:solid windowtext 1.0pt;   mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>   <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family:   Calibri;mso-bidi-font-family:Calibri'>Regulatory Event   Code:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   <span style='color:#2E75B6'><o:p></o:p></span></span></p>   </td>   <td width=331 valign=top style='width:248.05pt;border:solid windowtext 1.0pt;   border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:   solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>   <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-fareast-font-family:   DengXian;mso-hansi-font-family:Calibri;mso-bidi-font-family:Calibri'>regulatory_event_code<o:p></o:p></span></p>   </td>  </tr>  <tr style='mso-yfti-irow:1'>   <td width=226 valign=top style='width:169.3pt;border:solid windowtext 1.0pt;   border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;   padding:0in 5.4pt 0in 5.4pt'>   <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family:   Calibri;mso-bidi-font-family:Calibri'>CA Number:<span style='color:#2E75B6'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   <o:p></o:p></span></span></p>   </td>   <td width=331 valign=top style='width:248.05pt;border-top:none;border-left:   none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;   mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;   mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>   <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family:   Calibri;mso-bidi-font-family:Calibri;color:#4472C4;mso-themecolor:accent1'>ca_number</span><span   style='mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri;   mso-bidi-font-family:Calibri'><o:p></o:p></span></p>   </td>  </tr>  <tr style='mso-yfti-irow:2'>   <td width=226 valign=top style='width:169.3pt;border:solid windowtext 1.0pt;   border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;   padding:0in 5.4pt 0in 5.4pt'>   <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family:   Calibri;mso-bidi-font-family:Calibri'>Products Concerned:<span   style='color:#2E75B6'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <o:p></o:p></span></span></p>   </td>   <td width=331 valign=top style='width:248.05pt;border-top:none;border-left:   none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;   mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;   mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>   <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family:   Calibri;mso-bidi-font-family:Calibri;color:#4472C4;mso-themecolor:accent1'>products</span><span   style='mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri;   mso-bidi-font-family:Calibri'><o:p></o:p></span></p>   </td>  </tr>  <tr style='mso-yfti-irow:3;mso-yfti-lastrow:yes'>   <td width=226 valign=top style='width:169.3pt;border:solid windowtext 1.0pt;   border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;   padding:0in 5.4pt 0in 5.4pt'>   <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family:   Calibri;mso-bidi-font-family:Calibri'>Description:<span style='color:#2E75B6'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   <o:p></o:p></span></span></p>   </td>   <td width=331 valign=top style='width:248.05pt;border-top:none;border-left:   none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;   mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;   mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>   <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family:   Calibri;mso-bidi-font-family:Calibri;color:#4472C4;mso-themecolor:accent1'>event_description<o:p></o:p></span></p>   <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family:   Calibri;mso-bidi-font-family:Calibri'><o:p>&nbsp;</o:p></span></p>   <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family:   Calibri;mso-bidi-font-family:Calibri'><o:p>&nbsp;</o:p></span></p>   <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family:   Calibri;mso-bidi-font-family:Calibri'><o:p>&nbsp;</o:p></span></p>   <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family:   Calibri;mso-bidi-font-family:Calibri'><o:p>&nbsp;</o:p></span></p>   <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family:   Calibri;mso-bidi-font-family:Calibri'><o:p>&nbsp;</o:p></span></p>   <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family:   Calibri;mso-bidi-font-family:Calibri'><o:p>&nbsp;</o:p></span></p>   <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family:   Calibri;mso-bidi-font-family:Calibri'><o:p>&nbsp;</o:p></span></p>   <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family:   Calibri;mso-bidi-font-family:Calibri'><o:p>&nbsp;</o:p></span></p>   <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family:   Calibri;mso-bidi-font-family:Calibri'><o:p>&nbsp;</o:p></span></p>   </td>  </tr> </table>  <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family: Calibri;mso-bidi-font-family:Calibri'><o:p>&nbsp;</o:p></span></p>  <p class=MsoNormal><span style='mso-fareast-font-family:\"Times New Roman\"'><o:p>&nbsp;</o:p></span></p>  <p class=MsoNormal><span class=ui-provider>In case the regulatory action as proposed per CATWEB is:</span><span style='mso-fareast-font-family:\"Times New Roman\"'> </span><span style='mso-fareast-font-family:Calibri;mso-fareast-theme-font: minor-latin'><o:p></o:p></span></p>  <p class=MsoNormal style='mso-margin-top-alt:auto;margin-bottom:12.0pt; margin-left:.5in;text-indent:-.25in;mso-list:l2 level1 lfo2'><![if !supportLists]><span style='mso-ascii-font-family:Calibri;mso-fareast-font-family:Calibri; mso-hansi-font-family:Calibri;mso-bidi-font-family:Calibri'><span style='mso-list:Ignore'>-<span style='font:7.0pt \"Times New Roman\"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><span style='mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri;mso-bidi-font-family:Calibri'>â€œDo and Tellâ€ <span class=GramE>( e.g.</span> annual report)&nbsp; - please update BRAVE and set the respective records to â€œgreen lightâ€ if you agree. If the information provided in the description is too limited, please wait until the variation package including the Country Information Letter has been dispatched to your country to set the respective records to â€œgreen lightâ€ in case of agreement.&nbsp;</span><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family: Calibri;mso-bidi-font-family:Calibri;mso-fareast-language:KO'>&quot;Green light&quot; will indicate to product supply that the change can be implemented directly.</span><span style='mso-ascii-font-family:Calibri;mso-fareast-font-family: Calibri;mso-fareast-theme-font:minor-latin;mso-hansi-font-family:Calibri; mso-bidi-font-family:Calibri'><o:p></o:p></span></p>  <ul type=disc>  <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;      mso-list:l0 level1 lfo5;tab-stops:list .5in'><span style='mso-fareast-font-family:      \"Times New Roman\";mso-fareast-language:KO'>â€œno submission/internal      agreementâ€<i> </i><span class=GramE>-&nbsp; <span style='mso-fareast-language:      ZH-CN'>In</span></span></span><span style='mso-fareast-font-family:\"Times New Roman\"'>      that case the variation will not be dispatched to your country. If you      agree to &quot;no action&quot; assessment, the activity lifecycle will be      promoted to â€œgreen lightâ€; Regulatory Objective and Submission object      lifecycle state will be changed to â€œinactiveâ€ <u>centrally</u>. (If the CA      has potential effect on <span class=GramE>labeling</span> please update      the records locally). </span><span style='mso-fareast-font-family:Calibri;      mso-fareast-theme-font:minor-latin'><o:p></o:p></span></li> </ul>  <p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto; margin-left:.5in'>In case you do not agree to the &quot;no action&quot; evaluation, please inform within 5 working days via using the BRAVE workflow.&nbsp;<span style='mso-fareast-font-family:Calibri;mso-fareast-theme-font: minor-latin'><o:p></o:p></span></p>  <p class=MsoPlainText><span style='mso-ascii-font-family:Calibri;mso-hansi-font-family: Calibri;mso-bidi-font-family:Calibri'><o:p>&nbsp;</o:p></span></p>  <p class=MsoNormal>If you have any further questions, please contact responsible <b><span style='color:#0070C0'>CMC Manager XXXXXXXX</span></b></p>  <p class=MsoNormal><o:p>&nbsp;</o:p></p>  <p class=MsoNormal>Regards</p>  </div>  </body>  </html>",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "test topic",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "token",
                "pt": "msg",
                "to": "eyJ0eXAiOiJKV1QiLCJub25jZSI6ImJBLXkwTkhOd0gzWmxxMlg2LV9HdWNnYWx1eS1JcEpaWS1hNFlsNkhrcTgiLCJhbGciOiJSUzI1NiIsIng1dCI6Ii1LSTNROW5OUjdiUm9meG1lWm9YcWJIWkdldyIsImtpZCI6Ii1LSTNROW5OUjdiUm9meG1lWm9YcWJIWkdldyJ9",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "from",
                "pt": "msg",
                "to": "xiaoli.huang@bayer.com",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "content~>$replace(\"mail_list\",\"test mailsssssss\")~>$replace(\"regulatory_event_code\",\"test RECRECREC\")",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 680,
        "y": 420,
        "wires": [
            [
                "756184b39f841e9b",
                "a90be977ac99a493"
            ]
        ]
    },
    {
        "id": "756184b39f841e9b",
        "type": "e-mail",
        "z": "8ee14c6a72c20a1f",
        "server": "ebr.bayer.com",
        "port": "2525",
        "authtype": "BASIC",
        "saslformat": false,
        "token": "token",
        "secure": false,
        "tls": true,
        "name": "di.wang3@bayer.com",
        "dname": "test mail",
        "x": 920,
        "y": 420,
        "wires": []
    },
    {
        "id": "ff995a71488d1778",
        "type": "brave-retrieve-settings",
        "z": "8ee14c6a72c20a1f",
        "name": "",
        "x": 710,
        "y": 360,
        "wires": [
            [
                "89477343e5cf030c"
            ],
            [
                "9eedbdfb30ded82d"
            ]
        ]
    }
]